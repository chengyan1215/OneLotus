

/*
jqxbuttons,jqxcalendar,jqxcombobox,jqxdatetimeinput,jqxlistbox,jqxnumberinput,jqxscrollbar
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx=a.jqx||{};a.jqx.define=function(b,c,d){b[c]=function(){if(this.baseType){this.base=new b[this.baseType]();this.base.defineInstance()}this.defineInstance()};b[c].prototype.defineInstance=function(){};b[c].prototype.base=null;b[c].prototype.baseType=undefined;if(d&&b[d]){b[c].prototype.baseType=d}};a.jqx.invoke=function(e,d){if(d.length==0){return}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):a({}).toArray();while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]!=undefined&&a.isFunction(e[f])){return e[f].apply(e,c)}if(typeof f=="string"){var b=f.toLowerCase();return e[b].apply(e,c)}return};a.jqx.hasProperty=function(c,b){if(typeof(b)=="object"){for(var e in b){var d=c;while(d){if(d.hasOwnProperty(e)){return true}d=d.base}return false}}else{while(c){if(c.hasOwnProperty(b)){return true}c=c.base}}return false};a.jqx.hasFunction=function(e,d){if(d.length==0){return false}if(e==undefined){return false}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):{};while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]&&a.isFunction(e[f])){return true}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]&&a.isFunction(e[b])){return true}}return false};a.jqx.isPropertySetter=function(c,b){if(b.length==1&&typeof(b[0])=="object"){return true}if(b.length==2&&typeof(b[0])=="string"&&!a.jqx.hasFunction(c,b)){return true}return false};a.jqx.validatePropertySetter=function(e,c,b){if(!a.jqx.propertySetterValidation){return true}if(c.length==1&&typeof(c[0])=="object"){for(var d in c[0]){var f=e;while(!f.hasOwnProperty(d)&&f.base){f=f.base}if(!f||!f.hasOwnProperty(d)){if(!b){throw"Invalid property: "+d}return false}}return true}if(c.length!=2){if(!b){throw"Invalid property: "+c.length>=0?c[0]:""}return false}while(!e.hasOwnProperty(c[0])&&e.base){e=e.base}if(!e||!e.hasOwnProperty(c[0])){if(!b){throw"Invalid property: "+c[0]}return false}return true};a.jqx.set=function(c,b){if(b.length==1&&typeof(b[0])=="object"){a.each(b[0],function(d,e){var f=c;while(!f.hasOwnProperty(d)&&f.base!=null){f=f.base}if(f.hasOwnProperty(d)){a.jqx.setvalueraiseevent(f,d,e)}else{if(a.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+d+"'"}}})}else{if(b.length==2){while(!c.hasOwnProperty(b[0])&&c.base){c=c.base}if(c.hasOwnProperty(b[0])){a.jqx.setvalueraiseevent(c,b[0],b[1])}else{if(a.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+b[0]+"'"}}}}};a.jqx.setvalueraiseevent=function(c,d,e){var b=c[d];c[d]=e;if(!c.isInitialized){return}if(c.propertyChangedHandler!=undefined){c.propertyChangedHandler(c,d,b,e)}if(c.propertyChangeMap!=undefined&&c.propertyChangeMap[d]!=undefined){c.propertyChangeMap[d](c,d,b,e)}};a.jqx.get=function(e,d){if(d==undefined||d==null){return undefined}if(e.propertyMap){var c=e.propertyMap(d);if(c!=null){return c}}if(e.hasOwnProperty(d)){return e[d]}var b=undefined;if(typeof(d)==Array){if(d.length!=1){return undefined}b=d[0]}else{if(typeof(d)=="string"){b=d}}while(!e.hasOwnProperty(b)&&e.base){e=e.base}if(e){return e[b]}return undefined};a.jqx.serialize=function(e){var b="";if(a.isArray(e)){b="[";for(var d=0;d<e.length;d++){if(d>0){b+=", "}b+=a.jqx.serialize(e[d])}b+="]"}else{if(typeof(e)=="object"){b="{";var c=0;for(var d in e){if(c++>0){b+=", "}b+=d+": "+a.jqx.serialize(e[d])}b+="}"}else{b=e.toString()}}return b};a.jqx.propertySetterValidation=true;a.jqx.jqxWidgetProxy=function(g,c,b){var d=a(c);var f=a.data(c,g);if(f==undefined){return undefined}var e=f.instance;if(a.jqx.hasFunction(e,b)){return a.jqx.invoke(e,b)}if(a.jqx.isPropertySetter(e,b)){if(a.jqx.validatePropertySetter(e,b)){a.jqx.set(e,b);return undefined}}else{if(typeof(b)=="object"&&b.length==0){return}else{if(typeof(b)=="object"&&b.length==1&&a.jqx.hasProperty(e,b[0])){return a.jqx.get(e,b[0])}else{if(typeof(b)=="string"&&a.jqx.hasProperty(e,b[0])){return a.jqx.get(e,b)}}}}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(b)+"' does not exist.";return undefined};a.jqx.jqxWidget=function(b,d,k){var c=false;try{jqxArgs=Array.prototype.slice.call(k,0)}catch(h){jqxArgs=""}try{c=window.MSApp!=undefined}catch(h){}var g=b;var f="";if(d){f="_"+d}a.jqx.define(a.jqx,"_"+g,f);a.fn[g]=function(){var e=Array.prototype.slice.call(arguments,0);var l=null;if(e.length==0||(e.length==1&&typeof(e[0])=="object")){return this.each(function(){var p=a(this);var o=this;var r=a.data(o,g);if(r==null){r={};r.element=o;r.host=p;r.instance=new a.jqx["_"+g]();if(o.id==""){o.id=a.jqx.utilities.createId()}r.instance.get=r.instance.set=r.instance.call=function(){var s=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(g,o,s)};a.data(o,g,r);a.data(o,"jqxWidget",r.instance);var q=new Array();var m=r.instance;while(m){m.isInitialized=false;q.push(m);m=m.base}q.reverse();q[0].theme="";a.jqx.jqxWidgetProxy(g,this,e);for(var n in q){m=q[n];if(n==0){m.host=p;m.element=o;m.WinJS=c}if(m!=undefined){if(m.createInstance!=null){if(c){MSApp.execUnsafeLocalFunction(function(){m.createInstance(e)})}else{m.createInstance(e)}}}}for(var n in q){if(q[n]!=undefined){q[n].isInitialized=true}}if(c){MSApp.execUnsafeLocalFunction(function(){r.instance.refresh(true)})}else{r.instance.refresh(true)}l=this}else{a.jqx.jqxWidgetProxy(g,this,e)}})}else{this.each(function(){var m=a.jqx.jqxWidgetProxy(g,this,e);if(l==null){l=m}})}return l};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(k,0)[0])}catch(h){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(e,l){if(this.theme==""){return e}if(l!=null&&l){return e+"-"+this.theme}return e+" "+e+"-"+this.theme}});a.jqx["_"+g].prototype.refresh=function(){if(this.base){this.base.refresh()}};a.jqx["_"+g].prototype.createInstance=function(){};a.jqx["_"+g].prototype.propertyChangeMap={};a.jqx["_"+g].prototype.addHandler=function(n,l,e,m){switch(l){case"mousewheel":if(window.addEventListener){if(a.jqx.browser.mozilla){n[0].addEventListener("DOMMouseScroll",e,false)}else{n[0].addEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(window.addEventListener&&!m){n[0].addEventListener("mousemove",e,false);return false}break}if(m==undefined||m==null){if(n.on){n.on(l,e)}else{n.bind(l,e)}}else{if(n.on){n.on(l,m,e)}else{n.bind(l,m,e)}}};a.jqx["_"+g].prototype.removeHandler=function(m,l,e){switch(l){case"mousewheel":if(window.removeEventListener){if(a.jqx.browser.mozilla){m[0].removeEventListener("DOMMouseScroll",e,false)}else{m[0].removeEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(a.jqx.browser.msie&&a.jqx.browser.version>=9){if(window.removeEventListener){m[0].removeEventListener("mousemove",e,false)}}break}if(l==undefined){if(m.off){m.off()}else{m.unbind()}return}if(e==undefined){if(m.off){m.off(l)}else{m.unbind(l)}}else{if(m.off){m.off(l,e)}else{m.unbind(l,e)}}}};a.jqx.utilities=a.jqx.utilities||{};a.extend(a.jqx.utilities,{createId:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return"jqxWidget"+b()+b()+b()},setTheme:function(f,g,e){if(typeof e==="undefined"){return}var h=e[0].className.split(" "),b=[],k=[],d=e.children();for(var c=0;c<h.length;c+=1){if(h[c].indexOf(f)>=0){if(f.length>0){b.push(h[c]);k.push(h[c].replace(f,g))}else{k.push(h[c]+"-"+g)}}}this._removeOldClasses(b,e);this._addNewClasses(k,e);for(var c=0;c<d.length;c+=1){this.setTheme(f,g,a(d[c]))}},_removeOldClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.removeClass(d[b])}},_addNewClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.addClass(d[b])}},getOffset:function(b){var d=a.jqx.mobile.getLeftPos(b[0]);var c=a.jqx.mobile.getTopPos(b[0]);return{top:c,left:d}},html:function(b,c){if(!a(b).on){return a(b).html(c)}return jQuery.access(b,function(s){var d=b[0]||{},m=0,h=b.length;if(s===undefined){return d.nodeType===1?d.innerHTML.replace(rinlinejQuery,""):undefined}var r=/<(?:script|style|link)/i,n="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/<([\w:]+)/,f=/<(?:script|object|embed|option|style)/i,k=new RegExp("<(?:"+n+")[\\s/>]","i"),q=/^\s+/,t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(typeof s==="string"&&!r.test(s)&&(jQuery.support.htmlSerialize||!k.test(s))&&(jQuery.support.leadingWhitespace||!q.test(s))&&!t[(p.exec(s)||["",""])[1].toLowerCase()]){s=s.replace(g,"<$1></$2>");try{for(;m<h;m++){d=this[m]||{};if(d.nodeType===1){jQuery.cleanData(d.getElementsByTagName("*"));d.innerHTML=s}}d=0}catch(o){}}if(d){b.empty().append(s)}},null,c,arguments.length)},hasTransform:function(d){var c="";c=d.css("transform");if(c==""||c=="none"){c=d.parents().css("transform");if(c==""||c=="none"){var b=a.jqx.utilities.getBrowser();if(b.browser=="msie"){c=d.css("-ms-transform");if(c==""||c=="none"){c=d.parents().css("-ms-transform")}}else{if(b.browser=="chrome"){c=d.css("-webkit-transform");if(c==""||c=="none"){c=d.parents().css("-webkit-transform")}}else{if(b.browser=="opera"){c=d.css("-o-transform");if(c==""||c=="none"){c=d.parents().css("-o-transform")}}else{if(b.browser=="mozilla"){c=d.css("-moz-transform");if(c==""||c=="none"){c=d.parents().css("-moz-transform")}}}}}}else{return c!=""&&c!="none"}}if(c==""||c=="none"){c=a(document.body).css("transform")}return c!=""&&c!="none"&&c!=null},getBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];var d={browser:b[1]||"",version:b[2]||"0"};d[b[1]]=b[1];return d}});a.jqx.browser=a.jqx.utilities.getBrowser();a.jqx.isHidden=function(d){try{if(d.css("display")=="none"){return true}var e=false;var c=d.parents();a.each(c,function(){if(a(this).css("display")=="none"){e=true;return false}});return e}catch(b){return false}};a.jqx.aria=function(c,e,d){if(e==undefined){a.each(c.aria,function(g,h){var l=c.host.attr(g);if(l!=undefined&&!a.isFunction(l)){var k=l;switch(h.type){case"number":k=new Number(l);if(isNaN(k)){k=l}break;case"boolean":k=l=="true"?true:false;break;case"date":k=new Date(l);if(k=="Invalid Date"||isNaN(k)){k=l}break}c[h.name]=k}else{var l=c[h.name];if(a.isFunction(l)){l=c[h.name]()}if(l==undefined){l=""}try{c.host.attr(g,l.toString())}catch(f){}}})}else{try{c.host.attr(e,d.toString())}catch(b){}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;var d=Number(arguments[1])||0;d=(d<0)?Math.ceil(d):Math.floor(d);if(d<0){d+=b}for(;d<b;d++){if(d in this&&this[d]===c){return d}}return -1}}a.jqx.mobile=a.jqx.mobile||{};a.jqx.position=function(b){var e=parseInt(b.pageX);var d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var c=a.jqx.mobile.getTouches(b);var f=c[0];e=parseInt(f.pageX);d=parseInt(f.pageY)}return{left:e,top:d}};a.extend(a.jqx.mobile,{_touchListener:function(h,f){var b=function(k,m){var l=document.createEvent("MouseEvents");l.initMouseEvent(k,m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget);l._pageX=m.pageX;l._pageY=m.pageY;return l};var g={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var d=b(g[h.type],h);h.target.dispatchEvent(d);var c=h.target["on"+g[h.type]];if(typeof c==="function"){c(h)}},setMobileSimulator:function(c,e){if(this.isTouchDevice()){return}this.simulatetouches=true;if(e==false){this.simulatetouches=false}var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var b=this;if(window.addEventListener){var f=function(){for(var g in d){if(c.addEventListener){c.removeEventListener(g,b._touchListener);c.addEventListener(g,b._touchListener,false)}}};if(a.jqx.browser.msie){f()}else{window.addEventListener("load",function(){f()},false)}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("Android")!=-1){return true}if(b.indexOf("IEMobile")!=-1){return true}if(b.indexOf("Windows Phone OS")!=-1){return true}if(b.indexOf("Windows Phone 6.5")!=-1){return true}if(b.indexOf("BlackBerry")!=-1&&b.indexOf("Mobile Safari")!=-1){return true}if(b.indexOf("ipod")!=-1){return true}if(b.indexOf("nokia")!=-1||b.indexOf("Nokia")!=-1){return true}if(b.indexOf("Chrome/17")!=-1){return false}if(b.indexOf("Opera")!=-1&&b.indexOf("Mobi")==-1&&b.indexOf("Mini")==-1&&b.indexOf("Platform: Win")!=-1){return false}if(b.indexOf("Opera")!=-1&&b.indexOf("Mobi")!=-1&&b.indexOf("Opera Mobi")!=-1){return true}var c={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined){return this.touchDevice}this.touchDevice=false;for(i in c){if(c.hasOwnProperty(i)){prefix=c[i];match=b.match(new RegExp("(?:"+prefix+")([^\\s;]+)"));if(match){this.touchDevice=true;return true}}}if(navigator.platform.toLowerCase().indexOf("win")!=-1){this.touchDevice=false;return false}document.createEvent("TouchEvent");this.touchDevice=true;return this.touchDevice}catch(d){this.touchDevice=false;return false}},getLeftPos:function(b){var c=b.offsetLeft;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=b.offsetLeft;if(document.all){c+=b.clientLeft}}}return c},getTopPos:function(b){var c=b.offsetTop;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=(b.offsetTop-b.scrollTop);if(document.all){c+=b.clientTop}}}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return c}c=c+a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("android")!=-1;return b},isOperaMiniMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1||c.indexOf("opera mobi")!=-1;return b},isOperaMiniBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1;return b},isNewSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/5")!=-1);return b},isSafari4MobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/4")!=-1);return b},isWindowsPhone:function(){var c=navigator.userAgent.toLowerCase();var b=(c.indexOf("msie 11")!=-1||c.indexOf("msie 10")!=-1)&&c.indexOf("touch")!=-1;return b},isSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;return b},isIPadSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1;return b},isMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("android")!=-1;return b},getTouches:function(b){if(b.originalEvent){if(b.originalEvent.touches&&b.originalEvent.touches.length){return b.originalEvent.touches}else{if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length){return b.originalEvent.changedTouches}}}if(!b.touches){b.touches=new Array();b.touches[0]=b.originalEvent!=undefined?b.originalEvent:b;if(b.originalEvent!=undefined&&b.pageX){b.touches[0]=b}if(b.type=="mousemove"){b.touches[0]=b}}return b.touches},getTouchEventName:function(b){if(this.isWindowsPhone()){if(b.toLowerCase().indexOf("start")!=-1){return"MSPointerDown"}if(b.toLowerCase().indexOf("move")!=-1){return"MSPointerMove"}if(b.toLowerCase().indexOf("end")!=-1){return"MSPointerUp"}}else{return b}},dispatchMouseEvent:function(b,f,d){if(this.simulatetouches){return}var c=document.createEvent("MouseEvent");c.initMouseEvent(b,true,true,f.view,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,0,null);if(d!=null){d.dispatchEvent(c)}},getRootNode:function(b){while(b.nodeType!==1){b=b.parentNode}return b},setTouchScroll:function(b,c){if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[c]=b},touchScroll:function(c,x,f,C){if(c==null){return}var A=this;var s=0;var h=0;var k=0;var t=0;var l=0;var m=0;if(!this.scrolling){this.scrolling=[]}this.scrolling[C]=false;var g=false;var p=a(c);var u=["select","input","textarea"];var b=0;var d=0;if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[C]=true;var C=C;var B=this.getTouchEventName("touchstart")+".touchScroll";var o=this.getTouchEventName("touchend")+".touchScroll";var z=this.getTouchEventName("touchmove")+".touchScroll";var b=function(D){if(!A.enableScrolling[C]){return true}if(a.inArray(D.target.tagName.toLowerCase(),u)!==-1){return}var E=A.getTouches(D);var F=E[0];if(E.length==1){A.dispatchMouseEvent("mousedown",F,A.getRootNode(F.target))}g=false;h=F.pageY;l=F.pageX;if(A.simulatetouches){h=F._pageY;l=F._pageX}A.scrolling[C]=true;s=0;t=0;return true};if(p.on){p.on(B,b)}else{p.bind(B,b)}var w=function(H){if(!A.enableScrolling[C]){return true}if(!A.scrolling[C]){return true}var I=A.getTouches(H);if(I.length>1){return true}var F=I[0].pageY;var G=I[0].pageX;if(A.simulatetouches){F=I[0]._pageY;G=I[0]._pageX}var D=F-h;var E=G-l;d=F;touchHorizontalEnd=G;k=D-s;m=E-t;g=true;s=D;t=E;f(-m*3,-k*3,E,D,H);H.preventDefault();H.stopPropagation();if(H.preventManipulation){H.preventManipulation()}return false};if(p.on){p.on(z,w)}else{p.bind(z,w)}if(this.simulatetouches){var n=a(window).on!=undefined||a(window).bind;var y=function(D){A.scrolling[C]=false};a(window).on!=undefined?a(window).on("mouseup.touchScroll",y):a(window).bind("mouseup.touchScroll",y);if(window.frameElement){if(window.top!=null){var q=function(D){A.scrolling[C]=false};if(window.top.document){a(window.top.document).on?a(window.top.document).on("mouseup",q):a(window.top.document).bind("mouseup",q)}}}var r=a(document).on!=undefined||a(document).bind;var v=function(D){if(!A.scrolling[C]){return true}A.scrolling[C]=false;var F=A.getTouches(D)[0],E=A.getRootNode(F.target);A.dispatchMouseEvent("mouseup",F,E);A.dispatchMouseEvent("click",F,E)};a(document).on!=undefined?a(document).on("touchend",v):a(document).bind("touchend",v)}var e=function(D){if(!A.enableScrolling[C]){return true}var F=A.getTouches(D)[0];if(!A.scrolling[C]){return true}A.scrolling[C]=false;if(g){A.dispatchMouseEvent("mouseup",F,E)}else{var F=A.getTouches(D)[0],E=A.getRootNode(F.target);A.dispatchMouseEvent("mouseup",F,E);A.dispatchMouseEvent("click",F,E);return true}};p.on?p.on(o+" touchcancel.touchScroll",e):p.bind(o+" touchcancel.touchScroll",e)}});a.jqx.cookie=a.jqx.cookie||{};a.extend(a.jqx.cookie,{cookie:function(e,f,c){if(arguments.length>1&&String(f)!=="[object Object]"){c=jQuery.extend({},c);if(f===null||f===undefined){c.expires=-1}if(typeof c.expires==="number"){var h=c.expires,d=c.expires=new Date();d.setDate(d.getDate()+h)}f=String(f);return(document.cookie=[encodeURIComponent(e),"=",c.raw?f:encodeURIComponent(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""))}c=f||{};var b,g=c.raw?function(k){return k}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?g(b[1]):null}});a.jqx.string=a.jqx.string||{};a.extend(a.jqx.string,{contains:function(b,c){if(b==null||c==null){return false}return b.indexOf(c)!=-1},containsIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().indexOf(c.toUpperCase())!=-1},equals:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.slice(0,c.length)==c}return false},equalsIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.toUpperCase().slice(0,c.length)==c.toUpperCase()}return false},startsWith:function(b,c){if(b==null||c==null){return false}return b.slice(0,c.length)==c},startsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().slice(0,c.length)==c.toUpperCase()},normalize:function(b){if(b.charCodeAt(b.length-1)==65279){b=b.substring(0,b.length-1)}return b},endsWith:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.slice(-c.length)==c},endsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.toUpperCase().slice(-c.length)==c.toUpperCase()}});a.extend(jQuery.easing,{easeOutBack:function(f,g,e,l,k,h){if(h==undefined){h=1.70158}return l*((g=g/k-1)*g*((h+1)*g+h)+1)+e},easeInQuad:function(f,g,e,k,h){return k*(g/=h)*g+e},easeInOutCirc:function(f,g,e,k,h){if((g/=h/2)<1){return -k/2*(Math.sqrt(1-g*g)-1)+e}return k/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInOutSine:function(f,g,e,k,h){return -k/2*(Math.cos(Math.PI*g/h)-1)+e},easeInCubic:function(f,g,e,k,h){return k*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,k,h){return k*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,k,h){if((g/=h/2)<1){return k/2*g*g*g+e}return k/2*((g-=2)*g*g+2)+e},easeInSine:function(f,g,e,k,h){return -k*Math.cos(g/h*(Math.PI/2))+k+e},easeOutSine:function(f,g,e,k,h){return k*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,k,h){return -k/2*(Math.cos(Math.PI*g/h)-1)+e}})})(jQuery);(function(b){b.fn.extend({ischildof:function(d){var c=b(this).parents().get();for(j=0;j<c.length;j++){if(b(c[j]).is(d)){return true}}return false}});var a=this.originalVal=b.fn.val;b.fn.val=function(d){if(typeof d=="undefined"){if(b(this).hasClass("jqx-widget")){var c=b(this).data().jqxWidget;if(c&&c.val){return c.val()}}return a.call(this)}else{if(b(this).hasClass("jqx-widget")){var c=b(this).data().jqxWidget;if(c&&c.val){if(arguments.length!=2){return c.val(d)}else{return c.val(d,arguments[1])}}}return a.call(this,d)}};b.fn.coord=function(d){var c,k,g={top:0,left:0},f=this[0],h=f&&f.ownerDocument;if(!h){return}c=h.documentElement;if(!jQuery.contains(c,f)){return g}if(typeof f.getBoundingClientRect!==undefined){g=f.getBoundingClientRect()}var e=function(l){return jQuery.isWindow(l)?l:l.nodeType===9?l.defaultView||l.parentWindow:false};k=e(h);return{top:g.top+(k.pageYOffset||c.scrollTop)-(c.clientTop||0),left:g.left+(k.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}})(jQuery);
/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.dataAdapter=function(e,b){this._source=e;this._options=b||{};this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(e!=undefined&&e.localdata!=null&&typeof e.localdata=="function"){var d=e.localdata();if(d!=null){e._localdata=e.localdata;var c=this;if(e._localdata.subscribe){c._oldlocaldata=[];e._localdata.subscribe(function(f){var g=function(h){if(jQuery.isArray(h)){return jQuery.makeArray(g(a(h)))}return jQuery.extend(true,{},h)};c._oldlocaldata=g(f)},e._localdata,"beforeChange");e._localdata.subscribe(function(g){if(c.suspendKO==false||c.suspendKO==undefined){var f="";c._oldrecords=c.records;if(c._oldlocaldata.length==0){e.localdata=e._localdata()}if(c._oldlocaldata.length==0){f="change"}else{if(c._oldlocaldata.length==g.length){f="update"}if(c._oldlocaldata.length>g.length){f="remove"}if(c._oldlocaldata.length<g.length){f="add"}}c.dataBind(null,f)}},e._localdata,"change");c._knockoutdatasource=true}e.localdata=d}}if(this._options.autoBind==true){this.dataBind()}};a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=true},endUpdate:function(b){this.isUpdating=false;if(b!=false){this.dataBind(null,"")}},formatDate:function(c,e,d){var b=a.jqx.dataFormat.formatdate(c,e,d);return b},formatNumber:function(c,e,d){var b=a.jqx.dataFormat.formatnumber(c,e,d);return b},dataBind:function(n,s){if(this.isUpdating==true){return}var p=this._source;if(!p){return}if(p.dataFields!=null){p.datafields=p.dataFields}if(p.recordstartindex==undefined){p.recordstartindex=0}if(p.recordendindex==undefined){p.recordendindex=0}if(p.loadallrecords==undefined){p.loadallrecords=true}if(p.sort!=undefined){this.sort=p.sort}if(p.filter!=undefined){this.filter=p.filter}else{this.filter=null}if(p.sortcolumn!=undefined){this.sortcolumn=p.sortcolumn}if(p.sortdirection!=undefined){this.sortdirection=p.sortdirection}if(p.sortcomparer!=undefined){this.sortcomparer=p.sortcomparer}this.records=new Array();var f=this._options||{};this.virtualmode=f.virtualmode!=undefined?f.virtualmode:false;this.totalrecords=f.totalrecords!=undefined?f.totalrecords:0;this.pageable=f.pageable!=undefined?f.pageable:false;this.pagesize=f.pagesize!=undefined?f.pagesize:0;this.pagenum=f.pagenum!=undefined?f.pagenum:0;this.cachedrecords=f.cachedrecords!=undefined?f.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=f.updaterow!=undefined?f.updaterow:null;this.addrow=f.addrow!=undefined?f.addrow:null;this.deleterow=f.deleterow!=undefined?f.deleterow:null;this.cache=f.cache!=undefined?f.cache:false;this.unboundmode=false;if(p.formatdata!=undefined){f.formatData=p.formatdata}if(p.data!=undefined){if(f.data==undefined){f.data={}}a.extend(f.data,p.data)}if(p.mapchar!=undefined){this.mapChar=p.mapchar?p.mapchar:">"}else{this.mapChar=f.mapChar?f.mapChar:">"}if(f.unboundmode||p.unboundmode){this.unboundmode=f.unboundmode||p.unboundmode}if(p.cache!=undefined){this.cache=p.cache}if(this.koSubscriptions){for(var u=0;u<this.koSubscriptions.length;u++){this.koSubscriptions[u].dispose()}}this.koSubscriptions=new Array();if(this.pagenum<0){this.pagenum=0}var z=this;var m=p.datatype;if(p.datatype==="csv"||p.datatype==="tab"||p.datatype=="text"){m="text"}var h=f.async!=undefined?f.async:true;if(p.async!=undefined){h=p.async}switch(m){case"local":case"array":case"observablearray":default:if(p.localdata==undefined&&p.length){p.localdata=new Array();for(var r=0;r<p.length;r++){p.localdata[p.localdata.length]=p[r]}}var g=p.localdata.length;this.totalrecords=this.virtualmode?(p.totalrecords||g):g;if(this.unboundmode){this.totalrecords=this.unboundmode?(p.totalrecords||g):g;var v=p.datafields?p.datafields.length:0;if(v>0){for(var r=0;r<this.totalrecords;r++){var d={};for(var q=0;q<v;q++){d[p.datafields[q].name]=""}p.localdata[p.localdata.length]=d}}}if(this.totalrecords==undefined){this.totalrecords=0}var v=p.datafields?p.datafields.length:0;var c=function(E,G){var F={};for(var C=0;C<G;C++){var B=p.datafields[C];var H="";if(undefined==B||B==null){continue}if(B.map){var i=B.map.split(z.mapChar);if(i.length>0){var D=E;for(var A=0;A<i.length;A++){D=D[i[A]]}H=D}else{H=E[B.map]}if(H!=undefined&&H!=null){H=H.toString()}else{H=""}}if(H==""){H=E[B.name];if(H!=undefined&&H!=null){if(p._localdata&&H.subscribe){H=H()}else{H=H.toString()}}else{H=""}}H=z.getvaluebytype(H,B);if(B.displayname!=undefined){F[B.displayname]=H}else{F[B.name]=H}}return F};if(p._localdata){this._changedrecords=[];this.records=new Array();var y=p._localdata();a.each(y,function(J,O){if(typeof O==="string"){z.records.push(O)}else{var L={};var M=0;for(var I in this){var C=null;var N="string";if(v>0){var P=false;for(var G=0;G<v;G++){var F=p.datafields[G];if(F!=undefined&&F.name==I){P=true;C=F.map;N=F.type;break}}if(!P){continue}}var E=a.isFunction(this[I]);if(E){var O=this[I]();if(N!="string"){O=z.getvaluebytype(O,{type:N})}L[I]=O;if(this[I].subscribe){z.koSubscriptions[z.koSubscriptions.length]=this[I].subscribe(function(i){z.dataBind(null,null);return false})}}else{var O=this[I];if(C!=null){var B=C.split(z.mapChar);if(B.length>0){var K=this;for(var D=0;D<B.length;D++){K=K[B[D]]}O=K}else{O=this[C]}}if(N!="string"){O=z.getvaluebytype(O,{type:N})}L[I]=O;if(L[I]!=undefined){M+=L[I].toString().length+L[I].toString().substr(0,1)}}}z.records.push(L);L._koindex=M;if(z._oldrecords){var H=z.records.length-1;if(s=="update"){if(z._oldrecords[H]._koindex!=M){var A={index:H,oldrecord:z._oldrecords[H],record:L};z._changedrecords.push(A)}}}}});if(s=="add"){var g=z.records.length;for(var r=0;r<g;r++){var d=z.records[r];if(!z._oldrecords[r]){z._changedrecords.push({index:r,oldrecord:null,record:d})}else{if(z._oldrecords[r]._koindex!=d._koindex){z._changedrecords.push({index:r,oldrecord:null,record:d})}}}}else{if(s=="remove"){var g=z._oldrecords.length;for(var r=0;r<g;r++){var l=z._oldrecords[r];if(!z.records[r]){z._changedrecords.push({index:r,oldrecord:l,record:null})}else{if(z.records[r]._koindex!=l._koindex){z._changedrecords.push({index:r,oldrecord:l,record:null})}}}}}}else{if(!a.isArray(p.localdata)){this.records=new Array();a.each(p.localdata,function(A){if(v>0){var j=this;var B=c(j,v);z.records[z.records.length]=B}else{z.records[z.records.length]=this}})}else{if(v==0){this.records=p.localdata}else{a.each(p.localdata,function(B){var j=this;var C=c(j,v);var A=z.getid(p.id,C,B);if(typeof(A)==="object"){A=B}var j=a.extend({},C);j.uid=A;z.records[z.records.length]=j})}}}this.originaldata=p.localdata;this.cachedrecords=this.records;this.addForeignValues(p);if(f.uniqueDataFields){var o=this.getUniqueRecords(this.records,f.uniqueDataFields);this.records=o;this.cachedrecords=o}if(f.beforeLoadComplete){var w=f.beforeLoadComplete(z.records,this.originaldata);if(w!=undefined){z.records=w;z.cachedrecords=w}}if(f.autoSort&&f.autoSortField){var k=Object.prototype.toString;Object.prototype.toString=(typeof field=="function")?field:function(){return this[f.autoSortField]};z.records.sort();Object.prototype.toString=k}if(a.isFunction(f.loadComplete)){f.loadComplete(p.localdata)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(p.localdata!=null){if(a.isFunction(p.beforeprocessing)){p.beforeprocessing(p.localdata)}if(p.datatype==="xml"){z.loadxml(p.localdata,p.localdata,p)}else{if(m==="text"){z.loadtext(p.localdata,p)}else{z.loadjson(p.localdata,p.localdata,p)}}z.addForeignValues(p);if(f.uniqueDataFields){var o=z.getUniqueRecords(z.records,f.uniqueDataFields);z.records=o;z.cachedrecords=o}if(a.isFunction(f.loadComplete)){f.loadComplete(p.localdata)}return}var x=f.data!=undefined?f.data:{};if(p.processdata){p.processdata(x)}if(a.isFunction(f.processData)){f.processData(x)}if(a.isFunction(f.formatData)){var b=f.formatData(x);if(b!=undefined){x=b}}var t="application/x-www-form-urlencoded";if(f.contentType){t=f.contentType}var e="GET";if(p.type){e=p.type}if(f.type){e=f.type}if(p.url&&p.url.length>0){if(a.isFunction(f.loadServerData)){z._requestData(x,p,f)}else{this.xhr=a.ajax({dataType:m,cache:this.cache,type:e,url:p.url,async:h,contentType:t,data:x,success:function(B,i,E){if(a.isFunction(p.beforeprocessing)){var D=p.beforeprocessing(B,i,E);if(D!=undefined){B=D}}if(a.isFunction(f.downloadComplete)){var D=f.downloadComplete(B,i,E);if(D!=undefined){B=D}}if(B==null){z.records=new Array();z.cachedrecords=new Array();z.originaldata=new Array();z.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(new Array())}return}var j=B;if(B.records){j=B.records}if(B.totalrecords!=undefined){p.totalrecords=B.totalrecords}if(p.datatype==="xml"){z.loadxml(null,j,p)}else{if(m==="text"){z.loadtext(j,p)}else{z.loadjson(null,j,p)}}z.addForeignValues(p);if(f.uniqueDataFields){var A=z.getUniqueRecords(z.records,f.uniqueDataFields);z.records=A;z.cachedrecords=A}if(f.beforeLoadComplete){var C=f.beforeLoadComplete(z.records,B);if(C!=undefined){z.records=C;z.cachedrecords=C}}z.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(B)}},error:function(A,i,j){if(a.isFunction(p.loaderror)){p.loaderror(A,i,j)}if(a.isFunction(f.loadError)){f.loadError(A,i,j)}A=null;z.callDownloadComplete()},beforeSend:function(j,i){if(a.isFunction(f.beforeSend)){f.beforeSend(j,i)}if(a.isFunction(p.beforesend)){p.beforesend(j,i)}}})}}else{z.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(data)}}break}this.callBindingUpdate(s)},addForeignValues:function(c){var n=this;var t=c.datafields?c.datafields.length:0;for(var k=0;k<t;k++){var g=c.datafields[k];if(g!=undefined){if(g.values!=undefined){if(g.value==undefined){g.value=g.name}if(g.values.value==undefined){g.values.value=g.value}var r=new Array();var f,h;if(n.pageable&&n.virtualmode){f=n.pagenum*n.pagesize;h=f+n.pagesize;if(h>n.totalrecords){h=n.totalrecords}}else{f=0;h=n.records.length}for(var l=f;l<h;l++){var m=n.records[l];var d=g.name;var s=m[g.value];if(r[s]!=undefined){m[d]=r[s]}else{for(var e=0;e<g.values.source.length;e++){var q=g.values.source[e];var b=q[g.values.value];if(b==undefined){b=q.uid}if(b==s){var o=q[g.values.name];m[d]=o;r[s]=o;break}}}}}else{if(g.value!=undefined){for(var l=0;l<n.records.length;l++){var m=n.records[l];m[g.name]=m[g.value]}}}}}},abort:function(){if(this.xhr&&this.xhr.readyState!=4){this.xhr.abort()}},_requestData:function(c,e,b){var d=this;var f=function(g){if(g.totalrecords){e.totalrecords=g.totalrecords;d.totalrecords=g.totalrecords}if(g.records){d.records=g.records;d.cachedrecords=g.records}if(a.isFunction(b.loadComplete)){b.loadComplete(data)}d.callDownloadComplete()};b.loadServerData(c,e,f)},getUniqueRecords:function(d,g){if(d&&g){var b=d.length;var l=g.length;var i=new Array();var j=new Array();for(var k=0;k<b;k++){var h=d[k];var e="";if(h==undefined){continue}for(var f=0;f<l;f++){var c=g[f];e+=h[c]+"_"}if(!j[e]){i[i.length]=h}j[e]=true}}return i},getAggregatedData:function(n,h,f){var e=f;if(!e){e=this.records}var k={};var d=e.length;if(d==0){return}if(d==undefined){return}for(var l=0;l<d;l++){var m=e[l];for(var g=0;g<n.length;g++){var c=n[g];var p=m[c.name];if(c.aggregates){k[c.name]=k[c.name]||{};var b=function(i){for(obj in i){var j=k[c.name][obj];if(j==null){k[c.name][obj]=0;j=0}if(a.isFunction(i[obj])){j=i[obj](j,p,c.name,m)}k[c.name][obj]=j}};var o=parseFloat(p);if(isNaN(o)){o=false}else{o=true}if(o){p=parseFloat(p)}if(typeof p==="number"&&isFinite(p)){a.each(c.aggregates,function(){var i=k[c.name][this];if(i==null){i=0;if(this=="min"){i=9999999999999}}if(this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){i+=parseFloat(p)}else{if(this=="product"){if(l==0){i=parseFloat(p)}else{i*=parseFloat(p)}}else{if(this=="min"){i=Math.min(i,parseFloat(p))}else{if(this=="max"){i=Math.max(i,parseFloat(p))}else{if(this=="count"){i++}else{if(typeof(this)=="object"){b(this);return}}}}}}k[c.name][this]=i})}else{a.each(c.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var i=k[c.name][this];if(i==null){i=0}k[c.name][this]=i;return true}if(typeof(this)=="object"){b(this)}})}}}}for(var g=0;g<n.length;g++){var c=n[g];if(k[c.name]["avg"]!=undefined){var p=k[c.name]["avg"];k[c.name]["avg"]=p/e.length}else{if(k[c.name]["count"]!=undefined){k[c.name]["count"]=d}}if(k[c.name]["stdev"]||k[c.name]["stdevp"]||k[c.name]["var"]||k[c.name]["varp"]){a.each(c.aggregates,function(v){if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var w=k[c.name][this];var u=d;var j=(w/d);var r=0;for(var s=0;s<d;s++){var t=e[s];var x=t[c.name];r+=(x-j)*(x-j)}var q=(this=="stdevp"||this=="varp")?u:u-1;if(q==0){q=1}if(this=="var"||this=="varp"){k[c.name][this]=r/q}else{if(this=="stdevp"||this=="stdev"){k[c.name][this]=Math.sqrt(r/q)}}}})}if(c.formatStrings){a.each(c.aggregates,function(j){var i=c.formatStrings[j];if(i){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var q=k[c.name][this];k[c.name][this]=a.jqx.dataFormat.formatnumber(q,i,h)}else{if(typeof this=="object"){for(obj in this){var q=k[c.name][obj];k[c.name][obj]=a.jqx.dataFormat.formatnumber(q,i,h)}}}}})}}return k},bindDownloadComplete:function(c,b){this._downloadComplete[this._downloadComplete.length]={id:c,func:b}},unbindDownloadComplete:function(c){for(var b=0;b<this._downloadComplete.length;b++){if(this._downloadComplete[b].id==c){this._downloadComplete[b].func=null;this._downloadComplete.splice(b,1);break}}},callDownloadComplete:function(){for(var b=0;b<this._downloadComplete.length;b++){var c=this._downloadComplete[b];if(c.func!=null){c.func()}}},setSource:function(b){this._source=b},generatekey:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b())},getGroupedRecords:function(C,F,p,x,D,v){var z=0;var u=this;var d=new Array();for(var h=0;h<C.length;h++){d[h]=u.generatekey()}if(!F){F="items"}if(!p){p="group"}if(!D){D="record"}if(!v){v="value"}var l=new Array();var f=0;var e=new Array();var k=C.length;var E=new Array();var G=this.records;var i=G.length;var y=function(q){var H=q;if(x){a.each(x,function(){if(this.name&&this.map){H[this.map]=H[this.name]}})}return H};for(var o=0;o<i;o++){var B=y(G[o]);id=B[u.uniqueId];var c=new Array();var r=0;for(h=0;h<k;h++){var j=C[h];var w=B[j];if(null==w){continue}c[r++]={value:w,hash:d[h]}}if(c.length!=k){break}var s=null;var m="";var b=-1;for(var t=0;t<c.length;t++){b++;var A=c[t].value;var g=c[t].hash;m=m+"_"+g+"_"+A;if(e[m]!=undefined&&e[m]!=null){s=e[m];continue}if(s==null){s={level:0};s[p]=A;s[D]=B;s[v]=B[v];s[F]=new Array();l[f++]=s}else{var n={parentItem:s,level:s.level+1};n[p]=A;n[F]=new Array();n[D]=B;n[v]=B[v];s[F][s[F].length]=n;s=n}e[m]=s}if(s!=null){B.parentItem=s;B.level=s.level+1;s[F][s[F].length]=B}}return l},getRecordsHierarchy:function(f,d,t,o){var b=new Array();var c=this.records;if(this.records.length==0){return null}var r=t!=null?t:"items";var l=[];var u=c;var j=u.length;var p=function(i){var v=i;if(o){a.each(o,function(){if(this.name&&this.map){v[this.map]=v[this.name]}})}return v};for(var q=0;q<j;q++){var s=a.extend({},u[q]);var n=s[d];var m=s[f];l[m]={parentid:n,item:s}}for(var q=0;q<j;q++){var s=a.extend({},u[q]);var n=s[d];var m=s[f];if(l[n]!=undefined){var s={parentid:n,item:l[m].item};var k=l[n].item;if(!k[r]){k[r]=[]}var g=k[r].length;var e=s.item;var h=p(e);k[r][g]=h;l[n].item=k;l[m]=s}else{var e=l[m].item;var h=p(e);b[b.length]=h}}return b},bindBindingUpdate:function(c,b){this._bindingUpdate[this._bindingUpdate.length]={id:c,func:b}},unbindBindingUpdate:function(c){for(var b=0;b<this._bindingUpdate.length;b++){if(this._bindingUpdate[b].id==c){this._bindingUpdate[b].func=null;this._bindingUpdate.splice(b,1);break}}},callBindingUpdate:function(b){for(var d=0;d<this._bindingUpdate.length;d++){var c=this._bindingUpdate[d];if(c.func!=null){c.func(b)}}},getid:function(e,c,d){if(a(e,c).length>0){return a(e,c).text()}if(e){if(e.toString().length>0){var b=a(c).attr(e);if(b!=null&&b.toString().length>0){return b}}}return d},loadjson:function(C,D,o){if(typeof(C)=="string"){C=a.parseJSON(C)}if(o.root==undefined){o.root=""}if(o.record==undefined){o.record=""}var C=C||D;if(!C){C=[]}var B=this;if(o.root!=""){if(C[o.root]!=undefined){C=C[o.root]}else{a.each(C,function(j){var d=this;if(this==o.root){C=this;return false}else{if(this[o.root]!=undefined){C=this[o.root]}}})}if(!C){var g=o.root.split(B.mapChar);if(g.length>0){var y=C;for(var n=0;n<g.length;n++){if(y!=undefined){y=y[g[n]]}}C=y}}}else{if(!C.length){for(obj in C){if(a.isArray(C[obj])){C=C[obj];break}}}}if(C!=null&&C.length==undefined){C=a.makeArray(C)}if(C==null||C.length==undefined){alert("JSON Parse error.");return}if(C.length==0){this.totalrecords=0;return}var f=C.length;this.totalrecords=this.virtualmode?(o.totalrecords||f):f;this.records=new Array();this.originaldata=new Array();var u=this.records;var r=!this.pageable?o.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(o.loadallrecords){r=0;f=this.totalrecords}var m=0;if(this.virtualmode){r=!this.pageable?o.recordstartindex:this.pagesize*this.pagenum;m=r;r=0;f=this.totalrecords}var w=o.datafields?o.datafields.length:0;if(w==0){var b=C[0];var z=new Array();for(obj in b){var c=obj;z[z.length]={name:c}}o.datafields=z;w=z.length}var k=r;for(var t=r;t<f;t++){var e=C[t];if(e==undefined){break}if(o.record&&o.record!=""){e=e[o.record];if(e==undefined){continue}}var A=this.getid(o.id,e,t);if(typeof(A)==="object"){A=t}if(!this.recordids[A]){this.recordids[A]=e;var h={};for(var s=0;s<w;s++){var l=o.datafields[s];var q="";if(undefined==l||l==null){continue}if(l.map){var g=l.map.split(B.mapChar);if(g.length>0){var x=e;for(var n=0;n<g.length;n++){if(x!=undefined){x=x[g[n]]}}q=x}else{q=e[l.map]}if(q!=undefined&&q!=null){q=q.toString()}else{q=""}}if(q==""){q=e[l.name];if(q==undefined||q==null){q=""}if(l.value!=undefined){var v=q[l.value];if(v!=undefined){q=v}}}q=this.getvaluebytype(q,l);if(l.displayname!=undefined){h[l.displayname]=q}else{h[l.name]=q}}if(o.recordendindex<=0||r<o.recordendindex){u[m+k]=a.extend({},h);u[m+k].uid=A;this.originaldata[m+k]=a.extend({},u[t]);k++}}}this.records=u;this.cachedrecords=this.records},loadxml:function(f,x,m){if(typeof(f)=="string"){f=x=a(a.parseXML(f))}if(m.root==undefined){m.root=""}if(m.record==undefined){m.record=""}var f;if(a.jqx.browser.msie&&x){if(x.xml!=undefined){f=a(m.root+" "+m.record,a.parseXML(x.xml))}else{f=f||a(m.root+" "+m.record,x)}}else{f=f||a(m.root+" "+m.record,x)}if(!f){f=[]}var e=f.length;if(f.length==0){return}this.totalrecords=this.virtualmode?(m.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var t=this.records;var q=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(m.loadallrecords){q=0;e=this.totalrecords}var k=0;if(this.virtualmode){q=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;k=q;q=0;e=this.totalrecords}var u=m.datafields?m.datafields.length:0;if(u==0){var b=f[0];var v=new Array();for(obj in b){var c=obj;v[v.length]={name:c}}m.datafields=v;u=v.length}var l=q;for(var s=q;s<e;s++){var d=f[s];if(d==undefined){break}var w=this.getid(m.id,d,s);if(!this.recordids[w]){this.recordids[w]=d;var g={};for(var r=0;r<u;r++){var h=m.datafields[r];var o="";if(undefined==h||h==null){continue}if(h.map){o=a(h.map,d).text()}if(o==""){o=a(h.name,d).text()}var n=o;o=this.getvaluebytype(o,h);if(h.displayname!=undefined){g[h.displayname]=o}else{g[h.name]=o}}if(m.recordendindex<=0||q<m.recordendindex){t[k+l]=a.extend({},g);t[k+l].uid=w;this.originaldata[k+l]=a.extend({},t[s]);l++}}}this.records=t;this.cachedrecords=this.records},loadtext:function(u,m){if(u==null){return}var b=m.rowDelimiter||this.rowDelimiter||"\n";var g=u.split(b);var e=g.length;this.totalrecords=this.virtualmode?(m.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var r=this.records;var o=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(m.loadallrecords){o=0;e=this.totalrecords}var k=0;if(this.virtualmode){o=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;k=o;o=0;e=this.totalrecords}var s=m.datafields.length;var l=m.columnDelimiter||this.columnDelimiter;if(!l){l=(m.datatype==="tab")?"\t":","}for(var q=o;q<e;q++){var d=g[q];var t=this.getid(m.id,d,q);if(!this.recordids[t]){this.recordids[t]=d;var f={};var c=g[q].split(l);for(var p=0;p<s;p++){if(p>=c.length){continue}var h=m.datafields[p];var n=c[p];if(h.type){n=this.getvaluebytype(n,h)}var v=h.map||h.name||p.toString();f[v]=n}r[k+q]=a.extend({},f);r[k+q].uid=t;this.originaldata[k+q]=a.extend({},r[q])}}this.records=r;this.cachedrecords=this.records},getvaluebytype:function(f,c){var d=f;if(f==null){return f}if(c.type=="date"){if(f=="NaN"){f=""}else{var e=new Date(f);if(typeof f=="string"){if(c.format){var b=a.jqx.dataFormat.parsedate(f,c.format);if(b!=null){e=b}}}if(e.toString()=="NaN"||e.toString()=="Invalid Date"){if(a.jqx.dataFormat){f=a.jqx.dataFormat.tryparsedate(f)}else{f=e}}else{f=e}if(f==null){f=d}}}else{if(c.type=="float"||c.type=="number"||c.type=="decimal"){if(f=="NaN"){f=""}else{var f=parseFloat(f);if(isNaN(f)){f=d}}}else{if(c.type=="int"||c.type=="integer"){var f=parseInt(f);if(isNaN(f)){f=d}}else{if(c.type=="bool"||c.type=="boolean"){if(f!=null){if(f.toLowerCase!=undefined){if(f.toLowerCase()=="false"){f=false}else{if(f.toLowerCase()=="true"){f=true}}}}if(f==1){f=true}else{if(f==0&&f!==""){f=false}else{f=""}}}}}}return f}};a.jqx.dataFormat={};a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(b){return typeof b==="boolean"},isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},isDate:function(b){return b instanceof Date},arrayIndexOf:function(e,d){if(e.indexOf){return e.indexOf(d)}for(var b=0,c=e.length;b<c;b++){if(e[b]===d){return b}}return -1},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isNull:function(b){return b===null},isUndefined:function(b){return typeof b==="undefined"},isValue:function(b){return(this.isObject(b)||this.isString(b)||this.isNumber(b)||this.isBoolean(b))},isEmpty:function(b){if(!this.isString(b)&&this.isValue(b)){return false}else{if(!this.isValue(b)){return true}}b=a.trim(b).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return b===""},startsWith:function(c,b){return c.indexOf(b)===0},endsWith:function(c,b){return c.substr(c.length-b.length)===b},trim:function(b){return(b+"").replace(this.regexTrim,"")},isArray:function(b){return this.toString.call(b)==="[object Array]"},defaultcalendar:function(){var b={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return b},expandFormat:function(f,e){e=e||"F";var d,c=f.patterns,b=e.length;if(b===1){d=c[e];if(!d){throw"Invalid date format string '"+e+"'."}e=d}else{if(b===2&&e.charAt(0)==="%"){e=e.charAt(1)}}return e},getEra:function(d,c){if(!c){return 0}if(typeof d==="string"){return 0}var g,f=d.getTime();for(var e=0,b=c.length;e<b;e++){g=c[e].start;if(g===null||f>=g){return e}}return 0},toUpper:function(b){return b.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(b){var e=[];for(var d=0,c=b.length;d<c;d++){e[d]=this.toUpper(b[d])}return e},getEraYear:function(c,e,b,f){var d=c.getFullYear();if(!f&&e.eras){d-=e.eras[b].offset}return d},getDayIndex:function(f,e,c){var b,g=f.days,d=f._upperDays;if(!d){f._upperDays=d=[this.toUpperArray(g.names),this.toUpperArray(g.namesAbbr),this.toUpperArray(g.namesShort)]}e=toUpper(e);if(c){b=this.arrayIndexOf(d[1],e);if(b===-1){b=this.arrayIndexOf(d[2],e)}}else{b=this.arrayIndexOf(d[0],e)}return b},getMonthIndex:function(j,h,d){var b=j.months,c=j.monthsGenitive||j.months,f=j._upperMonths,g=j._upperMonthsGen;if(!f){j._upperMonths=f=[this.toUpperArray(b.names),this.toUpperArray(b.namesAbbr)];j._upperMonthsGen=g=[this.toUpperArray(c.names),this.toUpperArray(c.namesAbbr)]}h=this.toUpper(h);var e=this.arrayIndexOf(d?f[1]:f[0],h);if(e<0){e=this.arrayIndexOf(d?g[1]:g[0],h)}return e},appendPreOrPostMatch:function(f,b){var e=0,h=false;for(var g=0,d=f.length;g<d;g++){var j=f.charAt(g);switch(j){case"'":if(h){b.push("'")}else{e++}h=false;break;case"\\":if(h){b.push("\\")}h=!h;break;default:b.push(j);h=false;break}}return e},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(b,d){var c="";if(d&&d.target){c="target="+d.target}if(c!=""){return"<a "+c+' href="'+b+'">'+b+"</a>"}return'<a href="'+b+'">'+b+"</a>"},formatemail:function(b){return'<a href="mailto:'+b+'">'+b+"</a>"},formatnumber:function(p,o,k){if(k==undefined||k==null||k==""){k=this.defaultcalendar()}if(!this.isNumber(p)){p*=1}var l;if(o.length>1){l=parseInt(o.slice(1),10)}var r={};var m=o.charAt(0).toUpperCase();r.thousandsSeparator=k.thousandsseparator;r.decimalSeparator=k.decimalseparator;switch(m){case"D":case"d":case"F":case"f":r.decimalPlaces=l;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=l;if(k.currencysymbolposition=="before"){r.prefix=k.currencysymbol}else{r.suffix=k.currencysymbol}break;case"P":case"p":r.suffix=k.percentsymbol;r.decimalPlaces=l;break;default:throw"Bad number format specifier: "+m}if(this.isNumber(p)){var f=(p<0);var d=p+"";var n=(r.decimalSeparator)?r.decimalSeparator:".";var b;if(this.isNumber(r.decimalPlaces)){var g=r.decimalPlaces;var j=Math.pow(10,g);d=Math.round(p*j)/j+"";b=d.lastIndexOf(".");if(g>0){if(b<0){d+=n;b=d.length-1}else{if(n!=="."){d=d.replace(".",n)}}while((d.length-1-b)<g){d+="0"}}}if(r.thousandsSeparator){var q=r.thousandsSeparator;b=d.lastIndexOf(n);b=(b>-1)?b:d.length;var e=d.substring(b);var c=-1;for(var h=b;h>0;h--){c++;if((c%3===0)&&(h!==b)&&(!f||(h>1))){e=q+e}e=d.charAt(h-1)+e}d=e}d=(r.prefix)?r.prefix+d:d;d=(r.suffix)?d+r.suffix:d;return d}else{return p}},tryparsedate:function(p,h){if(h==undefined||h==null){h=this.defaultcalendar()}var l=this;if(p==""){return null}if(p!=null&&!p.substring){p=p.toString()}if(p!=null&&p.substring(0,6)=="/Date("){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var e=new Date(+p.replace(/\/Date\((\d+)\)\//,"$1"));if(e=="Invalid Date"){var f=p.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var e=null;if(f){e=new Date(1*f[1]+3600000*f[2]+60000*f[3])}}if(e==null||e=="Invalid Date"||isNaN(e)){var i=n.exec(p);if(i){var q=new Date(parseInt(i[1]));if(i[2]){var b=parseInt(i[3]);if(i[2]==="-"){b=-b}var k=q.getUTCMinutes();q.setUTCMinutes(k-b)}if(!isNaN(q.valueOf())){return q}}}return e}patterns=h.patterns;for(prop in patterns){e=l.parsedate(p,patterns[prop],h);if(e){return e}}if(p!=null){var d=null;var o=[":","/","-"];var j=true;for(var c=0;c<o.length;c++){if(p.indexOf(o[c])!=-1){j=false}}if(j){var g=new Number(p);if(!isNaN(g)){return new Date(g)}}}return null},getparseregexp:function(b,n){var p=b._parseRegExp;if(!p){b._parseRegExp=p={}}else{var f=p[n];if(f){return f}}var l=this.expandFormat(b,n).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),j=["^"],c=[],i=0,e=0,s=this.getTokenRegExp(),g;while((g=s.exec(l))!==null){var r=l.slice(i,g.index);i=s.lastIndex;e+=this.appendPreOrPostMatch(r,j);if(e%2){j.push(g[0]);continue}var d=g[0],h=d.length,o;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":o="(\\D+)";break;case"tt":case"t":o="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":o="(\\d{"+h+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":o="(\\d\\d?)";break;case"zzz":o="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":o="([+-]?\\d\\d?)";break;case"/":o="(\\"+b["/"]+")";break;default:throw"Invalid date format pattern '"+d+"'.";break}if(o){j.push(o)}c.push(g[0])}this.appendPreOrPostMatch(l.slice(i),j);j.push("$");var q=j.join("").replace(/\s+/g,"\\s+"),k={regExp:q,groups:c};return p[n]=k},outOfRange:function(d,b,c){return d<b||d>c},expandYear:function(g,e){var c=new Date(),b=getEra(c);if(e<100){var d=g.twoDigitYearMax;d=typeof d==="string"?new Date().getFullYear()%100+parseInt(d,10):d;var f=this.getEraYear(c,g,b);e+=f-(f%100);if(e>d){e-=100}}return e},parsedate:function(z,G,u){if(u==undefined||u==null){u=this.defaultcalendar()}z=this.trim(z);var r=u,L=this.getparseregexp(r,G),k=new RegExp(L.regExp).exec(z);if(k===null){return null}var H=L.groups,x=null,p=null,K=null,J=null,q=null,g=0,C,B=0,I=0,b=0,d=null,s=false;for(var D=0,F=H.length;D<F;D++){var c=k[D+1];if(c){var y=H[D],f=y.length,h=parseInt(c,10);switch(y){case"dd":case"d":J=h;if(this.outOfRange(J,1,31)){return null}break;case"MMM":case"MMMM":K=this.getMonthIndex(r,c,f===3);if(this.outOfRange(K,0,11)){return null}break;case"M":case"MM":K=h-1;if(this.outOfRange(K,0,11)){return null}break;case"y":case"yy":case"yyyy":p=f<4?this.expandYear(r,h):h;if(this.outOfRange(p,0,9999)){return null}break;case"h":case"hh":g=h;if(g===12){g=0}if(this.outOfRange(g,0,11)){return null}break;case"H":case"HH":g=h;if(this.outOfRange(g,0,23)){return null}break;case"m":case"mm":B=h;if(this.outOfRange(B,0,59)){return null}break;case"s":case"ss":I=h;if(this.outOfRange(I,0,59)){return null}break;case"tt":case"t":s=r.PM&&(c===r.PM[0]||c===r.PM[1]||c===r.PM[2]);if(!s&&(!r.AM||(c!==r.AM[0]&&c!==r.AM[1]&&c!==r.AM[2]))){return null}break;case"f":case"ff":case"fff":b=h*Math.pow(10,3-f);if(this.outOfRange(b,0,999)){return null}break;case"ddd":case"dddd":q=this.getDayIndex(r,c,f===3);if(this.outOfRange(q,0,6)){return null}break;case"zzz":var e=c.split(/:/);if(e.length!==2){return null}C=parseInt(e[0],10);if(this.outOfRange(C,-12,13)){return null}var n=parseInt(e[1],10);if(this.outOfRange(n,0,59)){return null}d=(C*60)+(startsWith(c,"-")?-n:n);break;case"z":case"zz":C=h;if(this.outOfRange(C,-12,13)){return null}d=C*60;break;case"g":case"gg":var t=c;if(!t||!r.eras){return null}t=trim(t.toLowerCase());for(var E=0,A=r.eras.length;E<A;E++){if(t===r.eras[E].name.toLowerCase()){x=E;break}}if(x===null){return null}break}}}var o=new Date(),w,m=r.convert;w=o.getFullYear();if(p===null){p=w}else{if(r.eras){p+=r.eras[(x||0)].offset}}if(K===null){K=0}if(J===null){J=1}if(m){o=m.toGregorian(p,K,J);if(o===null){return null}}else{o.setFullYear(p,K,J);if(o.getDate()!==J){return null}if(q!==null&&o.getDay()!==q){return null}}if(s&&g<12){g+=12}o.setHours(g,B,I,b);if(d!==null){var v=o.getMinutes()-(d+o.getTimezoneOffset());o.setHours(o.getHours()+parseInt(v/60,10),v%60)}return o},cleardatescache:function(){this.datescache=new Array()},formatdate:function(u,y,p){if(p==undefined||p==null){p=this.defaultcalendar()}if(typeof u==="string"){return u}var e=u.toString()+"_"+y;if(this.datescache&&this.datescache[e]){return this.datescache[e]}if(!y||!y.length||y==="i"){var A;A=this.formatDate(u,p.patterns.F,culture);return A}var v=p.eras,c=y==="s";y=this.expandFormat(p,y);A=[];var h,w=["0","00","000"],l,m,b=/([^d]|^)(d|dd)([^d]|$)/g,z=0,r=this.getTokenRegExp(),d;function j(B,E){var D,C=B+"";if(E>1&&C.length<E){D=(w[E-2]+C);return D.substr(D.length-E,E)}else{D=C}return D}function x(){if(l||m){return l}l=b.test(y);m=true;return l}function f(C,B){if(d){return d[B]}if(C.getMonth!=undefined){switch(B){case 0:return C.getFullYear();case 1:return C.getMonth();case 2:return C.getDate()}}}for(;;){var i=r.lastIndex,q=r.exec(y);var n=y.slice(i,q?q.index:y.length);z+=this.appendPreOrPostMatch(n,A);if(!q){break}if(z%2){A.push(q[0]);continue}var s=q[0],g=s.length;switch(s){case"ddd":case"dddd":var o=(g===3)?p.days.namesAbbr:p.days.names;A.push(o[u.getDay()]);break;case"d":case"dd":l=true;A.push(j(f(u,2),g));break;case"MMM":case"MMMM":var t=f(u,1);A.push(p.months[g===3?"namesAbbr":"names"][t]);break;case"M":case"MM":A.push(j(f(u,1)+1,g));break;case"y":case"yy":case"yyyy":t=this.getEraYear(u,p,this.getEra(u,v),c);if(g<4){t=t%100}A.push(j(t,g));break;case"h":case"hh":h=u.getHours()%12;if(h===0){h=12}A.push(j(h,g));break;case"H":case"HH":A.push(j(u.getHours(),g));break;case"m":case"mm":A.push(j(u.getMinutes(),g));break;case"s":case"ss":A.push(j(u.getSeconds(),g));break;case"t":case"tt":t=u.getHours()<12?(p.AM?p.AM[0]:" "):(p.PM?p.PM[0]:" ");A.push(g===1?t.charAt(0):t);break;case"f":case"ff":case"fff":A.push(j(u.getMilliseconds(),3).substr(0,g));break;case"z":case"zz":h=u.getTimezoneOffset()/60;A.push((h<=0?"+":"-")+j(Math.floor(Math.abs(h)),g));break;case"zzz":h=u.getTimezoneOffset()/60;A.push((h<=0?"+":"-")+j(Math.floor(Math.abs(h)),2)+":"+j(Math.abs(u.getTimezoneOffset()%60),2));break;case"g":case"gg":if(p.eras){A.push(p.eras[getEra(u,v)].name)}break;case"/":A.push(p["/"]);break;default:throw"Invalid date format pattern '"+s+"'.";break}}var k=A.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[e]=k;return k}})})(jQuery);


/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.cssroundedcorners=function(b){var c={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-br"};for(prop in c){if(!c.hasOwnProperty(prop)){continue}if(b==prop){return c[prop]}}};a.jqx.jqxWidget("jqxButton","",{});a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow";this.roundedCorners="all";this.disabled=false;this.height=null;this.width=null;this.overrideTheme=false;this.enableHover=true;this.rtl=false},createInstance:function(d){var b=this;this._setSize();if(!this.overrideTheme){this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners)));this.host.addClass(this.toThemeProperty("jqx-button"));this.host.addClass(this.toThemeProperty("jqx-widget"))}this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.cursor!="arrow"){this.host.css({cursor:this.cursor})}if(!this.isTouchDevice){this.addHandler(this.host,"mouseenter",function(g){if(!b.disabled&&b.enableHover){b.isMouseOver=true;b.refresh()}});this.addHandler(this.host,"mouseleave",function(g){if(!b.disabled&&b.enableHover){b.isMouseOver=false;b.refresh()}})}this.addHandler(this.host,"mousedown",function(g){if(!b.disabled){b.isPressed=true;b.refresh()}});this.addHandler(this.host,"focus",function(g){if(!b.disabled){b.isFocused=true;b.refresh()}});this.addHandler(this.host,"blur",function(g){if(!b.disabled){b.isFocused=false;b.refresh()}});this.mouseupfunc=function(g){if(!b.disabled){b.isPressed=false;b.refresh()}};this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var f="";if(window.parent&&document.referrer){f=document.referrer}if(f.indexOf(document.location.host)!=-1){var e=function(g){b.isPressed=false;b.refresh()};if(window.top.document){this.addHandler(a(window.top.document),"mouseup",e)}}}}}catch(c){}this.propertyChangeMap.roundedCorners=function(g,i,h,j){g.refresh()};this.propertyChangeMap.width=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.height=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.disabled=function(g,i,h,j){if(h!=j){b.host[0].disabled=j;g.refresh()}};this.propertyChangeMap.rtl=function(g,i,h,j){if(h!=j){g.refresh()}};this.propertyChangeMap.theme=function(g,i,h,j){g.host.removeClass();g.host.addClass(g.toThemeProperty("jqx-button"));g.host.addClass(g.toThemeProperty("jqx-widget"));if(!g.overrideTheme){g.host.addClass(g.toThemeProperty(a.jqx.cssroundedcorners(g.roundedCorners)))}g._oldCSSCurrent=null;g.refresh()}},val:function(){var b=this.host.find("input");if(b.length>0){if(arguments.length==0||typeof(value)=="object"){return b.val()}b.val(value);this.refresh();return b.val()}if(arguments.length==0||typeof(value)=="object"){return this.element.value}this.element.value=arguments[0];this.refresh()},_setSize:function(){if(this.width!=null&&(this.width.toString().indexOf("px")!=-1||this.width.toString().indexOf("%")!=-1)){this.host.css("width",this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.css("width",this.width)}}if(this.height!=null&&(this.height.toString().indexOf("px")!=-1||this.height.toString().indexOf("%")!=-1)){this.host.css("height",this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.css("height",this.height)}}},_removeHandlers:function(){this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"click");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);this.mouseupfunc=null},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();this.host.removeClass();this.host.removeData();this.host.remove()},refresh:function(){if(this.overrideTheme){return}var d=this.toThemeProperty("jqx-fill-state-focus");var h=this.toThemeProperty("jqx-fill-state-disabled");var b=this.toThemeProperty("jqx-fill-state-normal");var g=this.toThemeProperty("jqx-fill-state-hover");var e=this.toThemeProperty("jqx-fill-state-pressed");var f=this.toThemeProperty("jqx-fill-state-pressed");var c="";this.host[0].disabled=this.disabled;if(this.disabled){c=h}else{if(this.isMouseOver&&!this.isTouchDevice){if(this.isPressed){c=f}else{c=g}}else{if(this.isPressed){c=e}else{c=b}}}if(this.isFocused){c+=" "+d}if(c!=this._oldCSSCurrent){if(this._oldCSSCurrent){this.host.removeClass(this._oldCSSCurrent)}this.host.addClass(c);this._oldCSSCurrent=c}if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"));this.host.css("direction","rtl")}}});a.jqx.jqxWidget("jqxLinkButton","",{});a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=false;this.height=null;this.width=null;this.rtl=false;this.href=null},createInstance:function(d){var c=this;this.host.onselectstart=function(){return false};var b=this.height||this.host.height();var e=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var f=this.host.find("input");f.addClass(this.toThemeProperty("jqx-reset"));f.width(e);f.height(b);f.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));f.css({width:e});f.css({height:b});var g=d==undefined?{}:d[0]||{};f.jqxButton(g);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(h,j,i,k){c.host[0].disabled=k};this.addHandler(f,"click",function(h){if(!this.disabled){c.onclick(h)}return false})},onclick:function(b){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(d){var b=this;var c=a.jqx.mobile.isTouchDevice();this.addHandler(a(document),"mouseup."+this.base.element.id,function(e){if(!c){if(b.timeout!=null){clearTimeout(b.timeout);b.timeout=null;b.refresh()}if(b.timer!=undefined){clearInterval(b.timer);b.timer=null;b.refresh()}}});this.addHandler(this.base.host,"mousedown",function(e){if(!c){if(b.timer!=null){clearInterval(b.timer)}b.timeout=setTimeout(function(){clearInterval(b.timer);b.timer=setInterval(function(f){b.ontimer(f)},b.delay)},150)}});this.addHandler(this.base.host,"mousemove",function(e){if(!c){if(e.which==0){if(b.timer!=null){clearInterval(b.timer);b.timer=null}}}})},destroy:function(){this.removeHandler(this.base.host,"mousemove");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup."+this.base.element.id);this.timer=null;this.base.destroy()},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(b){var b=new jQuery.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(b)}}});a.jqx.jqxWidget("jqxToggleButton","jqxButton",{});a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false},createInstance:function(c){var b=this;this.base.overrideTheme=true;this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.addHandler(this.base.host,"click",function(d){b.toggle()});if(!this.isTouchDevice){this.addHandler(this.base.host,"mouseenter",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(this.base.host,"mouseleave",function(d){if(!b.base.disabled){b.refresh()}})}this.addHandler(this.base.host,"mousedown",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(a(document),"mouseup",function(d){if(!b.base.disabled){b.refresh()}})},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled;this.refresh()},unCheck:function(){this.toggled=false;this.refresh()},check:function(){this.toggled=true;this.refresh()},refresh:function(){var g=this.base.toThemeProperty("jqx-fill-state-disabled");var b=this.base.toThemeProperty("jqx-fill-state-normal");var f=this.base.toThemeProperty("jqx-fill-state-hover");var d=this.base.toThemeProperty("jqx-fill-state-pressed");var e=this.base.toThemeProperty("jqx-fill-state-pressed");var c="";this.base.host[0].disabled=this.base.disabled;if(this.base.disabled){c=g}else{if(this.base.isMouseOver&&!this.isTouchDevice){if(this.base.isPressed||this.toggled){c=e}else{c=f}}else{if(this.base.isPressed||this.toggled){c=d}else{c=b}}}if(this.base.host.hasClass(g)&&g!=c){this.base.host.removeClass(g)}if(this.base.host.hasClass(b)&&b!=c){this.base.host.removeClass(b)}if(this.base.host.hasClass(f)&&f!=c){this.base.host.removeClass(f)}if(this.base.host.hasClass(d)&&d!=c){this.base.host.removeClass(d)}if(this.base.host.hasClass(e)&&e!=c){this.base.host.removeClass(e)}if(!this.base.host.hasClass(c)){this.base.host.addClass(c)}}})})(jQuery);

/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxCalendar","",{});a.extend(a.jqx._jqxCalendar.prototype,{defineInstance:function(){this.disabled=false;this.multipleMonthRows=1;this.multipleMonthColumns=1;if(this.minDate==undefined){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(0);this.minDate._setMinutes(0);this.minDate._setSeconds(0);this.minDate._setMilliseconds(0)}if(this.maxDate==undefined){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(0);this.maxDate._setMinutes(0);this.maxDate._setSeconds(0);this.maxDate._setMilliseconds(0)}this.navigationDelay=400;if(this.stepMonths===undefined){this.stepMonths=1}this.width=null;this.height=null;if(this.value===undefined){this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}this.firstDayOfWeek=0;this.showWeekNumbers=false;this.showDayNames=true;this.enableWeekend=false;this.enableOtherMonthDays=true;this.showOtherMonthDays=true;this.rowHeaderWidth=25;this.columnHeaderHeight=20;this.titleHeight=25;this.dayNameFormat="firstTwoLetters";this.monthNameFormat="default";this.titleFormat=["MMMM yyyy","yyyy","yyyy","yyyy"];this.enableViews=true;if(this.readOnly===undefined){this.readOnly=false}if(this.culture==undefined){this.culture="default"}if(this.enableFastNavigation==undefined){this.enableFastNavigation=true}if(this.enableHover==undefined){this.enableHover=true}if(this.enableAutoNavigation==undefined){this.enableAutoNavigation=true}if(this.enableTooltips===undefined){this.enableTooltips=false}this.backText="Back";this.forwardText="Forward";if(this.specialDates===undefined){this.specialDates=new Array()}this.keyboardNavigation=true;this.selectionMode="default";this.todayString="Today";this.clearString="Clear";this.showFooter=false;this.selection={from:null,to:null};this.canRender=true;this._checkForHiddenParent=true;this.height=null;this.rtl=false;this.view="month";this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}};this.events=["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]},createInstance:function(e){this.setCalendarSize();if(this.element.id===""){this.element.id=a.jqx.utilities.createId()}this.host.attr("data-role","calendar");var i=this.element.id;var h=this;this.propertyChangeMap.width=function(j,l,k,m){h.setCalendarSize()};this.propertyChangeMap.height=function(j,l,k,m){h.setCalendarSize()};if(a.global){a.global.preferCulture(this.culture)}if(this.culture!="default"){if(a.global){a.global.preferCulture(this.culture);this.localization.calendar=a.global.culture.calendar}else{if(Globalize){var c=Globalize.culture(this.culture);this.localization.calendar=c.calendar}}this.firstDayOfWeek=this.localization.calendar.firstDay}if(this.localization.backString){this.backText=this.localization.backString}if(this.localization.forwardString){this.forwardText=this.localization.forwardString}if(this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString){this.clearString=this.localization.clearString}if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0)}this.host.css("outline","none");this.host.addClass(this.toThemeProperty("jqx-calendar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this._addInput();this.addHandler(this.host,"keydown",function(k){var j=true;if(h.keyboardNavigation){if(h._handleKey!=undefined){j=h._handleKey(k);if(!j){if(k.stopPropagation){k.stopPropagation()}if(k.preventDefault){k.preventDefault()}}}}return j});var d=false;var g=this;var b=false;if(h.width!=null&&h.width.toString().indexOf("%")!=-1){b=true}if(h.height!=null&&h.height.toString().indexOf("%")!=-1){b=true}this.addHandler(a(window),"resize.calendar"+this.element.id,function(){var j=g.host.find("#View"+h.element.id);if(!d){d=true;g.render()}else{g.refreshTitle(j)}if(b){if(h.refreshTimer){clearTimeout(h.refreshTimer)}h.refreshTimer=setTimeout(function(){h.refreshControl()},1)}});var f="View";this.propertyChangeMap.disabled=function(j,l,k,m){if(m){j.host.addClass(h.toThemeProperty("jqx-fill-state-disabled"))}else{j.host.removeClass(h.toThemeProperty("jqx-fill-state-disabled"))}h.refreshControl()}},_addInput:function(){var b=this.host.attr("name");if(!b){b=this.element.id}this.input=a("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",b);this.input.val(this.getDate().toString())},setCalendarSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.css("width",this.width)}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.css("height",this.height)}},_getYearAndMonthPart:function(c){var b=new Date(c.getFullYear(),c.getMonth(),1);return b},_handleKey:function(p){if(this.readOnly){return true}var z=p.keyCode;var x=this;var b=this._getSelectedDate();if(b==undefined){return true}if(p.altKey){return true}if(this._animating){return false}if(this.view!="month"&&z==13){var d=this._getSelectedCell();this._setDateAndSwitchViews(d)}if(this.view=="year"){var v=b.getMonth();var j=this._getYearAndMonthPart(this.getMinDate());var m=this._getYearAndMonthPart(this.getMaxDate());switch(z){case 37:if(v==0){var h=new Date(b.getFullYear()-1,11,1);if(h>=j){this.selectedDate=h;this.navigateBackward()}else{if(this.selectedDate!=j){this.selectedDate=j;this.navigateBackward()}}}else{var h=new Date(b.getFullYear(),v-1,1);if(h>=j){this._selectDate(h,"key")}}return false;case 38:var h=new Date(b.getFullYear(),v-4,1);if(h<j){h=j}if(v-4<0){this.selectedDate=h;this.navigateBackward()}else{this._selectDate(h,"key")}return false;case 40:var h=new Date(b.getFullYear(),v+4,1);if(h>m){h=m}if(v+4>11){this.selectedDate=h;this.navigateForward()}else{this._selectDate(h,"key")}return false;case 39:if(v==11){var h=new Date(b.getFullYear()+1,0,1);if(h<=m){this.selectedDate=h;this.navigateForward()}else{if(this.selectedDate!=m){this.selectedDate=m;this.navigateForward()}}}else{var h=new Date(b.getFullYear(),v+1,1);if(h<=m){this._selectDate(h,"key")}}return false}return true}if(this.view=="decade"){var o=this._renderStartDate.getFullYear();var k=this._renderEndDate.getFullYear();var n=b.getFullYear();var u=this.getMinDate().getFullYear();var c=this.getMaxDate().getFullYear();switch(z){case 37:if(n-1>=u){if(n<=o){this.selectedDate=new Date(n-1,b.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(n-1,b.getMonth(),1),"key")}}return false;case 38:var w=n-4;if(n-4<u){w=u}if(w<o){this.selectedDate=new Date(w,b.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(w,b.getMonth(),1),"key")}return false;case 40:var w=n+4;if(w>c){w=c}if(w>k){this.selectedDate=new Date(w,b.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(w,b.getMonth(),1),"key")}return false;case 39:if(n+1<=c){if(n==k){this.selectedDate=new Date(n+1,b.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(n+1,b.getMonth(),1),"key")}}return false}return true}var t=new a.jqx._jqxDateTimeInput.getDateTime(b);var f=this.getViewStart();var e=this.getViewEnd();var s=a.data(this.element,"View"+this.element.id);if(s==undefined||s==null){return true}if(z==36){t._setDay(1);this._selectDate(t.dateTime,"key");return false}if(z==35){var r=this.value._daysInMonth(this.value.year,this.value.month);t._setDay(r);this._selectDate(t.dateTime,"key");return false}var g=1;if(p.ctrlKey){g=12}if(z==34){var y=this.navigateForward(g);if(y){t._addMonths(g);this._selectDate(t.dateTime,"key")}return false}if(z==33){var y=this.navigateBackward(g);if(y){t._addMonths(-g);this._selectDate(t.dateTime,"key")}return false}if(z==38){t._addDays(-7);if(t.dateTime<this.getMinDate()){return false}if(t.dateTime<f){var y=this.navigateBackward();if(!y){return false}}this._selectDate(t.dateTime,"key");for(var q=0;q<s.cells.length;q++){var d=s.cells[q];var l=d.getDate();if(d.isOtherMonth&&d.isSelected&&l<=t.dateTime){this.value.day=l.getDate();this.navigateBackward();this._selectDate(t.dateTime,"key");break}}return false}else{if(z==40){t._addDays(7);if(t.dateTime>this.getMaxDate()){return false}if(t.dateTime>e){var y=this.navigateForward();if(!y){return false}}this._selectDate(t.dateTime,"key");for(var q=0;q<s.cells.length;q++){var d=s.cells[q];var l=d.getDate();if(d.isOtherMonth&&d.isSelected&&l>=t.dateTime){this.value.day=l.getDate();this.navigateForward();this._selectDate(t.dateTime,"key");break}}return false}}if(z==37){t._addDays(-1);if(t.dateTime<this.getMinDate()){return false}if(t.dateTime<f){var y=this.navigateBackward();if(!y){return false}}this._selectDate(t.dateTime,"key");for(var q=0;q<s.cells.length;q++){var d=s.cells[q];var l=d.getDate();if(d.isOtherMonth&&d.isSelected&&l<=t.dateTime){if(t.dateTime<this.getMinDate()||t.dateTime>this.getMaxDate()){return false}this.navigateBackward();this._selectDate(t.dateTime,"key");break}}return false}else{if(z==39){t._addDays(1);if(t.dateTime>this.getMaxDate()){return false}if(t.dateTime>e){var y=this.navigateForward();if(!y){return false}}this._selectDate(t.dateTime,"key");for(var q=0;q<s.cells.length;q++){var d=s.cells[q];var l=d.getDate();if(d.isOtherMonth&&d.isSelected&&l>=t.dateTime){if(t.dateTime<this.getMinDate()||t.dateTime>this.getMaxDate()){return false}this.navigateForward();this._selectDate(t.dateTime,"key");break}}return false}}return true},render:function(){if(!this.canRender){return}this.host.children().remove();var c=this._renderSingleCalendar("View"+this.element.id);var b=this;if(this._checkForHiddenParent){if(!this._hiddenParentTimer){if(a.jqx.isHidden(this.host)){this._hiddenParentTimer=setInterval(function(){if(!a.jqx.isHidden(b.host)){try{clearInterval(b._hiddenParentTimer);b.updateSize();b._hiddenParentTimer=0}catch(d){}}},10)}}}this.host.append(c)},addSpecialDate:function(b,c,d){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var e=this.specialDates.length;this.specialDates[e]={Date:b,Class:c,Tooltip:d};this.refreshControl()}},refresh:function(b){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){this.refreshSingleCalendar("View"+this.element.id,null)}},getViewStart:function(){var c=this.getVisibleDate();var b=this.getFirstDayOfWeek(c);return b.dateTime},getViewEnd:function(){var c=this.getViewStart();var b=new a.jqx._jqxDateTimeInput.getDateTime(c);b._addDays(41);return b.dateTime},refreshSingleCalendar:function(f,e){if(!this.canRender){return}var h=this.host.find("#"+f);var d=this.getVisibleDate();var b=this.getFirstDayOfWeek(d);this.refreshCalendarCells(h,b,f);this.refreshTitle(h);this.refreshRowHeader(h,f);if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var g=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){g=this.host.height()-this.titleHeight}if(this.showFooter){g-=20}var c=h.find("#cellsTable"+f);var i=h.find("#calendarRowHeader"+f);c.height(g);i.height(g)},refreshRowHeader:function(l,g){if(!this.showWeekNumbers){return}var h=this.getVisibleDate();var c=this.getFirstDayOfWeek(h);var f=c.dayOfWeek;var r=this.getWeekOfYear(c);var m=l.find("#rowHeader");m.width(this.rowHeaderWidth);var d=c;var q=new Array();for(var j=0;j<6;j++){var e=r.toString();var p=new a.jqx._jqxCalendar.cell(d.dateTime);var k=j+1;var o=m.find("#headerCell"+k);p.element=o;p.row=j;p.column=0;var b=o.find("#headerCellContent"+k);b.addClass(this.toThemeProperty("jqx-calendar-row-cell"));b[0].innerHTML=r;q[j]=p;d=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d._addWeeks(1)));r=this.getWeekOfYear(d)}var n=a.data(this.element,l[0].id);n.rowCells=q;this._refreshOtherMonthRows(n,g)},_refreshOtherMonthRows:function(f,e){if(this.showOtherMonthDays){return}this._displayLastRow(true,e);this._displayFirstRow(true,e);var d=false;var g=false;for(var c=0;c<f.cells.length;c++){var b=f.cells[c];if(b.isVisible&&c<7){d=true}else{if(b.isVisible&&c>=f.cells.length-7){g=true}}}if(!d){this._displayFirstRow(false,e)}if(!g){this._displayLastRow(false,e)}},_displayLastRow:function(b,c){var g=this.host.find("#"+c);var f=g.find("#calendarRowHeader"+g[0].id);var d=f.find("#headerCellContent6");var e=g.find("#cellsTable"+g[0].id).find("#row6");if(b){d.css("display","block");e.css("display","table-row")}else{d.css("display","none");e.css("display","none")}},_displayFirstRow:function(b,c){var e=this.host.find("#"+c);var d=e.find("#calendarRowHeader"+e[0].id);var f=d.find("#headerCellContent1");var g=e.find("#cellsTable"+e[0].id).find("#row1");if(b){f.css("display","block");g.css("display","table-row")}else{f.css("display","none");g.css("display","none")}},_renderSingleCalendar:function(o,j){if(!this.canRender){return}var l=this.host.find("#"+o.toString());if(l!=null){l.remove()}var r=a("<div id='"+o.toString()+"'></div>");var b=this.getVisibleDate();var k=this.getFirstDayOfWeek(b);var e=new a.jqx._jqxDateTimeInput.getDateTime(k.dateTime);e._addMonths(1);var q=a.jqx._jqxCalendar.monthView(k,e,null,null,null,r);if(j==undefined||j==null){this.host.append(r);if(this.height!=undefined&&!isNaN(this.height)){r.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){r.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){r.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){r.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){r.width("100%")}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){r.height("100%")}}else{j.append(r)}a.data(this.element,o,q);var p=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){p=this.host.height()-this.titleHeight}if(this.showFooter){p-=20}if(this.rowHeaderWidth<0){this.rowHeaderWidth=0}if(this.columnHeaderHeight<0){this.columnHeaderHeight=0}if(this.titleHeight<0){this.titleHeight=0}var f=this.rowHeaderWidth;var i=this.columnHeaderHeight;if(!this.showWeekNumbers){f=0}if(!this.showDayNames){i=0}var t=a("<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>");t.addClass(this.toThemeProperty("jqx-calendar-title-container"));r.append(t);var c=a("<table role='grid' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+i+"'><td role='gridcell' id='selectCell' width='"+f+"'></td><td role='gridcell' colspan='2' style='padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+p+"' width='"+f+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+p+"'></td></tr></table>");var d=20;var n=a("<div style='margin: 0px; display: none; height:"+d+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>");if(this.showFooter){n.css("display","block")}r.append(c);r.append(n);c.addClass(this.toThemeProperty("jqx-calendar-month"));this._footer=n;this.header=r.find("#calendarHeader");this.header[0].id="calendarHeader"+o;this.columnHeader=r.find("#calendarColumnHeader");this.columnHeader[0].id="calendarColumnHeader"+o;this.table=r.find("#cellsTable");this.table[0].id="cellsTable"+o;this.rowHeader=r.find("#calendarRowHeader");this.rowHeader[0].id="calendarRowHeader"+o;this.selectCell=r.find("#selectCell");this.selectCell[0].id="selectCell"+o;this.title=r.find("#calendarTitle");this.title[0].id="calendarTitle"+o;this.leftButton=r.find("#leftNavigationArrow");this.leftButton[0].id="leftNavigationArrow"+o;this.titleHeader=r.find("#calendarTitleHeader");this.titleHeader[0].id="calendarTitleHeader"+o;this.rightButton=r.find("#rightNavigationArrow");this.rightButton[0].id="rightNavigationArrow"+o;this.footer=r.find("#calendarFooter");this.footer[0].id="calendarFooter"+o;this.todayButton=r.find("#todayButton");this.todayButton[0].id="todayButton"+o;this.doneButton=r.find("#doneButton");this.doneButton[0].id="doneButton"+o;r.find("tr").addClass(this.toThemeProperty("jqx-reset"));r.addClass(this.toThemeProperty("jqx-widget-content"));r.addClass(this.toThemeProperty("jqx-calendar-month-container"));this.month=r;this.selectCell.addClass(this.toThemeProperty("jqx-reset"));this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header"));if(this.showWeekNumbers){this._renderRowHeader(r)}else{this.table[0].colSpan=3;this.columnHeader[0].colSpan=3;this.rowHeader.css("display","none");this.selectCell.css("display","none")}if(this.showFooter){this.footer.height(20);var h=a("<a href='#'>"+this.todayString+"</a>");h.appendTo(this.todayButton);var g=a("<a href='#'>"+this.clearString+"</a>");g.appendTo(this.doneButton);g.addClass(this.toThemeProperty("jqx-calendar-footer"));h.addClass(this.toThemeProperty("jqx-calendar-footer"));var m=this;this.addHandler(h,"click",function(){m.setDate(new Date(),"mouse");if(m.today){m.today()}});this.addHandler(g,"click",function(){m.setDate(null,"mouse");if(m.clear){m.clear()}})}if(this.view!="month"){this.header.hide()}if(this.showDayNames&&this.view=="month"){this.renderColumnHeader(r)}this.renderCalendarCells(r,k,o);if(j==undefined||j==null){this.renderTitle(r)}this._refreshOtherMonthRows(q,o);r.find("tbody").css({border:"none",background:"transparent"});if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var s=this;this.addHandler(this.host,"focus",function(){s.focus()});return r},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var k=a("<div role='button' style='float: left;'></div>");var l=a("<div role='button' style='float: right;'></div>");var o=this.title;o.addClass(this.toThemeProperty("jqx-reset"));o.addClass(this.toThemeProperty("jqx-widget-header"));o.addClass(this.toThemeProperty("jqx-calendar-title-header"));var e=o.find("td");if(a.jqx.browser.msie&&a.jqx.browser.version<8){if(e.css("background-color")!="transparent"){var g=o.css("background-color");e.css("background-color",g)}if(e.css("background-image")!="transparent"){var d=o.css("background-image");var p=o.css("background-repeat");var c=o.css("background-position");e.css("background-image",d);e.css("background-repeat",p);e.css("background-position","left center scroll")}}else{e.css("background-color","transparent")}if(this.disabled){o.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled"))}k.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));k.addClass(this.toThemeProperty("jqx-icon-arrow-left"));k.appendTo(this.leftButton);var m=this.leftButton;l.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));l.addClass(this.toThemeProperty("jqx-icon-arrow-right"));l.appendTo(this.rightButton);var b=this.rightButton;if(this.enableTooltips){if(a(m).jqxTooltip){a(m).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText});a(b).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})}}var n=this.titleHeader;var v=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var q=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var j=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);v=q+" - "+j}else{if(this.view=="centuries"){var q=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var j=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);v=q+" - "+j}}var f=a("<div style='background: transparent; margin: 0; padding: 0; border: none;' id='titleContent'>"+v+"</div>");n.append(f);f.addClass(this.toThemeProperty("jqx-calendar-title-content"));var s=parseInt(k.width());var i=t.width()-2*s;var r=n.find("#titleContent").width(i);a.data(k,"navigateLeft",this);a.data(l,"navigateRight",this);var h=a.jqx.mobile.isTouchDevice();if(!this.disabled){var u=this;this.addHandler(n,"mousedown",function(A){if(u.enableViews){if(!u._viewAnimating&&!u._animating){var x=u.view;switch(u.view){case"month":u.view="year";break;case"year":u.view="decade";break}if(x!=u.view){var z="View"+u.element.id;var B=u.host.find("#"+z);var y=u.getVisibleDate();var w=u.getFirstDayOfWeek(y);u.renderCalendarCells(B,w,z,true);u.refreshTitle(B)}}return false}});this.addHandler(k,"mousedown",function(x){if(!u._animating){a.data(k,"navigateLeftRepeat",true);var w=a.data(k,"navigateLeft");if(w.enableFastNavigation&&!h){w.startRepeat(w,k,true,500)}w.navigateBackward();return w._raiseEvent(0,x)}else{return false}});this.addHandler(k,"mouseup",function(w){a.data(k,"navigateLeftRepeat",false)});this.addHandler(k,"mouseleave",function(w){a.data(k,"navigateLeftRepeat",false)});this.addHandler(l,"mousedown",function(x){if(!u._animating){a.data(l,"navigateRightRepeat",true);var w=a.data(l,"navigateRight");if(w.enableFastNavigation&&!h){w.startRepeat(w,l,false,500)}w.navigateForward();return w._raiseEvent(1,x)}else{return false}});this.addHandler(l,"mouseup",function(w){a.data(l,"navigateRightRepeat",false)});this.addHandler(l,"mouseleave",function(w){a.data(l,"navigateRightRepeat",false)})}},refreshTitle:function(f){var g=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var d=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var b=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);g=d+" - "+b}else{if(this.view=="centuries"){var d=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var b=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);g=d+" - "+b}}var e=this.titleHeader;if(this.titleHeader){var c=e.find("#titleContent");var h=a("<div style='background: transparent; margin: 0; padding: 0; border: none;' id='titleContent'>"+g+"</div>");e.append(h);h.addClass(this.toThemeProperty("jqx-calendar-title-content"));if(c!=null){c.remove()}}},startRepeat:function(d,b,f,e){var c=window.setTimeout(function(){var g=a.data(b,"navigateLeftRepeat");if(!f){g=a.data(b,"navigateRightRepeat")}if(g){if(e<25){e=25}if(f){d.navigateBackward();d.startRepeat(d,b,true,e)}else{d.navigateForward();c=d.startRepeat(d,b,false,e)}}else{window.clearTimeout(c);return}},e)},navigateForward:function(g){if(g==undefined||g==null){g=this.stepMonths}var f=this.value.year;if(this.view=="decade"){f=this._renderStartDate.getFullYear()+12;if(this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear()){return}}else{if(this.view=="year"){f=this.value.year+1}else{if(this.view=="centuries"){f=this.value.year+100}}}if(this.view!="month"){var b=this.getMaxDate().getFullYear();if(b<f||f>b){f=b}if(this.value.year==f){return}this.value.year=f;this.value.month=1;this.value.day=1}var c=this.value.day;var h=this.value.month;if(h+g<=12){var e=this.value._daysInMonth(this.value.year,this.value.month+g);if(c>e){c=e}}if(this.view=="month"){var d=new Date(this.value.year,this.value.month-1+g,c)}else{var d=new Date(this.value.year,this.value.month-1,c)}return this.navigateTo(d)},navigateBackward:function(f){if(f==undefined||f==null){f=this.stepMonths}var e=this.value.year;if(this.view=="decade"){e=this._renderStartDate.getFullYear()-12}else{if(this.view=="year"){e=this.value.year-1}else{if(this.view=="centuries"){e=this.value.year-100}}}if(this.view!="month"){var h=this.getMinDate().getFullYear();if(e<h){e=h}if(this.view=="decade"){if(this._renderStartDate){if(this._renderStartDate.getFullYear()==e){return}}}this.value.year=e;this.value.month=1;this.value.day=1}var b=this.value.day;var g=this.value.month;if(g-f>=1){var d=this.value._daysInMonth(this.value.year,this.value.month-f);if(b>d){b=d}}if(this.view=="month"){var c=new Date(this.value.year,this.value.month-1-f,b)}else{var c=new Date(this.value.year,this.value.month-1,b)}return this.navigateTo(c)},refreshCalendarCells:function(x,f,m){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.refreshViews(x,f,m);return}var s=this.table;var q=s.find("#cellTable"+m.toString());var e=f;var c=new Array();var n=0;var u=new a.jqx._jqxDateTimeInput.getDateTime(new Date());for(var p=0;p<6;p++){for(var o=0;o<7;o++){var d=p+1;var h=o;if(this.rtl){h=6-h}var t=h+1;var l="#cell"+d+t;var w=new Date(e.dateTime.getFullYear(),e.dateTime.getMonth(),e.dateTime.getDate());var b=new a.jqx._jqxCalendar.cell(w);var g=q.find(l);b.element=g;b.row=p;b.column=o;b.isVisible=true;b.isOtherMonth=false;b.isToday=false;b.isWeekend=false;b.isHighlighted=false;b.isSelected=false;if(e.month!=this.value.month){b.isOtherMonth=true;b.isVisible=this.showOtherMonthDays}if(w<this.getMinDate()||w>this.getMaxDate()){b.isDisabled=true}if(e.month==u.month&&e.day==u.day&&e.year==u.year){b.isToday=true}if(e.isWeekend()){b.isWeekend=true}a.data(this.element,"cellContent"+l.substring(1),b);a.data(this.element,l.substring(1),b);c[n]=b;n++;a.jqx.utilities.html(g,e.day);this._applyCellStyle(b,g,g);e=new a.jqx._jqxDateTimeInput.getDateTime(new Date(e._addDays(1)))}}var v=a.data(this.element,x[0].id);if(v!=undefined&&v!=null){v.cells=c}this.renderedCells=c;this._refreshOtherMonthRows(v,m)},_getDecadeAndCenturiesData:function(){var k=new Array();var p=new Array();var c=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();if(c<12){c=12}var f=this.getMinDate();var b=this.getMaxDate();var l=this.value.dateTime.getFullYear();if(this.view=="decade"){if(l+12>b.getFullYear()){l=b.getFullYear()-11}if(l<f.getFullYear()){l=f.getFullYear()}for(var h=0;h<c;h++){var d=new Date(f.getFullYear()+h,0,1);if(f.getFullYear()<=l&&l<=d.getFullYear()){var g=new Date(d.getFullYear(),d.getMonth(),1);for(var e=0;e<12;e++){var o=new Date(g.getFullYear()+e,this.value.dateTime.getMonth(),this.value.dateTime.getDate());var m=o.getFullYear();if(f.getFullYear()<=m&&m<=b.getFullYear()){k.push(m);p.push(o);if(e==0){this._renderStartDate=o}this._renderEndDate=o}else{k.push(m);p.push(o)}}break}}}else{if(this.view=="centuries"){for(var h=0;h<c;h+=120){var d=new Date(f.getFullYear()+h+120,0,1);if(f.getFullYear()<=l&&l<=d.getFullYear()){var g=new Date(d.getFullYear()-130,d.getMonth(),1);if(g<f){g=f}for(var e=0;e<12;e++){var n=new Date(g.getFullYear()+e*10,g.getMonth(),1);if(g.getFullYear()>=f.getFullYear()&&n.getFullYear()<=b.getFullYear()){k.push("<span style='visibility: hidden;'>-</span>"+n.getFullYear()+"-"+(n.getFullYear()+9));p.push(n);if(e==0){this._renderCenturyStartDate=n}this._renderCenturyEndDate=new Date(n.getFullYear()+9,0,1)}}break}}}}return{years:k,dates:p}},refreshViews:function(A,m,s){var B=this;var c=new Array();var w=A.find("#cellTable"+s.toString());var D=this._getDecadeAndCenturiesData();var l=D.years;var C=D.dates;var t=0;var f=this.getMinDate();var n=this.getMaxDate();for(var v=0;v<3;v++){for(var u=0;u<4;u++){var d=v+1;var q=u;if(this.rtl){q=3-q}var x=q+1;var z=new Date(this.value.dateTime);z.setMonth(v*4+q);var b=new a.jqx._jqxCalendar.cell(z);var e=w[0].rows["row"+(1+v)+this.element.id];var o=a(e.cells[u]);b.isVisible=true;b.element=o;b.row=v;b.column=u;b.index=c.length;var p="";if(this.view=="year"){var h=this.localization.calendar.months.names;var g=h[v*4+q];switch(this.monthNameFormat){case"default":g=this.localization.calendar.months.namesAbbr[v*4+q];break;case"shortest":g=this.localization.calendar.months.namesShort[v*4+q];break;case"firstTwoLetters":g=g.substring(0,2);break;case"firstLetter":g=g.substring(0,1);break}p=g}else{if(this.view=="decade"||this.view=="centuries"){p=l[v*4+q];if(undefined==p){p="<span style='cursor: default; visibility: hidden;'>2013</span>"}b.setDate(C[v*4+q])}}var z=b.getDate();if(this.view=="year"){if(this._getYearAndMonthPart(z)<this._getYearAndMonthPart(f)){b.isDisabled=true}if(this._getYearAndMonthPart(z)>this._getYearAndMonthPart(n)){b.isDisabled=true}}else{if(z.getFullYear()<f.getFullYear()){b.isDisabled=true}if(z.getFullYear()>n.getFullYear()){b.isDisabled=true}}a.jqx.utilities.html(o,p);c[t]=b;t++}}var y=a.data(this.element,A[0].id);if(y!=undefined&&y!=null){y.cells=c}this.renderedCells=c;this._applyCellStyles()},_createViewClone:function(){var b=this.host.find(".jqx-calendar-month");var c=b.clone();c.css("position","absolute");c.css("top",b.position().top);return c},_addCellsTable:function(h,g){var e=this;var c=this.showFooter?20:0;if(this.view!="month"){g.height(this.host.height()-this.titleHeight)}else{g.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-c)}this._viewAnimating=true;var b=this.host.find(".jqx-calendar-month-container");b.css("position","relative");var d=this.host.find(".jqx-calendar-month");var f=this._createViewClone();b.append(f);if(this.view!="month"){this.header.fadeOut(0);if(this.showWeekNumbers){this.rowHeader.fadeOut(0)}if(this.showFooter){this._footer.fadeOut(0)}}else{this.header.fadeIn(this.navigationDelay+200);if(this.showWeekNumbers){this.rowHeader.fadeIn(this.navigationDelay+200)}if(this.showFooter){this._footer.fadeIn(this.navigationDelay+200)}}h.children().remove();h.append(g);this._animateViews(f,g,function(){if(!e.selectedDate){e.selectedDate=e.renderedCells[0].getDate()}try{e.renderedCells[0].element.focus();setTimeout(function(){e.renderedCells[0].element.focus()},10)}catch(i){}e._viewAnimating=false});g.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(c,b,e){var d=this;d._viewAnimating=true;c.fadeOut(this.navigationDelay+100,function(){c.remove()});b.fadeOut(0);b.fadeIn(this.navigationDelay+200,function(){e()})},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var d=this;var c=false;if(!d.selectedDate&&d.selectionMode!="range"){this.setDate(new Date(),"mouse")}this.element.focus()}}catch(b){}},renderViews:function(C,m,t){var D=this;var c=new Array();var x=a("<table role='grid' style='width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+t.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");var p=this.host.find(".jqx-calendar-month-container");p.css("position","relative");var y=C.find("#cellsTable"+C[0].id);var F=this._getDecadeAndCenturiesData();var l=F.years;var E=F.dates;var u=0;var f=this.getMinDate();var n=this.getMaxDate();for(var w=0;w<3;w++){for(var v=0;v<4;v++){var d=w+1;var s=v;if(this.rtl){s=3-s}var z=s+1;var e=x[0].rows["row"+(1+w)+this.element.id];var B=new Date(this.value.dateTime);B.setMonth(w*4+s);var b=new a.jqx._jqxCalendar.cell(B);var o=a(e.cells[v]);b.isVisible=true;b.element=o;b.row=w;b.column=v;b.index=c.length;var q="";if(this.view=="year"){if(B.getMonth()==this.getDate().getMonth()){b.isSelected=true}var h=this.localization.calendar.months.names;var g=h[w*4+s];switch(this.monthNameFormat){case"default":g=this.localization.calendar.months.namesAbbr[w*4+s];break;case"shortest":g=this.localization.calendar.months.namesShort[w*4+s];break;case"firstTwoLetters":g=g.substring(0,2);break;case"firstLetter":g=g.substring(0,1);break}q=g}else{if(this.view=="decade"||this.view=="centuries"){q=l[w*4+s];b.setDate(E[w*4+s]);if(b.getDate().getFullYear()==this.getDate().getFullYear()){b.isSelected=true}if(undefined==q){q="<span style='cursor: default; visibility: hidden;'>2013</span>"}}}var B=b.getDate();if(this.view=="year"){if(this._getYearAndMonthPart(B)<this._getYearAndMonthPart(f)){b.isDisabled=true}if(this._getYearAndMonthPart(B)>this._getYearAndMonthPart(n)){b.isDisabled=true}}else{if(B.getFullYear()<f.getFullYear()){b.isDisabled=true}if(B.getFullYear()>n.getFullYear()){b.isDisabled=true}}a.jqx.utilities.html(o,q);c[u]=b;u++}}a.each(c,function(){var j=this.element;var i=this;if(!D.disabled){D.addHandler(j,"mousedown",function(k){D._setDateAndSwitchViews(i)});D.addHandler(j,"mouseover",function(r){var k=D.renderedCells[i.index];if(D.view!="centuries"&&k.element.html().toLowerCase().indexOf("span")!=-1){return}k.isHighlighted=true;D._applyCellStyle(k,k.element,k.element)});D.addHandler(j,"mouseout",function(r){var k=D.renderedCells[i.index];if(D.view!="centuries"&&k.element.html().toLowerCase().indexOf("span")!=-1){return}k.isHighlighted=false;D._applyCellStyle(k,k.element,k.element)})}});var A=a.data(this.element,C[0].id);if(A!=undefined&&A!=null){A.cells=c}this.renderedCells=c;this._addCellsTable(y,x);this._applyCellStyles()},_setDateAndSwitchViews:function(b){if(!this._viewAnimating&&!this._animating){var d=this.renderedCells[b.index].getDate();var g=this.getMinDate();var h=this.getMaxDate();if(this.view=="year"){if(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g)){return}if(this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h)){return}}else{if(d.getFullYear()<g.getFullYear()){return}if(d.getFullYear()>h.getFullYear()){return}}this._selectDate(d);switch(this.view){case"year":this.view="month";break;case"decade":this.view="year";break}if(this.view=="year"){if(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g)){d=g}if(this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h)){d=h}}else{if(d.getFullYear()<g.getFullYear()){d=g}if(d.getFullYear()>h.getFullYear()){d=h}}this.value._setYear(d.getFullYear());this.value._setDay(d.getDate());this.value._setMonth(d.getMonth()+1);var f=this.getVisibleDate();var c=this.getFirstDayOfWeek(f);var e="View"+this.element.id;this.renderCalendarCells(this.month,c,e,true);this.refreshTitle(this.month);this._selectDate(d,"view")}},renderCalendarCells:function(D,m,s,q){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.renderViews(D,m,s);return}var x=a("<table role='grid' style='width: 100%; height: 100%;' cellspacing='2' cellpadding='1' id=cellTable"+s.toString()+"><tr role='row' id='row1'><td role='gridcell' id='cell11'></td><td role='gridcell' id='cell12'></td><td role='gridcell' id='cell13'></td><td role='gridcell' id='cell14'></td><td role='gridcell' id='cell15'></td><td role='gridcell' id='cell16'></td><td role='gridcell' id='cell17'></td></tr><tr role='row' id='row2'><td role='gridcell' id='cell21'></td><td role='gridcell' id='cell22'></td><td role='gridcell' id='cell23'></td><td role='gridcell' id='cell24'></td><td role='gridcell' id='cell25'></td><td role='gridcell' id='cell26'></td><td role='gridcell' id='cell27'></td></tr><tr role='row' id='row3'><td role='gridcell' id='cell31'></td><td role='gridcell' id='cell32'></td><td role='gridcell' id='cell33'></td><td role='gridcell' id='cell34'></td><td role='gridcell' id='cell35'></td><td role='gridcell' id='cell36'></td><td role='gridcell' id='cell37'></td></tr><tr role='row' id='row4'><td role='gridcell' id='cell41'></td><td role='gridcell' id='cell42'></td><td role='gridcell' id='cell43'></td><td role='gridcell' id='cell44'></td><td role='gridcell' id='cell45'></td><td role='gridcell' id='cell46'></td><td role='gridcell' id='cell47'></td></tr><tr role='row' id='row5'><td role='gridcell' id='cell51'></td><td role='gridcell' id='cell52'></td><td role='gridcell' id='cell53'></td><td role='gridcell' id='cell54'></td><td role='gridcell' id='cell55'></td><td role='gridcell' id='cell56'></td><td role='gridcell' id='cell57'></td></tr><tr role='row' id='row6'><td role='gridcell' id='cell61'></td><td role='gridcell' id='cell62'></td><td role='gridcell' id='cell63'></td><td role='gridcell' id='cell64'></td><td role='gridcell' id='cell65'></td><td role='gridcell' id='cell66'></td><td role='gridcell' id='cell67'></td></tr></table>");var y=this.table;if(q==undefined){var g=y.find("#cellTable"+s.toString());if(g!=null){g.remove()}y.append(x)}var l=m;var b=this.showDayNames?1:0;var f=this.showWeekNumbers?1:0;var d=new Array();var t=0;var v=(D.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){v=(D.width()-2)/7}v=parseInt(v);var A=new a.jqx._jqxDateTimeInput.getDateTime(new Date());for(var w=0;w<6;w++){for(var u=0;u<7;u++){var e=w+1;var o=u;if(this.rtl){o=6-o}var z=o+1;var p="#cell"+e+z;var C=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate());var c=new a.jqx._jqxCalendar.cell(C);var n=x.find(p);c.isVisible=true;c.isDisabled=false;if(l.month!=this.value.month){c.isOtherMonth=true;c.isVisible=this.showOtherMonthDays}if(C<this.getMinDate()||C>this.getMaxDate()){c.isDisabled=true}if(l.month==A.month&&l.day==A.day&&l.year==A.year){c.isToday=true}if(l.isWeekend()){c.isWeekend=true}c.element=n;c.row=b;c.column=f;a.jqx.utilities.html(n,l.day);l=new a.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)));a.data(this.element,"cellContent"+p.substring(1),c);a.data(this.element,""+p.substring(1),c);var E=this;this.addHandler(n,"mousedown",function(G){if(!E.readOnly&&!E.disabled){var F=a(G.target);var j=a.data(E.element,F[0].id);var i=E._raiseEvent(3,G);if(j!=null&&j!=undefined){var k=j.getDate();if(E.getMinDate()<=k&&k<=E.getMaxDate()){if(!j.isDisabled){if(j.isOtherMonth&&E.enableAutoNavigation){if(j.row<2){E.navigateBackward()}else{E.navigateForward()}E._selectDate(j.getDate(),"mouse",G.shiftKey)}else{E._selectDate(j.getDate(),"mouse",G.shiftKey);E.value._setYear(k.getFullYear());E.value._setDay(k.getDate());E.value._setMonth(k.getMonth()+1);var r=E.host.find(".jqx-calendar-month");r.stop();r.css("margin-left","0px");E._raiseEvent("5",{selectionType:"mouse"});E._raiseEvent("6",{selectionType:"mouse"});E._raiseEvent("2")}}}}return i}});if(!E.disabled){var h=function(F,j){if(!E.readOnly){var r=a(F.target);var i=a.data(E.element,r[0].id);if(i!=null&&i!=undefined){var k=i.getDate();if(E.getMinDate()<=k&&k<=E.getMaxDate()){i.isHighlighted=j;E._applyCellStyle(i,i.element,r)}}}};this.addHandler(n,"mouseenter",function(i){h(i,true);return false});this.addHandler(n,"mouseleave",function(i){h(i,false);return false})}f++;d[t]=c;t++}f=0;b++}var B=a.data(this.element,D[0].id);if(B!=undefined&&B!=null){B.cells=d}this.renderedCells=d;if(q!=undefined){this._addCellsTable(y,x)}this._applyCellStyles();this._refreshOtherMonthRows(B,s)},setMaxDate:function(b){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b);this.render()},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(b){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b);this.render()},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},navigateTo:function(f,h){if(this.view=="month"){var g=this.getMinDate();var c=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if((f<this._getYearAndMonthPart(g))||(f>this._getYearAndMonthPart(c))){return false}}else{if(f.getFullYear()<this.getMinDate().getFullYear()||f.getFullYear()>this.getMaxDate().getFullYear()){return false}}if(f==null){return false}if(h==undefined){var i=this;if(this._animating){return}this._animating=true;var d=this.host.find(".jqx-calendar-month-container");if(this._viewClone){this._viewClone.stop();this._viewClone.remove()}if(this._newViewClone){this._newViewClone.stop();this._newViewClone.remove()}var k=this.host.find(".jqx-calendar-month");k.stop();k.css("margin-left","0px");var b=k.clone();this._viewClone=b;var j=new Date(this.value.dateTime);this.value._setYear(f.getFullYear());this.value._setDay(f.getDate());this.value._setMonth(f.getMonth()+1);i.refreshControl();d.css("position","relative");b.css("position","absolute");b.css("top",k.position().top);d.append(b);if(a.jqx.browser.msie&&a.jqx.browser.version<8){this.month.css("position","relative");this.month.css("overflow","hidden");this.table.css("position","relative");this.table.css("overflow","hidden")}var e=-this.host.width();if(f<j){if(this.view=="month"&&f.getMonth()!=j.getMonth()){e=this.host.width()}else{if(f.getFullYear()!=j.getFullYear()){e=this.host.width()}}}b.animate({marginLeft:parseInt(e)+"px"},this.navigationDelay,function(){b.remove()});var l=k.clone();this._newViewClone=l;l.css("position","absolute");l.css("top",k.position().top);d.append(l);l.css("margin-left",-e);k.css("visibility","hidden");l.animate({marginLeft:"0px"},this.navigationDelay,function(){l.remove();k.css("visibility","visible");i._animating=false})}else{this.value._setYear(f.getFullYear());this.value._setDay(f.getDate());this.value._setMonth(f.getMonth()+1);var k=this.host.find(".jqx-calendar-month");k.stop();k.css("margin-left","0px");this.refreshControl()}this._raiseEvent("2");this._raiseEvent("8");return true},setDate:function(b){if(b!=null&&typeof(b)=="string"){b=new Date(b)}if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(b,"api");this._selectDate(b);if(this.selectionMode=="range"){this._selectDate(b,"mouse")}return true},val:function(b){if(arguments.length!=0){if(b==null){this.setDate(null)}if(b instanceof Date){this.setDate(b)}if(typeof(b)=="string"){this.setDate(b)}}return this.getDate()},getDate:function(){if(this.selectedDate==undefined){return new Date()}return this.selectedDate},getValue:function(){if(this.value==undefined){return new Date()}return this.value.dateTime},setRange:function(c,b){if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(c,"api");this._selectDate(c,"mouse");this._selectDate(b,"mouse")},getRange:function(){return this.selection},_selectDate:function(e,h,b){if(this.selectionMode=="none"){return}if(h==null||h==undefined){h="none"}if(b==null||b==undefined){b=false}var i=a.data(this.element,"View"+this.element.id);if(i==undefined||i==null){return}var d=this;if(this.input){if(e!=null){this.input.val(e.toString())}else{this.input.val("")}}var g=this.selectedDate;this.selectedDate=e;if(this.view!="month"){if(g!=e){this._raiseEvent(7)}a.each(this.renderedCells,function(n){var j=this;var o=j.getDate();var k=a(j.element);var m=k.find("#cellContent"+k[0].id);if(e==null){j.isSelected=false;j.isDisabled=false}else{j.isSelected=false;if(o){if((o.getMonth()==e.getMonth()&&d.view=="year")||(d.view=="decade"&&o.getFullYear()==e.getFullYear())){j.isSelected=true;try{j.element.focus()}catch(l){}}}}d._applyCellStyle(j,k,k)});return}if(this.view=="month"){if(this.selectionMode=="range"&&h=="key"){var f=this.getVisibleDate();var c=this.getFirstDayOfWeek(f);this.refreshCalendarCells(this.month,c,"View"+this.element.id)}}a.each(this.renderedCells,function(p){var u=this;var m=u.getDate();var t=a(u.element);var j=t;if(t.length==0){return false}if(e==null){u.isSelected=false;u.isDisabled=false;if(p==0){d.selection={from:null,to:null};d._raiseEvent("2");d._raiseEvent("5",{selectionType:h})}}else{if(d.selectionMode!="range"||h=="key"){if(m.getDate()==e.getDate()&&m.getMonth()==e.getMonth()&&m.getFullYear()==e.getFullYear()&&u.isSelected){d._applyCellStyle(u,t,j);return}if(u.isSelected){d._raiseEvent("6",{selectionType:h})}u.isSelected=false;if(m.getDate()==e.getDate()&&m.getMonth()==e.getMonth()&&m.getFullYear()==e.getFullYear()){u.isSelected=true;if(p==0){d.selection={date:e}}try{u.element.focus()}catch(q){}if(!u.isOtherMonth){d.value._setMonth(e.getMonth()+1);d.value._setDay(e.getDate());d.value._setYear(e.getFullYear());d._raiseEvent("2");d._raiseEvent("5",{selectionType:h})}}if(d.selectionMode=="range"){d._clicks=0;d.selection={from:e,to:e}}}else{if(d.selectionMode=="range"){if(h=="view"){u.isSelected=false;u.isDisabled=false;if(d.getMaxDate()<m){u.isDisabled=true}if(d.getMinDate()>m){u.isDisabled=true}d._applyCellStyle(u,t,j);return true}if(p==0){if(h!="none"){if(d._clicks==undefined){d._clicks=0}d._clicks++;if(b){d._clicks++}if(d._clicks==1){d.selection={from:e,to:e}}else{var s=d.selection.from;var o=s<=e?s:e;var r=s<=e?e:s;var k=new Date(o.getFullYear(),o.getMonth(),o.getDate());var l=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59);d.selection={from:k,to:l};d._clicks=0}}else{if(d.selection==null||d.selection.from==null){d.selection={from:e,to:e};if(d._clicks==undefined){d._clicks=0}d._clicks++;if(d._clicks==2){d._clicks=0}}}}var n=function(w){if(w==null){return new Date()}var v=new Date();v.setHours(0,0,0,0);v.setFullYear(w.getFullYear(),w.getMonth(),w.getDate());return v};if(!u.isOtherMonth&&n(m).toString()==n(e).toString()){d.value._setMonth(e.getMonth()+1);d.value._setDay(e.getDate());d.value._setYear(e.getFullYear());d._raiseEvent("2");d._raiseEvent("5",{selectionType:h})}u.isSelected=false;u.isDisabled=false;if(n(m)<n(d.selection.from)&&d._clicks==1){u.isDisabled=true}if(d.getMaxDate()<m){u.isDisabled=true}if(d.getMinDate()>m){u.isDisabled=true}if(n(m)>=n(d.selection.from)&&n(m)<=n(d.selection.to)){u.isSelected=true}}}}d._applyCellStyle(u,t,j)});if(g!=e){d._raiseEvent(7)}},_getSelectedDate:function(){var d=a.data(this.element,"View"+this.element.id);if(d==undefined||d==null){return}if(this.view!="month"){return this.selectedDate}for(var c=0;c<d.cells.length;c++){var b=d.cells[c];var e=b.getDate();if(b.isSelected){return e}}if(this.selectedDate){return this.selectedDate}},_getSelectedCell:function(){var d=a.data(this.element,"View"+this.element.id);if(d==undefined||d==null){return}for(var c=0;c<d.cells.length;c++){var b=d.cells[c];var e=b.getDate();if(b.isSelected){return b}}},_applyCellStyle:function(b,c,e){var d=this;if(e==null||(e!=null&&e.length==0)){e=c}e.removeClass();e[0].className="";e.addClass(this.toThemeProperty("jqx-rc-all"));if(this.disabled||b.isDisabled){e.addClass(this.toThemeProperty("jqx-calendar-cell-disabled"));e.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(b.isOtherMonth&&this.enableOtherMonthDays&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-othermonth"))}if(b.isWeekend&&this.enableWeekend&&b.isVisible&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-weekend"))}if(!b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-hidden"))}else{e.addClass(this.toThemeProperty("jqx-calendar-cell"));if(this.view!="month"){if(e.length>0&&e.html().toLowerCase().indexOf("span")!=-1){e.css("cursor","default")}}}e.removeAttr("aria-selected");if(b.isSelected&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-selected"));e.addClass(this.toThemeProperty("jqx-fill-state-pressed"));e.attr("aria-selected",true);this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",e[0].id)}if(b.isHighlighted&&b.isVisible&&this.enableHover){if(!b.isDisabled){e.addClass(this.toThemeProperty("jqx-calendar-cell-hover"));e.addClass(this.toThemeProperty("jqx-fill-state-hover"))}}e.addClass(this.toThemeProperty("jqx-calendar-cell-"+this.view));if(b.isToday&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-today"))}if(this.specialDates.length>0){var f=this;a.each(this.specialDates,function(){if(this.Class!=undefined&&this.Class!=null&&this.Class!=""){e.removeClass(this.Class)}else{e.removeClass(d.toThemeProperty("jqx-calendar-cell-specialDate"))}var g=b.getDate();if(g.getFullYear()==this.Date.getFullYear()&&g.getMonth()==this.Date.getMonth()&&g.getDate()==this.Date.getDate()){if(b.tooltip==null&&this.Tooltip!=null){b.tooltip=this.Tooltip;if(a(e).jqxTooltip){a(e).jqxTooltip({name:f.element.id,content:this.Tooltip,position:"mouse",theme:f.theme})}}e.removeClass(d.toThemeProperty("jqx-calendar-cell-othermonth"));e.removeClass(d.toThemeProperty("jqx-calendar-cell-weekend"));if(this.Class==undefined||this.Class==""){e.addClass(d.toThemeProperty("jqx-calendar-cell-specialDate"));return false}else{e.addClass(this.Class);return false}}})}},_applyCellStyles:function(){var f=a.data(this.element,"View"+this.element.id);if(f==undefined||f==null){return}for(var e=0;e<f.cells.length;e++){var b=f.cells[e];var c=a(b.element);var d=c.find("#cellContent"+c[0].id);if(d.length==0){d=c}this._applyCellStyle(b,c,d)}},getWeekOfYear:function(c){var b=c.dayOfYear(c.dateTime)-1;var d=c.dayOfWeek-(b%7);var e=((d-this.firstDayOfWeek)+14)%7;return Math.ceil((((b+e)/7)+1))},renderColumnHeader:function(w){if(!this.showDayNames){return}var t=a("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1' id='columnHeader'><tr role='row' id='columnHeader'><td role='gridcell' id='columnCell1'></td><td role='gridcell' id='columnCell2'></td><td role='gridcell' id='columnCell3'></td><td role='gridcell' id='columnCell4'></td><td role='gridcell' id='columnCell5'></td><td role='gridcell' id='columnCell6'></td><td role='gridcell' id='columnCell7'></td></tr></table>");t.find("table").addClass(this.toThemeProperty("jqx-reset"));t.find("tr").addClass(this.toThemeProperty("jqx-reset"));t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"});t.addClass(this.toThemeProperty("jqx-reset"));t.addClass(this.toThemeProperty("jqx-calendar-column-header"));this.columnHeader.append(t);var d=this.getVisibleDate();var h=this.getFirstDayOfWeek(d);var m=h.dayOfWeek;var x=this.getWeekOfYear(h);var q=this.firstDayOfWeek;var v=this.localization.calendar.days.names;var n=new Array();var g=h;var o=(w.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){o=(w.width()-2)/7}for(var s=0;s<7;s++){var f=v[q];if(this.rtl){f=v[6-q]}switch(this.dayNameFormat){case"default":f=this.localization.calendar.days.namesAbbr[q];break;case"shortest":f=this.localization.calendar.days.namesShort[q];break;case"firstTwoLetters":f=f.substring(0,2);break;case"firstLetter":f=f.substring(0,1);break}var b=new a.jqx._jqxCalendar.cell(g.dateTime);var k=s+1;var l=k;var j=t.find("#columnCell"+l);var p=s;if(this.enableTooltips){if(a(j).jqxTooltip){a(j).jqxTooltip({name:this.element.id,content:v[q],theme:this.theme,position:"mouse"})}}if(q>=6){q=0}else{q++}s=p;b.element=j;b.row=0;b.column=s+1;var e=this._textwidth(f);var c="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+l+"'>"+f+"</div>";j.append(c);j.find("#columnCell"+l).addClass(this.toThemeProperty("jqx-calendar-column-cell"));j.width(o);if(this.disabled){j.find("#columnCell"+l).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled"))}if(e>0&&o>0){while(e>j.width()){if(f.length==0){break}f=f.substring(0,f.length-1);a.jqx.utilities.html(j.find("#columnCell"+l),f);e=this._textwidth(f)}}n[s]=b;g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(g._addDays(1)))}if(parseInt(this.columnHeader.width())>parseInt(this.host.width())){this.columnHeader.width(this.host.width())}var u=a.data(this.element,w[0].id);u.columnCells=n},_format:function(d,e,b){var f=false;try{if(Globalize!=undefined){f=true}}catch(c){}if(a.global){a.global.culture.calendar=this.localization.calendar;return a.global.format(d,e,this.culture)}else{if(f){Globalize.cultures[this.culture].calendar=this.localization.calendar;return Globalize.format(d,e,this.culture)}else{if(a.jqx.dataFormat){return a.jqx.dataFormat.formatdate(d,e,this.localization.calendar)}}}},_textwidth:function(d){var c=a("<span>"+d+"</span>");c.addClass(this.toThemeProperty("jqx-calendar-column-cell"));a(this.host).append(c);var b=c.width();c.remove();return b},_textheight:function(d){var c=a("<span>"+d+"</span>");a(this.host).append(c);var b=c.height();c.remove();return b},_renderRowHeader:function(k){var g=this.getVisibleDate();var c=this.getFirstDayOfWeek(g);var f=c.dayOfWeek;var q=this.getWeekOfYear(c);var l=a("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1' id='rowHeader'><tr id='rowHeader1'><td id='headerCell1'></td></tr><tr id='rowHeader2'><td id='headerCell2'/></tr><tr id='rowHeader3'><td id='headerCell3'/></tr><tr id='rowHeader4'><td id='headerCell4'/></tr><tr id='rowHeader5'><td id='headerCell5'/></tr><tr id='rowHeader6'><td id='headerCell6'/></tr></table>");l.find("table").addClass(this.toThemeProperty("jqx-reset"));l.find("td").addClass(this.toThemeProperty("jqx-reset"));l.find("tr").addClass(this.toThemeProperty("jqx-reset"));l.addClass(this.toThemeProperty("jqx-calendar-row-header"));l.width(this.rowHeaderWidth);this.rowHeader.append(l);var d=c;var p=new Array();for(var h=0;h<6;h++){var e=q.toString();var o=new a.jqx._jqxCalendar.cell(d.dateTime);var j=h+1;var n=l.find("#headerCell"+j);o.element=n;o.row=h;o.column=0;var b="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+j+"'>"+e+"</div>";n.append(b);n.find("#headerCellContent"+j).addClass(this.toThemeProperty("jqx-calendar-row-cell"));p[h]=o;d=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d._addWeeks(1)));q=this.getWeekOfYear(d)}var m=a.data(this.element,k[0].id);m.rowCells=p},getFirstDayOfWeek:function(e){var d=e;if(this.firstDayOfWeek<0||this.firstDayOfWeek>6){this.firstDayOfWeek=6}var c=d.dayOfWeek-this.firstDayOfWeek;if(c<=0){c+=7}var b=a.jqx._jqxDateTimeInput.getDateTime(d._addDays(-c));return b},getVisibleDate:function(){var c=new a.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));if(c<this.minDate){c=this.minDate}if(c>this.maxDate){this.visibleDate=this.maxDate}var d=c.day;var b=a.jqx._jqxDateTimeInput.getDateTime(c._addDays(-d+1));c=b;return c},destroy:function(b){this.host.removeClass();if(b!=false){this.host.remove()}},_raiseEvent:function(i,c){if(c==undefined){c={owner:null}}var e=this.events[i];var f=c?c:{};f.owner=this;var g=new jQuery.Event(e);g.owner=this;g.args=f;if(i==0||i==1||i==2||i==3||i==4||i==5||i==6||i==7||i==8){g.args.date=g.args.selectedDate=this.getDate();g.args.range=this.getRange();var h=this.getViewStart();var d=this.getViewEnd();g.args.view={from:h,to:d}}var b=this.host.trigger(g);if(i==0||i==1){b=false}return b},propertyMap:function(b){if(b=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},updateSize:function(){var d=this.host.find("#View"+this.element.id);if(d.length>0){this.setCalendarSize();if(this.height!=undefined&&!isNaN(this.height)){d.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){d.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){d.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){d.width(this.width)}}var c=this.host.height()-this.titleHeight-this.columnHeaderHeight;var b="View"+this.element.id;d.find("#cellsTable"+b).height(c);d.find("#calendarRowHeader"+b).height(c);this.refreshControl()}},propertyChangedHandler:function(d,e,g,f){if(this.isInitialized==undefined||this.isInitialized==false){return}if(e=="enableHover"){return}if(e=="keyboardNavigation"){return}if(e=="localization"){if(this.localization){if(this.localization.backString){this.backText=this.localization.backString}if(this.localization.forwardString){this.forwardText=this.localization.forwardString}if(this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString){this.clearString=this.localization.clearString}this.firstDayOfWeek=this.localization.calendar.firstDay}}if(e=="culture"){try{if(a.global){a.global.preferCulture(d.culture);d.localization.calendar=a.global.culture.calendar}else{if(Globalize){var b=Globalize.culture(d.culture);d.localization.calendar=b.calendar}}}catch(c){}}if(e=="width"||e=="height"){d.updateSize();return}else{if(e=="theme"){a.jqx.utilities.setTheme(g,f,this.host)}else{this.view="month";this.render()}}}})})(jQuery);(function(a){a.jqx._jqxCalendar.cell=function(c){var b={dateTime:new a.jqx._jqxDateTimeInput.getDateTime(c),_date:c,getDate:function(){return this._date},setDate:function(d){this.dateTime=new a.jqx._jqxDateTimeInput.getDateTime(d);this._date=d},isToday:false,isWeekend:false,isOtherMonth:false,isVisible:true,isSelected:false,isHighlighted:false,element:null,row:-1,column:-1,tooltip:null};return b};a.jqx._jqxCalendar.monthView=function(c,h,d,b,f,e){var g={start:c,end:h,cells:d,rowCells:b,columnCells:f,element:e};return g}})(jQuery);
/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxComboBox","",{});a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.selectedIndex=-1;this.source=null;this.scrollBarSize=15;this.arrowSize=18;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.emptyString="";if(this.openDelay==undefined){this.openDelay=350}if(this.closeDelay==undefined){this.closeDelay=400}this.animationType="default";this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.searchMode="startswithignorecase";this.autoComplete=false;this.remoteAutoComplete=false;this.remoteAutoCompleteDelay=500;this.minLength=2;this.displayMember="";this.valueMember="";this.keyboardSelection=true;this.renderer=null;this.autoOpen=false;this.checkboxes=false;this.promptText="";this.placeHolder="";this.rtl=false;this.listBox=null;this.renderSelectedItem=null;this.search=null;this.popupZIndex=100000;this.searchString=null;this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(b){var c=this;if(a.jqx._jqxListBox==null||a.jqx._jqxListBox==undefined){throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.")}if(this.promptText!=""){this.placeHolder=this.promptText}if(this.hiddenParent()){this._hiddenParentTimer=setInterval(function(){try{if(!c.hiddenParent()){c._setSize();clearInterval(c._hiddenParentTimer)}}catch(d){}},10)}this.render()},render:function(){this.removeHandlers();this.isanimating=false;this.id=a.jqx.utilities.createId();this.element.innerHTML="";var d=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");this.comboStructure=d;if(a.jqx._jqxListBox==null||a.jqx._jqxListBox==undefined){throw"jqxComboBox: Missing reference to jqxlistbox.js."}this.touch=a.jqx.mobile.isTouchDevice();this.host.append(d);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;this.dropdownlistContent.append(a('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>'));this.input=this.dropdownlistContent.find("input");this.input.addClass(this.toThemeProperty("jqx-combobox-input"));this.input.addClass(this.toThemeProperty("jqx-widget-content"));this._addInput();if(this.rtl){this.input.css({direction:"rtl"});this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-rtl"))}try{var k="listBox"+this.id;var g=a(a.find("#"+k));if(g.length>0){g.remove()}var b=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");b.hide();b.appendTo(document.body);this.container=b;this.listBoxContainer=a(a.find("#innerListBox"+this.id));var c=this.width;if(this.dropDownWidth!="auto"){c=this.dropDownWidth}if(this.dropDownHeight==null){this.dropDownHeight=200}var i=this;this.container.width(parseInt(c)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.addHandler(this.listBoxContainer,"bindingComplete",function(e){i._raiseEvent("6")});this.listBoxContainer.jqxListBox({_checkForHiddenParent:false,checkboxes:this.checkboxes,emptyString:this.emptyString,renderer:this.renderer,rtl:this.rtl,itemHeight:this.itemHeight,incrementalSearch:false,width:c,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme,rendered:function(){i.listBox=a.data(i.listBoxContainer[0],"jqxListBox").instance;if(!i.autoComplete&&!i.remoteAutoComplete){i.listBoxContainer.jqxListBox("selectIndex",i.selectedIndex)}if(i.autoComplete&&!i.remoteAutoComplete){i.clearSelection()}if(i.remoteAutoComplete){if(i.autoDropDownHeight){i.container.height(i.listBox.virtualSize.height+25);i.listBoxContainer.height(i.listBox.virtualSize.height)}else{i.listBox._arrange();i.listBox.ensureVisible(0);i.listBox._renderItems();i.container.height(i.listBoxContainer.height()+25)}if(i.searchString!=undefined){var e=i.listBoxContainer.jqxListBox("items");if(e){if(e.length>0){if(!i.isOpened()){i.open()}}else{i.close()}}else{i.close()}}}else{i.renderSelection("mouse")}if(i.rendered){i.rendered()}}});this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0});this.listBoxContainer.css("border-top-width","1px");this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox.selectIndex(this.selectedIndex);this.listBox._arrange();this.addHandler(this.host,"loadContent",function(e){i._arrange()});this.addHandler(this.listBoxContainer,"unselect",function(e){i._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})});this.addHandler(this.listBoxContainer,"change",function(e){i._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item})});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(h){}var l=this;l.input.attr("disabled",l.disabled);var f=a.jqx.browser.msie&&a.jqx.browser.version<8;if(!f){l.input.attr("placeholder",l.placeHolder)}this.propertyChangeMap.disabled=function(e,n,m,o){if(o){e.host.addClass(l.toThemeProperty("jqx-combobox-state-disabled"));e.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.addClass(l.toThemeProperty("jqx-combobox-content-disabled"))}else{e.host.removeClass(l.toThemeProperty("jqx-combobox-state-disabled"));e.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.removeClass(l.toThemeProperty("jqx-combobox-content-disabled"))}e.input.attr("disabled",l.disabled)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))}this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistArrowIcon=a("<div></div>");this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon"));this.dropdownlistArrow.append(this.dropdownlistArrowIcon);this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(!this.rtl){this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-r"))}else{this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-l"))}this._setSize();this._updateHandlers();this.addHandler(this.input,"keyup.textchange",function(e){var m=i._search(e)});if(a.jqx.browser.msie&&a.jqx.browser.version<8){if(this.host.parents(".jqx-window").length>0){var j=this.host.parents(".jqx-window").css("z-index");b.css("z-index",j+10);this.listBoxContainer.css("z-index",j+10)}}if(this.checkboxes){this.input.attr("readonly",true)}},_addInput:function(){var b=this.host.attr("name");if(!b){b=this.element.id}this.cinput=a("<input type='hidden'/>");this.host.append(this.cinput);this.cinput.attr("name",b)},_updateInputSelection:function(){if(this.cinput){if(this.selectedIndex==-1){this.cinput.val("")}else{var d=this.getSelectedItem();if(d!=null){this.cinput.val(d.value)}else{this.cinput.val(this.dropdownlistContent.text())}}if(this.checkboxes){var b=this.getCheckedItems();var e="";if(b!=null){for(var c=0;c<b.length;c++){if(c==b.length-1){e+=b[c].value}else{e+=b[c].value+","}}}this.cinput.val(e)}}},_search:function(e){if(e.keyCode==9){return}if(this.searchMode=="none"||this.searchMode==null||this.searchMode=="undefined"){return}if(e.keyCode==16||e.keyCode==17||e.keyCode==20){return false}if(this.checkboxes){return false}if(!this.isanimating){if(e.altKey&&e.keyCode==38){this.hideListBox();return false}if(e.altKey&&e.keyCode==40){if(!this.isOpened()){this.showListBox()}return false}}if(e.keyCode==37||e.keyCode==39){return false}if(e.altKey||e.keyCode==18){return}if(e.keyCode>=33&&e.keyCode<=40){return}var j=this.input.val();if(j.length==0&&!this.autoComplete){this.hideListBox();this.listBox.selectIndex(-1,true);return}if(this.remoteAutoComplete){var h=this;var m=function(){h.listBox.vScrollInstance.value=0;h.selectedIndex=-1;h.listBox.selectedIndex=-1;h.listBox.clearSelection()};if(j.length>=h.minLength){if(!e.ctrlKey&&!e.altKey){if(h.searchString!=j){var c=h.listBoxContainer.jqxListBox("source");if(c==null){h.listBoxContainer.jqxListBox({source:h.source})}if(this._searchTimer){clearTimeout(this._searchTimer)}if(e.keyCode!=13&&e.keyCode!=27){this._searchTimer=setTimeout(function(){m();if(h.autoDropDownHeight){h.listBox.autoHeight=true}h.searchString=h.input.val();if(h.search!=null){h.search(h.input.val())}else{throw"'search' function is not defined"}},this.remoteAutoCompleteDelay)}}h.searchString=j}}else{if(this._searchTimer){clearTimeout(this._searchTimer)}m();h.searchString=h.input.val();h.listBoxContainer.jqxListBox({source:null})}return}var h=this;var f=this._getMatches(j);var k=f.matchItems;var g=f.index;if(h.autoComplete){if(k!=undefined||j==""){this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;if(this.listBox.virtualSize.height<parseInt(this.dropDownHeight)){this.listBox.autoHeight=true;this.container.height(this.listBox.virtualSize.height+25);this.listBoxContainer.height(this.listBox.virtualSize.height);this.listBox._arrange()}else{this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange()}this.listBox._addItems();this.listBox._renderItems();g=0}else{g=-1}if(g==-1){this.hideListBox()}}if(e.keyCode=="13"){var b=this.container.css("display")=="block";if(b&&!this.isanimating){this.hideListBox();return}}else{if(e.keyCode=="27"){var b=this.container.css("display")=="block";if(b&&!this.isanimating){this.hideListBox();e.preventDefault();return false}}else{if(g>-1){var d=this.listBox.selectedIndex;if(!this.isOpened()&&!this.opening&&!e.ctrlKey){if(this.listBox.visibleItems&&this.listBox.visibleItems.length>0){if(this.input.val()!=this.searchString&&this.searchString!=undefined){this.showListBox()}}}this.searchString=this.input.val();if(this.autoComplete){this.listBox.clearSelection()}else{if(g!=this.listBox.selectedIndex){this.listBox.clearSelection()}}var l=this.listBox.getVisibleItem(g);if(l!=undefined){this.listBox.selectIndex(g,true);this.selectedIndex=this.listBox.selectedIndex;if(this.searchMode=="startswith"||this.searchMode=="startswithignorecase"){var i=this.input.val();var h=this;if(!e.ctrlKey&&parseInt(e.keyCode)!=8&&parseInt(e.keyCode)!=46){if(l.label!=h.input.val()){if(l.label!=undefined){h.input.val(l.label);h.input.focus();h._setSelection(i.length,l.label.length)}}}}this._updateInputSelection()}}else{if(g==-1){this.listBox.clearSelection()}}}}},val:function(c){if(!this.input){return""}if(typeof c==="object"){return this.input.val()}else{var b=this.getItemByValue(c);if(b!=null){this.selectItem(b)}else{this.input.val(c)}return this.input.val()}},focus:function(){var c=this;var b=function(){c.input.focus();var d=c.input.val();c._setSelection(0,d.length)};b();setTimeout(function(){b()},10)},_setSelection:function(e,b){try{if("selectionStart" in this.input[0]){this.input[0].focus();this.input[0].setSelectionRange(e,b)}else{var c=this.input[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",e);c.select()}}catch(d){}},setContent:function(b){this.input.val(b)},_getMatches:function(f){var b=this.getItems();if(b==undefined){return{index:-1,mathItem:new Array()}}var e=this;var c=-1;var g=new Array();var d=0;a.each(b,function(h){var k="";if(!this.isGroup){if(this.label){k=this.label}else{if(this.value){k=this.value}else{if(this.title){k=this.title}else{k="jqxItem"}}}var j=false;switch(e.searchMode){case"containsignorecase":j=a.jqx.string.containsIgnoreCase(k,f);break;case"contains":j=a.jqx.string.contains(k,f);break;case"equals":j=a.jqx.string.equals(k,f);break;case"equalsignorecase":j=a.jqx.string.equalsIgnoreCase(k,f);break;case"startswith":j=a.jqx.string.startsWith(k,f);break;case"startswithignorecase":j=a.jqx.string.startsWithIgnoreCase(k,f);break;case"endswith":j=a.jqx.string.endsWith(k,f);break;case"endswithignorecase":j=a.jqx.string.endsWithIgnoreCase(k,f);break}if(e.autoComplete&&!j){this.visible=false}if(j&&e.autoComplete){g[d++]=this;this.visible=true}if(f==""&&e.autoComplete){this.visible=true;j=false}if(j&&!e.autoComplete){c=this.visibleIndex;return false}}});return{index:c,matchItems:g}},findItems:function(e){var b=this.getItems();var d=this;var c=0;var f=new Array();a.each(b,function(g){var j="";if(!this.isGroup){if(this.label){j=this.label}else{if(this.value){j=this.value}else{if(this.title){j=this.title}else{j="jqxItem"}}}var h=false;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(j,e);break;case"contains":h=a.jqx.string.contains(j,e);break;case"equals":h=a.jqx.string.equals(j,e);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(j,e);break;case"startswith":h=a.jqx.string.startsWith(j,e);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(j,e);break;case"endswith":h=a.jqx.string.endsWith(j,e);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(j,e);break}if(h){f[c++]=this}}});return f},_resetautocomplete:function(){a.each(this.listBox.items,function(b){this.visible=true});this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange();this.listBox._addItems();this.listBox._renderItems()},getItems:function(){var b=this.listBox.items;return b},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}if(e){var c=this;var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:b});this.container.width(parseInt(b)+25);this._arrange();var d=function(){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.listBoxContainer.jqxListBox({width:f});c.container.width(parseInt(f)+25)}};this.removeHandler(a(window),"resize."+this.id);this.addHandler(a(window),"resize."+this.id,d)}},hiddenParent:function(){return a.jqx.isHidden(this.host)},isOpened:function(){var c=this;var b=a.data(document.body,"openedComboJQXListBox");if(this.container.css("display")!="block"){return false}if(b!=null&&b==c.listBoxContainer){return true}return false},_updateHandlers:function(){var c=this;var d=false;this.removeHandlers();if(!this.touch){this.host.hover(function(){if(!c.disabled&&c.enableHover){d=true;c.host.addClass(c.toThemeProperty("jqx-combobox-state-hover"));c.dropdownlistArrowIcon.addClass(c.toThemeProperty("jqx-icon-arrow-down-hover"));c.dropdownlistArrow.addClass(c.toThemeProperty("jqx-combobox-arrow-hover"));c.dropdownlistArrow.addClass(c.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!c.disabled&&c.enableHover){c.host.removeClass(c.toThemeProperty("jqx-combobox-state-hover"));c.dropdownlistArrowIcon.removeClass(c.toThemeProperty("jqx-icon-arrow-down-hover"));c.dropdownlistArrow.removeClass(c.toThemeProperty("jqx-combobox-arrow-hover"));c.dropdownlistArrow.removeClass(c.toThemeProperty("jqx-fill-state-hover"));d=false}})}if(c.autoOpen){this.addHandler(this.host,"mouseenter",function(){var e=c.isOpened();if(!e&&c.autoOpen){c.open();c.host.focus()}});this.addHandler(a(document),"mousemove."+c.id,function(h){var g=c.isOpened();if(g&&c.autoOpen){var l=c.host.coord();var k=l.top;var j=l.left;var i=c.container.coord();var e=i.left;var f=i.top;canClose=true;if(h.pageY>=k&&h.pageY<=k+c.host.height()+2){if(h.pageX>=j&&h.pageX<j+c.host.width()){canClose=false}}if(h.pageY>=f&&h.pageY<=f+c.container.height()-20){if(h.pageX>=e&&h.pageX<e+c.container.width()){canClose=false}}if(canClose){c.close()}}})}var b="mousedown";if(this.touch){b=a.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.dropdownlistArrow,b,function(g){if(!c.disabled){var e=c.container.css("display")=="block";if(!c.isanimating){if(e){c.hideListBox();c.input.focus();setTimeout(function(){c.input.focus()},10)}else{if(c.autoComplete){}if(c.autoDropDownHeight){c.container.height(c.listBoxContainer.height()+25);var f=c.listBoxContainer.jqxListBox("autoHeight");if(!f){c.listBoxContainer.jqxListBox({autoHeight:c.autoDropDownHeight});c.listBox._arrange();c.listBox.ensureVisible(0);c.listBox._renderItems();c.container.height(c.listBoxContainer.height()+25)}}c.showListBox();c.input.focus();setTimeout(function(){c.input.focus()},10)}}}});this.addHandler(this.host,"focus",function(){c.focus()});this.addHandler(this.input,"focus",function(e){c.focused=true;c.host.addClass(c.toThemeProperty("jqx-combobox-state-focus"));c.host.addClass(c.toThemeProperty("jqx-fill-state-focus"));c.dropdownlistContent.addClass(c.toThemeProperty("jqx-combobox-content-focus"));if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}return false});this.addHandler(this.input,"blur",function(){c.focused=false;if(!c.isOpened()&&!c.opening){c.host.removeClass(c.toThemeProperty("jqx-combobox-state-focus"));c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"));c.dropdownlistContent.removeClass(c.toThemeProperty("jqx-combobox-content-focus"))}if(c._searchTimer){clearTimeout(c._searchTimer)}});this.addHandler(a(document),"mousedown."+this.id,c.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});if(this.touch){this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,c.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}this.addHandler(this.host,"keydown",function(h){var g=c.container.css("display")=="block";if(c.host.css("display")=="none"){return true}if(h.keyCode=="13"||h.keyCode=="9"){if(g&&!c.isanimating){c.renderSelection("mouse");var e=c.listBox.selectedIndex;c._setSelection(c.input.val().length,c.input.val().length);c.hideListBox();if(!c.keyboardSelection){c._raiseEvent("2",{index:c.selectedIndex,type:"keyboard",item:c.getItem(c.selectedIndex)})}else{if(c.autoComplete){c._raiseEvent("2",{index:c.selectedIndex,type:"keyboard",item:c.listBox.getVisibleItem(c.selectedIndex)})}}if(h.keyCode=="9"){return true}return false}}if(h.keyCode==115){if(!c.isanimating){if(!c.isOpened()){c.showListBox()}else{if(c.isOpened()){c.hideListBox()}}}return false}if(h.altKey){if(c.host.css("display")=="block"){if(!c.isanimating){if(h.keyCode==38){if(c.isOpened()){c.hideListBox()}}else{if(h.keyCode==40){if(!c.isOpened()){c.showListBox()}}}}}}if(h.keyCode=="27"||h.keyCode=="9"){if(c.isOpened()&&!c.isanimating){c.hideListBox();if(h.keyCode=="9"){return true}h.preventDefault();return false}}if(g&&!c.disabled){return c.listBox._handleKeyDown(h)}else{if(!c.disabled&&!g){var f=h.keyCode;if(f==33||f==34||f==35||f==36||f==38||f==40){return c.listBox._handleKeyDown(h)}}}});this.addHandler(this.listBoxContainer,"checkChange",function(e){c.renderSelection("mouse");c._updateInputSelection();c._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})});this.addHandler(this.listBoxContainer,"select",function(e){if(!c.disabled){if(e.args.type!="keyboard"||c.keyboardSelection){c.renderSelection(e.args.type);c._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item});if(e.args.type=="mouse"){if(e.args.item!=undefined){c.tempSelectedValue=e.args.item.value}if(!c.checkboxes){c.hideListBox();c.input.focus()}}}}});if(this.listBox!=null&&this.listBox.content!=null){this.addHandler(this.listBox.content,"click",function(e){if(!c.disabled){if(c.listBox.itemswrapper){if(e.target===c.listBox.itemswrapper[0]){return true}}c.renderSelection("mouse");if(!c.touch&&!c.ishiding){if(!c.checkboxes){c.hideListBox();c.input.focus()}}}})}},removeHandlers:function(){var b=this;if(this.dropdownlistWrapper!=null){this.removeHandler(this.dropdownlistWrapper,"mousedown")}this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");if(this.input!=null){this.removeHandler(this.input,"focus");this.removeHandler(this.input,"blur")}this.removeHandler(this.host,"mouseenter");this.removeHandler(a(document),"mousemove."+b.id)},getItem:function(b){var c=this.listBox.getItem(b);return c},getItemByValue:function(c){var b=this.listBox.getItemByValue(c);return b},getVisibleItem:function(b){var c=this.listBox.getVisibleItem(b);return c},renderSelection:function(j){if(j==undefined||j=="none"){return}if(this.listBox==null){return}var k=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var f=this.getCheckedItems();if(f!=null&&f.length>0){k=f[0]}else{k=null}}if(k==null){var d=a.jqx.browser.msie&&a.jqx.browser.version<8;if(!d){this.input.attr("placeholder",this.placeHolder)}this._updateInputSelection();return}this.selectedIndex=this.listBox.selectedIndex;var c=a("<span></span>");if(k.label!=undefined&&k.label!=null&&k.label.toString().length>0){a.jqx.utilities.html(c,k.label)}else{if(k.value!=undefined&&k.value!=null&&k.value.toString().length>0){a.jqx.utilities.html(c,k.value)}else{if(k.title!=undefined&&k.title!=null&&k.title.toString().length>0){a.jqx.utilities.html(c,k.title)}else{a.jqx.utilities.html(c,this.emptyString)}}}var b=c.outerHeight();if(this.checkboxes){var g=this.getCheckedItems();var h="";for(var e=0;e<g.length;e++){if(e==g.length-1){h+=g[e].label}else{h+=g[e].label+","}}this.input.val(h)}else{this.input.val(c.text())}c.remove();if(this.renderSelectedItem){var l=this.renderSelectedItem(this.listBox.selectedIndex,k);if(l!=undefined){this.input.val(l)}}this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(b){this.selectedIndex=-1;this.listBox.clearSelection();this.input.val("")},unselectIndex:function(b,c){if(isNaN(b)){return}this.listBox.unselectIndex(b,c);this.renderSelection("mouse")},selectIndex:function(b,d,e,c){this.listBox.selectIndex(b,d,e,c);this.renderSelection("mouse");this.selectedIndex=b},selectItem:function(b){if(this.listBox!=undefined){this.listBox.selectItem(b);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse")}},unselectItem:function(b){if(this.listBox!=undefined){this.listBox.unselectItem(b);this.renderSelection("mouse")}},checkItem:function(b){if(this.listBox!=undefined){this.listBox.checkItem(b)}},uncheckItem:function(b){if(this.listBox!=undefined){this.listBox.uncheckItem(b)}},indeteterminateItem:function(b){if(this.listBox!=undefined){this.listBox.indeteterminateItem(b)}},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(b){this.listBox.checkIndex(b)},uncheckIndex:function(b){this.listBox.uncheckIndex(b)},indeterminateIndex:function(b){this.listBox.indeterminateIndex(b)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(c,b){if(c==null){return false}return this.listBox.insertAt(c,b)},addItem:function(b){return this.listBox.addItem(b)},removeAt:function(c){var b=this.listBox.removeAt(c);this.renderSelection("mouse");return b},ensureVisible:function(b){this.listBox.ensureVisible(b)},disableAt:function(b){this.listBox.disableAt(b)},enableAt:function(b){this.listBox.enableAt(b)},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}if(c){var b=a(c).coord();return[b.left,b.top]}},testOffset:function(h,f,c){var g=h.outerWidth();var j=h.outerHeight();var i=a(window).width()+a(window).scrollLeft();var e=a(window).height()+a(window).scrollTop();if(f.left+g>i){if(g>this.host.width()){var d=this.host.coord().left;var b=g-this.host.width();f.left=d-b+2}}if(f.left<0){f.left=parseInt(this.host.coord().left)+"px"}f.top-=Math.min(f.top,(f.top+j>e&&e>j)?Math.abs(j+c+23):0);return f},open:function(){if(!this.isOpened()&&!this.opening){this.showListBox()}},close:function(){if(this.isOpened()){this.hideListBox()}},_getBodyOffset:function(){var c=0;var b=0;if(a("body").css("border-top-width")!="0px"){c=parseInt(a("body").css("border-top-width"));if(isNaN(c)){c=0}}if(a("body").css("border-left-width")!="0px"){b=parseInt(a("body").css("border-left-width"));if(isNaN(b)){b=0}}return{left:b,top:c}},showListBox:function(){if(this.listBox.items&&this.listBox.items.length==0){return}if(this.remoteAutoComplete){if(this.searchString!=this.input.val()){this.searchString=this.input.val();if(this.search!=null){this.search(this.input.val())}}}if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1){if(this.listBox.host.width()!=this.host.width()){var c=this.host.width();this.listBoxContainer.jqxListBox({width:c});this.container.width(parseInt(c)+25)}}var p=this;var e=this.listBoxContainer;var j=this.listBox;var m=a(window).scrollTop();var h=a(window).scrollLeft();var k=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())+"px";var g=parseInt(this.host.coord().left)+"px";if(a.jqx.browser.mozilla){}if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}if(this.autoComplete&&!this.isOpened()&&!this.opening){this.listBox.clearSelection();this._updateSearch()}var o=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();this.ishiding=false;var d=a.jqx.utilities.hasTransform(this.host);if(d||(o!=null&&o)){g=a.jqx.mobile.getLeftPos(this.element);k=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(a("body").css("border-top-width")!="0px"){k=parseInt(k)-this._getBodyOffset().top+"px"}if(a("body").css("border-left-width")!="0px"){g=parseInt(g)-this._getBodyOffset().left+"px"}}this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus"));this.container.css("left",g);this.container.css("top",k);j._arrange();var f=true;var q=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var l=this.container.outerWidth();var b=Math.abs(l-this.host.outerWidth()+1);if(a.jqx.browser.chrome){b++}if(l>this.host.width()){this.container.css("left",25+parseInt(g)-b+"px")}else{this.container.css("left",25+parseInt(g)+b+"px")}}if(this.enableBrowserBoundsDetection){var i=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(k)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=i.top){q=true;e.css("top",23)}else{e.css("top",0)}this.container.css("top",i.top);this.container.css("top",i.top);if(parseInt(this.container.css("left"))!=i.left){this.container.css("left",i.left)}}if(this.animationType=="none"){this.container.css("display","block");a.data(document.body,"openedComboJQXListBoxParent",p);a.data(document.body,"openedComboJQXListBox",e);e.css("margin-top",0);e.css("opacity",1)}else{this.container.css("display","block");var n=e.outerHeight();e.stop();if(this.animationType=="fade"){e.css("margin-top",0);e.css("opacity",0);e.animate({opacity:1},this.openDelay,function(){p.isanimating=false;p.opening=false;a.data(document.body,"openedComboJQXListBoxParent",p);a.data(document.body,"openedComboJQXListBox",e)})}else{e.css("opacity",1);if(q){e.css("margin-top",n)}else{e.css("margin-top",-n)}this.isanimating=true;this.opening=true;e.animate({"margin-top":0},this.openDelay,function(){p.isanimating=false;p.opening=false;a.data(document.body,"openedComboJQXListBoxParent",p);a.data(document.body,"openedComboJQXListBox",e)})}}j._renderItems();this._raiseEvent("0",j)},_updateSearch:function(){var c=this;if(c.autoComplete&&!c.remoteAutoComplete){var e=this.input.val();var d=this._getMatches(e);var f=d.matchItems;var b=d.index;if(f.length>0||e==""){this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;if(this.listBox.virtualSize.height<parseInt(this.dropDownHeight)){this.listBox.autoHeight=true;this.container.height(this.listBox.virtualSize.height+25);this.listBoxContainer.height(this.listBox.virtualSize.height);this.listBox._arrange()}else{this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange()}this.listBox._addItems();this.listBox._renderItems();b=0}}},hideListBox:function(){var f=this.listBoxContainer;var g=this.listBox;var c=this.container;if(this.container.css("display")=="none"){return}var d=this;a.data(document.body,"openedComboJQXListBox",null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!this.ishiding){var b=f.outerHeight();f.css("margin-top",0);f.stop();this.isanimating=true;var e=-b;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){e=b}if(this.animationType=="fade"){f.css({opacity:1});f.animate({opacity:0},this.closeDelay,function(){d.isanimating=false;c.css("display","none");d.ishiding=false})}else{f.animate({"margin-top":e},this.closeDelay,function(){d.isanimating=false;c.css("display","none");d.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));if(!this.focused){this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))}this._raiseEvent("1",g)},closeOpenedListBox:function(e){var d=e.data.me;var b=a(e.target);var c=e.data.listbox;if(c==null){return true}if(a(e.target).ischildof(e.data.me.host)){return}var f=d;var g=false;a.each(b.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){g=true;return false}if(this.className.indexOf("jqx-combobox")!=-1){if(d.element.id==this.id){g=true}return false}}}});if(c!=null&&!g){d.hideListBox()}return true},loadFromSelect:function(b){this.listBox.loadFromSelect(b)},refresh:function(b){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}},_arrange:function(){var f=parseInt(this.host.width());var b=parseInt(this.host.height());var e=this.arrowSize;var d=this.arrowSize;var i=1;var c=f-d-1*i;if(c>0){this.dropdownlistContent.width(c+"px")}this.dropdownlistContent.height(b);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(d);this.dropdownlistArrow.height(b);this.dropdownlistArrow.css("left",1+c+"px");this.input.css("width","100%");var g=this.input.height();if(g==0){g=parseInt(this.input.css("font-size"))+3}this.input.addClass(this.toThemeProperty("jqx-rc-all"));var h=parseInt(b)/2-parseInt(g)/2;if(h>0){this.input.css("margin-top",h)}if(this.rtl){this.dropdownlistArrow.css("left","0px");this.dropdownlistContent.css("left",this.dropdownlistArrow.width());if(a.jqx.browser.msie&&a.jqx.browser.version<=8){this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())}}},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id);this.source.unbindBindingUpdate(this.listBoxContainer[0].id);this.source.unbindDownloadComplete(this.element.id);this.source.unbindDownloadComplete(this.listBoxContainer[0].id)}this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id)}this.container.remove();this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==2||f==3||f==4||f==5){e.args=c}var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,c,f,e){if(b.isInitialized==undefined||b.isInitialized==false){return}if(c=="popupZIndex"){b.listBoxContainer.css({zIndex:b.popupZIndex})}if(c=="promptText"){b.placeHolder=e}if(c=="autoOpen"){b._updateHandlers()}if(c=="renderer"){b.listBox.renderer=b.renderer}if(c=="itemHeight"){b.listBox.itemHeight=e}if(c=="source"){b.input.val("");b.listBoxContainer.jqxListBox({source:b.source});b.renderSelection("mouse");if(b.source==null){b.clearSelection()}}if(c=="rtl"){if(e){b.dropdownlistArrow.css("float","left");b.dropdownlistContent.css("float","right")}else{b.dropdownlistArrow.css("float","right");b.dropdownlistContent.css("float","left")}b.listBoxContainer.jqxListBox({rtl:b.rtl})}if(c=="displayMember"||c=="valueMember"){b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember});b.renderSelection("mouse")}if(c=="autoDropDownHeight"){b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight});if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25)}else{b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownHeight"){if(!b.autoDropDownHeight){b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownWidth"||c=="scrollBarSize"){var d=b.width;if(b.dropDownWidth!="auto"){d=b.dropDownWidth}b.listBoxContainer.jqxListBox({width:d,scrollBarSize:b.scrollBarSize});b.container.width(parseInt(d)+25)}if(c=="autoComplete"){b._resetautocomplete()}if(c=="checkboxes"){b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes});if(b.checkboxes){b.input.attr("readonly",true)}}if(c=="theme"&&e!=null){b.listBoxContainer.jqxListBox({theme:e});b.dropdownlistContent.removeClass();b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content"));b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content"));b.input.removeClass();b.input.addClass(b.toThemeProperty("jqx-combobox-input"));b.input.addClass(this.toThemeProperty("jqx-widget-content"));b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.dropdownlistArrow.removeClass();b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal"))}if(c=="width"||c=="height"){b._setSize();if(c=="width"){if(b.dropDownWidth=="auto"){var d=b.host.width();b.listBoxContainer.jqxListBox({width:d});b.container.width(parseInt(d)+25)}}b._arrange()}if(c=="selectedIndex"){b.listBox.selectIndex(e);b.renderSelection("mouse")}}})})(jQuery);

/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{});a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){if(this.value==undefined){this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}if(this.minDate==undefined){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1)}if(this.maxDate==undefined){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1)}this.min=new Date(1900,0,1);this.max=new Date(2100,0,1);if(this.firstDayOfWeek==undefined){this.firstDayOfWeek=0}if(this.showWeekNumbers==undefined){this.showWeekNumbers=false}this.cookies=false;this.cookieoptions=null;this.showFooter=false;if(this.formatString===undefined){this.formatString="dd/MM/yyyy"}if(this.width===undefined){this.width=null}if(this.height===undefined){this.height=null}if(this.dayNameFormat===undefined){this.dayNameFormat="firstTwoLetters"}if(this.textAlign===undefined){this.textAlign="left"}if(this.readonly===undefined){this.readonly=false}if(this.culture===undefined){this.culture="default"}this.activeEditor=this.activeEditor||null;if(this.showCalendarButton===undefined){this.showCalendarButton=true}if(this.openDelay==undefined){this.openDelay=350}if(this.closeDelay===undefined){this.closeDelay=400}if(this.closeCalendarAfterSelection===undefined){this.closeCalendarAfterSelection=true}this.isEditing=false;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.enableAbsoluteSelection=false;this.disabled=false;this.buttonSize=18;this.animationType="slide";this.dropDownWidth="205px";this.dropDownHeight="205px";this.selectionMode="default";this.rtl=false;this._editor=false;this.todayString="Today";this.clearString="Clear";this.popupZIndex=100000;this.localization={backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}};this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"];this.aria={"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(c){var e="";if(!this.host.jqxCalendar){throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.")}if(this.host.attr("value")){e=true;var g=this.host.attr("value");if(this.selectionMode!="range"){var b=new Date(g);if(b!=undefined&&!isNaN(b)){this.value=a.jqx._jqxDateTimeInput.getDateTime(b)}}}if(this.value!=null&&this.value instanceof Date){this.value=a.jqx._jqxDateTimeInput.getDateTime(this.value)}else{if(this.value!=null&&typeof(this.value)=="string"){var b=new Date(this.value);if(b!=undefined&&!isNaN(b)){this.value=a.jqx._jqxDateTimeInput.getDateTime(b)}}}this.host.attr("data-role","input");this.render();a.jqx.aria(this);this.setMaxDate(this.max,false);this.setMinDate(this.min,false);if(this.selectionMode=="range"){if(e){var g=this.host.attr("value");var f=g.substring(0,g.indexOf("-"));var d=g.substring(g.indexOf("-")+1);var j=new Date(f);var h=new Date(d);if(j!=undefined&&!isNaN(j)){if(h!=undefined&&!isNaN(h)){this.setRange(j,h)}}}else{if(this.getDate()!=null){this.setRange(this.getDate(),this.getDate())}}}},_format:function(d,e,b){var f=false;try{if(Globalize!=undefined){f=true}}catch(c){}if(a.global){return a.global.format(d,e,this.culture)}else{if(f){return Globalize.format(d,e,this.culture)}else{if(a.jqx.dataFormat){if(d instanceof Date){return a.jqx.dataFormat.formatdate(d,e,this.localization.calendar)}else{if(typeof d==="number"){return a.jqx.dataFormat.formatnumber(d,e,this.localization.calendar)}else{return a.jqx.dataFormat.formatdate(d,e,this.localization.calendar)}}}}}},render:function(){this._removeHandlers();this.element.innerHTML="";this.host.attr({role:"dateTimeInput"});this.id=a.jqx.utilities.createId();var f=this.createID();var k=this.createID();var b=a("<div style='overflow: hidden; border: 0px;'><div id='dateTimeWrapper' style='float: none; position: relative; width: 100%; height: 100%;'><div id='dateTimeContent"+f+"' style='position: relative; overflow: hidden; float: left;'/><div id='dateTimeButton"+k+"' style='position: relative; float: right;'/></div></div>");this._setSize();if(this.width==null){this.width=this.host.width();this.host.width(this.width)}this.touch=a.jqx.mobile.isTouchDevice();this.host.append(b);this.dateTimeWrapper=this.host.find("#dateTimeWrapper");this.inputElement=this.host.find("#dateTimeContent"+f);this.calendarElement=this.host.find("#dateTimeButton"+k);this.dateTimeInput=a("<input autocomplete='off' style='position: relative; border: none; margin: 0; padding: 0;' id='inputElement' class='jqx-input-content' type='textarea'/>").appendTo(this.inputElement);this.dateTimeInput[0].id="input"+this.element.id;this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));var c=this.host.attr("name");if(!c){c=this.element.id}this.dateTimeInput.attr("name",c);if(this.rtl){this.dateTimeInput.css("direction","rtl");this.dateTimeInput.addClass("jqx-rtl");this.inputElement.css("float","right");this.calendarElement.css("float","left")}this.inputElement.addClass(this.toThemeProperty("jqx-input"));this.inputElement.addClass(this.toThemeProperty("jqx-widget-content"));this.inputElement.addClass(this.toThemeProperty("jqx-rc-all"));this.inputElement.height(this.host.height()-2);this.calendarButton=a("<div style='padding: 0px; margin: 0px; top: 0; font-size: 3px; position: relative;' class='jqx-input-button-header'><div style='position: relative; font-size: 3px;' class='jqx-input-button-innerheader'></div></div><div style='padding: 0px; margin: 0px; top: 0; position: relative;' class='jqx-input-button-content'/>").appendTo(this.calendarElement);this.calendarButtonContent=this.host.find(".jqx-input-button-content");this.calendarButtonHeader=this.host.find(".jqx-input-button-header");this.calendarButtonInnerHeader=this.host.find(".jqx-input-button-innerheader");this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-input-button-content"));this.calendarButtonContent.addClass(this.toThemeProperty("jqx-input-button-content"));this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-widget-content"));this.calendarButtonContent.addClass(this.toThemeProperty("jqx-widget-content"));this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-input-button-header"));this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-input-button-header"));this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-widget-header"));this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-widget-header"));this.calendarButtonInnerHeader.removeClass(this.toThemeProperty("jqx-input-button-innerHeader"));this.calendarButtonInnerHeader.addClass(this.toThemeProperty("jqx-input-button-innerHeader"));var m=this;this._arrange();this.addHandler(this.host,"loadContent",function(e){m._arrange()});if(this.showCalendarButton){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}if(a.jqx._jqxCalendar!=null&&a.jqx._jqxCalendar!=undefined){try{var j="calendar"+this.id;var h=a(a.find("#"+j));if(h.length>0){h.remove()}var d=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.id+"'><div id='innerCalendar"+this.id+"'></div></div>");if(a.jqx.utilities.getBrowser().browser=="opera"){d.hide()}d.appendTo(document.body);this.container=d;this.calendarContainer=a(a.find("#innerCalendar"+this.id)).jqxCalendar({_checkForHiddenParent:false,enableAutoNavigation:false,canRender:false,localization:this.localization,todayString:this.todayString,clearString:this.clearString,dayNameFormat:this.dayNameFormat,rtl:this.rtl,culture:this.culture,showFooter:this.showFooter,selectionMode:this.selectionMode,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme});this.calendarContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0});this._calendar=a.data(this.calendarContainer[0],"jqxCalendar").instance;var m=this;this._calendar.today=function(){m.setDate(new Date);m.hideCalendar()};this._calendar.clear=function(){m.setDate(null);m.hideCalendar()};if(a.jqx.utilities.getBrowser().browser=="opera"){d.show()}d.height(parseInt(this.calendarContainer.height())+25);d.width(parseInt(this.calendarContainer.width())+25);if(this.selectionMode=="range"){this.readonly=true}if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(l){}}if(a.global){a.global.preferCulture(this.culture)}this.selectedText="";this._addHandlers();this.self=this;this.oldValue=this.getDate();this.items=new Array();this.editors=new Array();if(this.value){this.calendarButtonContent.html("<div style='line-height: 16px;  color: inherit; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>")}this._loadItems();this.editorText="";if(this.readonly==true){this.dateTimeInput.css("readonly",this.readonly)}this.dateTimeInput.css("text-align",this.textAlign);this.host.addClass(this.toThemeProperty("jqx-widget"));this.propertyChangeMap.disabled=function(e,p,o,q){if(q){e.host.addClass(m.toThemeProperty("jqx-input-disabled"));e.dateTimeInput.addClass(m.toThemeProperty("jqx-input-disabled"));e.host.addClass(m.toThemeProperty("jqx-fill-state-disabled"))}else{e.host.removeClass(m.toThemeProperty("jqx-fill-state-disabled"));e.host.removeClass(m.toThemeProperty("jqx-input-disabled"));e.dateTimeInput.removeClass(m.toThemeProperty("jqx-input-disabled"))}a.jqx.aria(this,"aria-disabled",q)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-input-disabled"));this.host.addClass(this.toThemeProperty("jqx-input-disabled"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-disabled"))}if(this.host.parents("form").length>0){this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){m.setDate(new Date())},10)})}if(this.cookies){var g=a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);if(g!=null){this.setDate(new Date(g))}}if(a.jqx.browser.msie&&a.jqx.browser.version<8){if(this.host.parents(".jqx-window").length>0){var n=this.host.parents(".jqx-window").css("z-index");this.container.css("z-index",n+10);this.calendarContainer.css("z-index",n+10)}}if(this.culture!="default"){this._applyCulture()}},val:function(b){if(arguments.length!=0){if(b==null){this.setDate(null)}if(this.selectionMode=="range"){this.setRange(arguments[0],arguments[1]);return this.getText()}if(b instanceof Date){this.setDate(b)}if(typeof(b)=="string"){if(b=="date"){return this.getDate()}this.setDate(b)}}return this.getText()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}var c=this;var d=function(){if(c.calendarContainer){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.calendarContainer.jqxCalendar({width:f});c.container.width(parseInt(f)+25)}}};if(e){if(this.calendarContainer){this.refresh(false);var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.calendarContainer.jqxCalendar({width:b});this.container.width(parseInt(b)+25)}this.removeHandler(a(window),"resize."+this.id);this.addHandler(a(window),"resize."+this.id,function(){d()})}var c=this;if(!this._hiddenParentTimer){if(a.jqx.isHidden(this.host)){this._hiddenParentTimer=setInterval(function(){try{if(!a.jqx.isHidden(c.host)){clearInterval(c._hiddenParentTimer);d()}}catch(f){}},10)}}},_arrange:function(){var d=parseInt(this.host.width());var l=parseInt(this.host.height());var j=this.buttonSize;var f=3;this.calendarButtonHeader.width(j);this.calendarButtonContent.height(j-f);this.calendarButtonContent.width(j);this.inputElement.height(l-2);var h=parseInt(this.inputElement.outerHeight())-parseInt(this.inputElement.height());h=0;var b=d-parseInt(this.calendarButton.outerWidth())-1*f;if(b>0){this.inputElement.width(b+"px")}this.dateTimeInput.width(b-f+"px");this.dateTimeInput.css("left",0);this.dateTimeInput.css("top",0);this.inputElement.css("left",0);this.inputElement.css("top",0);var k=parseInt(this.calendarButtonHeader.outerWidth())/2-parseInt(this.calendarButtonInnerHeader.outerWidth())/2;this.calendarButtonInnerHeader.css("left",k);var m=parseInt(this.calendarButtonContent.outerHeight())+parseInt(this.calendarButtonHeader.outerHeight());var g=parseInt(this.inputElement.outerHeight())/2-m/2;this.calendarElement.css("top",parseInt(g)+"px");var c=this.dateTimeInput.outerHeight();if(c==0){c=parseInt(this.dateTimeInput.css("font-size"))+3}var e=parseInt(this.inputElement.height())/2-parseInt(c)/2;var l=this.host.height()-2;if(l>16){this.dateTimeInput.height(l)}},_removeHandlers:function(){var b=this;this.removeHandler(a(document),"mousedown."+this.id);if(this.dateTimeInput){this.removeHandler(this.dateTimeInput,"keydown."+this.id);this.removeHandler(this.dateTimeInput,"blur");this.removeHandler(this.dateTimeInput,"focus");this.removeHandler(this.host,"focus");this.removeHandler(this.dateTimeInput,"mousedown");this.removeHandler(this.dateTimeInput,"mouseup");this.removeHandler(this.dateTimeInput,"keydown");this.removeHandler(this.dateTimeInput,"keyup");this.removeHandler(this.dateTimeInput,"keypress")}if(this.calendarButton!=null){this.removeHandler(this.calendarButton,"mousedown")}if(this.calendarContainer!=null){this.removeHandler(this.calendarContainer,"cellSelected");this.removeHandler(this.calendarContainer,"cellMouseDown")}this.removeHandler(a(window),"resize."+this.id)},isOpened:function(){var c=this;var b=a.data(document.body,"openedJQXCalendar"+this.id);if(b!=null&&b==c.calendarContainer){return true}return false},wheel:function(d,c){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(!b){if(d.preventDefault){d.preventDefault()}d.returnValue=false;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(b){if(b<0){this.spinDown()}else{this.spinUp()}return false},focus:function(){try{this.dateTimeInput.focus()}catch(b){}},_addHandlers:function(){var e=this.element.id;var c=this.element;var d=this;this.addHandler(this.host,"mousewheel",function(f){d.wheel(f,d)});this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this});this.addHandler(this.dateTimeInput,"keydown."+this.id,function(h){var g=a.data(document.body,"openedJQXCalendar"+d.id);if(g!=null&&g==d.calendarContainer){var f=d.handleCalendarKey(h,d);return f}});if(this.calendarContainer!=null){this.addHandler(this.calendarContainer,"keydown",function(f){if(f.keyCode==13){if(d.isOpened()){d.hideCalendar("selected");d.dateTimeInput.focus();return false}return true}else{if(f.keyCode==9){if(d.isOpened()){d.hideCalendar("selected");return true}}else{if(f.keyCode==27){if(d.isOpened()){d.hideCalendar();d.dateTimeInput.focus();return false}return true}}}if(f.keyCode==115){if(d.isOpened()){d.hideCalendar();d.dateTimeInput.focus();return false}else{if(!d.isOpened()){d.showCalendar();d.dateTimeInput.focus();return false}}}if(f.altKey){if(f.keyCode==38){if(d.isOpened()){d.hideCalendar();d.dateTimeInput.focus();return false}}else{if(f.keyCode==40){if(!d.isOpened()){d.showCalendar();d.dateTimeInput.focus();return false}}}}});this.addHandler(this.calendarContainer,"cellSelected",function(g){if(d.closeCalendarAfterSelection){var f=a.data(document.body,"openedJQXCalendarValue");if(g.args.selectionType=="mouse"){if(d.selectionMode!="range"){d.hideCalendar("selected")}else{if(d._calendar._clicks==0){d.hideCalendar("selected")}}}}});this.addHandler(this.calendarContainer,"cellMouseDown",function(f){if(d.closeCalendarAfterSelection){if(d._calendar.value){a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(d._calendar.value.dateTime))}}})}this.addHandler(this.dateTimeInput,"blur",function(){if(d.value!=null){d.isEditing=false;d._validateValue();d._updateText();d._raiseEvent(9,event)}d.inputElement.removeClass(d.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(f){d.focus()});this.addHandler(this.dateTimeInput,"focus",function(g){if(d.value!=null){if(d.selectionMode!="range"){d._oldDT=new Date(d.value.dateTime)}else{d._oldDT=d.getRange()}var f=d._selection();d.isEditing=true;d._validateValue();d._updateText();d._setSelectionStart(f.start);d._selectGroup(-1);d.inputElement.addClass(d.toThemeProperty("jqx-fill-state-focus"))}else{d._setSelectionStart(0);d._selectGroup(-1);d.inputElement.addClass(d.toThemeProperty("jqx-fill-state-focus"))}if(g.preventDefault){g.preventDefault();return false}});var b="mousedown";if(this.touch){b=a.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.calendarButton,b,function(g){var h=d.container;var f=h.css("display")=="block";if(!d.disabled){if(!d.isanimating){if(f){d.hideCalendar()}else{d.showCalendar();g.preventDefault()}}}});this.addHandler(this.dateTimeInput,"mousedown",function(f){return d._raiseEvent(2,f)});this.addHandler(this.dateTimeInput,"mouseup",function(f){return d._raiseEvent(3,f)});this.addHandler(this.dateTimeInput,"keydown",function(f){return d._raiseEvent(4,f)});this.addHandler(this.dateTimeInput,"keyup",function(f){return d._raiseEvent(5,f)});this.addHandler(this.dateTimeInput,"keypress",function(f){return d._raiseEvent(6,f)})},createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;return"dateTimeInput"+b},setMaxDate:function(b,c){if(b==null){return}this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b);if(this._calendar!=null){this._calendar.setMaxDate(b)}if(c!=false){if(this.getDate()>b){this.setDate(b)}a.jqx.aria(this,"aria-valuemax",b);this._refreshValue();this._updateText()}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(b,c){if(b==null){return}this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b);if(this._calendar!=null){this._calendar.setMinDate(b)}if(c!=false){if(this.getDate()<b){this.setDate(b)}a.jqx.aria(this,"aria-valuemin",b);this._refreshValue();this._updateText()}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},_applyCulture:function(){var d=false;try{if(Globalize!=undefined){d=true}}catch(c){}try{if(a.global){a.global.preferCulture(this.culture);this.localization.calendar=a.global.culture.calendar}else{if(d){var b=Globalize.culture(this.culture);this.localization.calendar=b.calendar}}this._loadItems();if(this._calendar!=null){this._calendar.culture=this.culture;this._calendar.localization=this.localization;this._calendar.render()}}catch(c){}},propertyMap:function(b){if(b=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},propertyChangedHandler:function(c,d,f,e){if(c.isInitialized==undefined||c.isInitialized==false){return}if(d=="popupZIndex"){c.calendarContainer.css({zIndex:e})}if(d=="selectionMode"){c._calendar.selectionMode=e;c.refreshValue()}if(d=="min"){if(typeof(e)=="string"){c.setMinDate(new Date(e))}else{c.setMinDate(e)}}if(d=="max"){if(typeof(e)=="string"){c.setMaxDate(new Date(e))}else{c.setMaxDate(e)}}if(d=="value"){if(e!=null&&e instanceof Date){e=a.jqx._jqxDateTimeInput.getDateTime(e)}else{if(e!=null&&typeof(e)=="string"){var b=new Date(e);if(b!=undefined&&!isNaN(b)){e=a.jqx._jqxDateTimeInput.getDateTime(b)}}}}if(d=="rtl"){c.calendarContainer.jqxCalendar({rtl:e});if(e){c.dateTimeInput.css("direction","rtl");c.dateTimeInput.addClass("jqx-rtl");c.inputElement.css("float","right");c.calendarElement.css("float","left")}else{c.dateTimeInput.css("direction","ltr");c.dateTimeInput.removeClass("jqx-rtl");c.inputElement.css("float","left");c.calendarElement.css("float","right")}}if(d=="todayString"||d=="clearString"){c.calendarContainer.jqxCalendar({clearString:c.clearString,todayString:c.todayString})}if(d=="dayNameFormat"){c.calendarContainer.jqxCalendar({dayNameFormat:e})}if(d=="firstDayOfWeek"){c.calendarContainer.jqxCalendar({firstDayOfWeek:e})}if(d=="showWeekNumbers"){c.calendarContainer.jqxCalendar({showWeekNumbers:e})}if(d=="culture"||d=="localization"){c._applyCulture()}else{if(d=="formatString"){c._loadItems()}}if(d=="theme"){if(c.dateTimeInput){c.host.removeClass();c.host.addClass(c.toThemeProperty("jqx-widget"));c.dateTimeInput.removeClass();c.dateTimeInput.addClass(c.toThemeProperty("jqx-input-content"));c.dateTimeInput.addClass(c.toThemeProperty("jqx-widget-content"));c.inputElement.removeClass();c.inputElement.addClass(c.toThemeProperty("jqx-input"));c.inputElement.addClass(c.toThemeProperty("jqx-widget-content"));c.inputElement.addClass(c.toThemeProperty("jqx-rc-all"));c.calendarButtonContent.removeClass();c.calendarButtonContent.addClass(c.toThemeProperty("jqx-input-button-content"));c.calendarButtonContent.addClass(c.toThemeProperty("jqx-widget-content"));c.calendarButtonHeader.removeClass();c.calendarButtonHeader.addClass(c.toThemeProperty("jqx-input-button-header"));c.calendarButtonHeader.addClass(c.toThemeProperty("jqx-widget-header"));c.calendarButtonInnerHeader.removeClass();c.calendarButtonInnerHeader.addClass(c.toThemeProperty("jqx-input-button-innerHeader"));c.calendarContainer.jqxCalendar({theme:e})}}if(d=="width"||d=="height"){c.refresh()}c._setOption(d,e);if(d=="dropDownWidth"||d=="dropDownHeight"){c.calendarContainer.jqxCalendar({width:c.dropDownWidth,height:c.dropDownHeight});c._calendar.render();c.container.height(c.calendarContainer.height());c.container.width(c.calendarContainer.width())}},clear:function(){this.setDate(null)},setDate:function(b){if(b!=null&&typeof(b)=="string"){b=new Date(b);if(b=="Invalid Date"){return}}if(b=="Invalid Date"){return}if(b==null||b=="null"||b=="undefined"){if(this.value!=null){this.value=null;this._calendar.setDate(null);this._refreshValue();if(this.cookies){if(this.value!=null){a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._raiseEvent("0",b)}return}if(b<this.getMinDate()||b>this.getMaxDate()){return}if(this.value==null){this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}if(b.getFullYear){this.value._setYear(b.getFullYear());this.value._setDay(1);this.value._setMonth(b.getMonth()+1);this.value._setHours(b.getHours());this.value._setMinutes(b.getMinutes());this.value._setSeconds(b.getSeconds());this.value._setMilliseconds(b.getMilliseconds());this.value._setDay(b.getDate())}this._refreshValue();if(this.cookies){if(this.value!=null){a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._raiseEvent("0",b);this._raiseEvent("9",b)},getDate:function(){if(this.value==undefined){return null}return new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(d,c){if(d!=null&&typeof(d)=="string"){d=new Date(d);if(d=="Invalid Date"){return}}if(c!=null&&typeof(c)=="string"){c=new Date(c);if(c=="Invalid Date"){return}}this._calendar.setRange(d,c);var b=d;if(b!=null&&b.getFullYear){this.value._setYear(b.getFullYear());this.value._setMonth(b.getMonth()+1);this.value._setHours(b.getHours());this.value._setMinutes(b.getMinutes());this.value._setSeconds(b.getSeconds());this.value._setMilliseconds(b.getMilliseconds());this.value._setDay(b.getDate())}this._refreshValue();if(this.value){this._raiseEvent("0",this.value.dateTime)}},getRange:function(){return this._calendar.getRange()},_validateValue:function(){var b=false;for(var d=0;d<this.items.length;d++){var c=this.editors[d].value;switch(this.items[d].type){case"FORMAT_AMPM":if(c<0){c=0}else{if(c>1){c=1}}break;case"Character":break;case"Day":if(c<1){c=1}else{if(c>31){c=31}}break;case"FORMAT_hh":if(c<1){c=1}else{if(c>12){c=12}}break;case"FORMAT_HH":if(c<0){c=0}else{if(c>23){c=23}}break;case"Millisecond":if(c<0){c=0}else{if(c>99){c=99}}break;case"Minute":if(c<0){c=0}else{if(c>59){c=59}}break;case"Month":if(c<1){c=1}else{if(c>12){c=12}}break;case"ReadOnly":break;case"Second":if(c<0){c=0}else{if(c>59){c=59}}break;case"Year":if(c<this.minDate.year){c=this.minDate.year}else{if(c>this.maxDate.year){c=this.maxDate.year}}break}if(this.editors[d].value!=c){this.editors[d].value=c;b=true}}this.updateValue();if(this.value!=null){if(this.value.dateTime>this.maxDate.dateTime){this._internalSetValue(this.maxDate);this._updateEditorsValue()}else{if(this.value.dateTime<this.minDate.dateTime){this._internalSetValue(this.minDate);this._updateEditorsValue()}}}},spinUp:function(){var d=this.value;if(d==null){return}if(this.activeEditor!=null){var b=this.editors.indexOf(this.activeEditor);if(b==-1){return}if(this.items[b].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=c}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var e=this.editors.indexOf(this.activeEditor);if(e>=0){this._selectGroup(e)}},spinDown:function(){var d=this.value;if(d==null){return}if(this.activeEditor!=null){var b=this.editors.indexOf(this.activeEditor);if(b==-1){return}if(this.items[b].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=c}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var e=this.editors.indexOf(this.activeEditor);if(e>=0){this._selectGroup(e)}},_passKeyToCalendar:function(c){if(c.keyCode==13||c.keyCode==9){this.hideCalendar("selected");return true}else{if(c.keyCode==27){var e=this.calendarContainer;var d=this._calendar;var f=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;d.setDate(this.value.dateTime);this.closeCalendarAfterSelection=f;this.hideCalendar()}}var f=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;var b=this._calendar._handleKey(c);this.closeCalendarAfterSelection=f;return b},handleCalendarKey:function(f,e){var c=a(f.target);var d=a.data(document.body,"openedJQXCalendar"+this.id);if(d!=null){if(d.length>0){var b=e._passKeyToCalendar(f);return b}}return true},_findPos:function(c){if(c==null){return}while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).coord();return[b.left,b.top]},testOffset:function(h,f,c){var g=h.outerWidth();var k=h.outerHeight();var j=a(window).width()+a(window).scrollLeft();var e=a(window).height()+a(window).scrollTop();if(f.left+g>j){if(g>this.host.width()){var d=this.host.coord().left;var b=g-this.host.width();f.left=d-b+2}}if(f.left<0){f.left=parseInt(this.host.coord().left)+"px"}f.top-=Math.min(f.top,(f.top+k>e&&e>k)?Math.abs(k+c+23):0);return f},open:function(){this.showCalendar()},close:function(b){this.hideCalendar()},_getBodyOffset:function(){var c=0;var b=0;if(a("body").css("border-top-width")!="0px"){c=parseInt(a("body").css("border-top-width"));if(isNaN(c)){c=0}}if(a("body").css("border-left-width")!="0px"){b=parseInt(a("body").css("border-left-width"));if(isNaN(b)){b=0}}return{left:b,top:c}},showCalendar:function(){var m=this.calendarContainer;var q=this._calendar;if(this.value!=null){if(this.selectionMode!="range"){this._oldDT=new Date(this.value.dateTime)}else{this._oldDT=this.getRange()}}else{this._oldDT=null}if(!q.canRender){q.canRender=true;q.render()}var l=this.container;var p=this;var e=a(window).scrollTop();var f=a(window).scrollLeft();var n=parseInt(this._findPos(this.inputElement[0])[1])+parseInt(this.inputElement.outerHeight())-1+"px";var d=parseInt(this.host.coord().left)+"px";var t=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();var h=a.jqx.utilities.hasTransform(this.host);if(h||(t!=null&&t)){d=a.jqx.mobile.getLeftPos(this.element);n=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(a("body").css("border-top-width")!="0px"){n=parseInt(n)-this._getBodyOffset().top+"px"}if(a("body").css("border-left-width")!="0px"){d=parseInt(d)-this._getBodyOffset().left+"px"}}this.container.css("left",d);this.container.css("top",n);var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;this.isEditing=false;this._validateValue();this._updateText();var r=this.value!=null?this.value.dateTime:new Date();if(p.selectionMode=="default"){q.setDate(r)}this.closeCalendarAfterSelection=c;var b=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var k=this.container.outerWidth();var s=Math.abs(k-this.host.outerWidth()+2);if(!this.rtl){s-=2}if(k>this.host.width()){var g=this.rtl?23:2;this.container.css("left",g+parseInt(d)-s+"px")}else{this.container.css("left",25+parseInt(d)+s+"px")}}if(this.enableBrowserBoundsDetection){var j=this.testOffset(m,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=j.top){b=true;m.css("top",23)}else{m.css("top",0)}this.container.css("top",j.top);if(parseInt(this.container.css("left"))!=j.left){this.container.css("left",j.left)}}this._raiseEvent(7,m);if(this.animationType!="none"){this.container.css("display","block");var o=parseInt(m.outerHeight());m.stop();this.isanimating=true;this.opening=true;if(this.animationType=="fade"){m.css("margin-top",0);m.css("opacity",0);m.animate({opacity:1},this.openDelay,function(){p.isanimating=false;p.opening=false;a.data(document.body,"openedJQXCalendar"+p.id,m);p.calendarContainer.focus()})}else{m.css("opacity",1);if(b){m.css("margin-top",o)}else{m.css("margin-top",-o)}m.animate({"margin-top":0},this.openDelay,function(){p.isanimating=false;p.opening=false;a.data(document.body,"openedJQXCalendar"+p.id,m);p.calendarContainer.focus()})}}else{m.stop();p.isanimating=false;p.opening=false;m.css("opacity",1);m.css("margin-top",0);this.container.css("display","block");a.data(document.body,"openedJQXCalendar"+p.id,m);this.calendarContainer.focus()}if(this.value==null){if(this._calendar&&this._calendar._getSelectedCell()){this._calendar._getSelectedCell().isSelected=false}}},hideCalendar:function(g){var f=this.calendarContainer;var c=this.container;var d=this;a.data(document.body,"openedJQXCalendar"+this.id,null);if(this.animationType!="none"){var b=f.outerHeight();f.css("margin-top",0);this.isanimating=true;var e=-b;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){e=b}if(this.animationType=="fade"){f.animate({opacity:0},this.closeDelay,function(){c.css("display","none");d.isanimating=false})}else{f.animate({"margin-top":e},this.closeDelay,function(){c.css("display","none");d.isanimating=false})}}else{c.css("display","none")}if(g!=undefined){this._updateSelectedDate()}this._raiseEvent(8,f);this._raiseEvent(9,f)},_updateSelectedDate:function(){var f=this.value;if(f==null){f=new a.jqx._jqxDateTimeInput.getDateTime(new Date());f._setHours(0);f._setMinutes(0);f._setSeconds(0);f._setMilliseconds(0)}var b=f.hour;var g=f.minute;var e=f.second;var c=f.millisecond;if(this.selectionMode=="range"&&this._calendar.getRange().from==null){this.setDate(null);return}var d=new a.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);d._setHours(b);d._setMinutes(g);d._setSeconds(e);d._setMilliseconds(c);this.setDate(d.dateTime)},_closeOpenedCalendar:function(b){var e=a(b.target);var k=a.data(document.body,"openedJQXCalendar"+b.data.me.id);var d=false;a.each(e.parents(),function(){if(this.className.indexOf("jqx-calendar")!=-1){d=true;return false}if(this.className.indexOf("jqx-input")!=-1){d=true;return false}});if(a(b.target).ischildof(b.data.me.host)){return true}if(b.target!=null&&(b.target.tagName=="B"||b.target.tagName=="b")){var l=b.data.me.host.coord();var n=b.data.me.host.width();var c=b.data.me.host.height();var m=parseInt(l.top);var g=parseInt(l.left);if(m<=b.pageY&&b.pageY<=m+c){if(g<=b.pageX&&b.pageX<=g+n){return true}}}if(k!=null&&!d){if(k.length>0){var h=k[0].id.toString();var f=h.toString().substring(13);var j=a(document).find("#"+f);b.data.me.hideCalendar();a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}}},_loadItems:function(){if(this.value!=null){this.items=new Array();var d=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(d);this.editors=new Array();for(var b=0;b<this.items.length;b++){var c=this.items[b].getDateTimeEditorByItemType(this.value,this);this.editors[b]=c}}this._updateEditorsValue();this._updateText()},_updateText:function(){var d="";if(this.items.length==0&&this.value!=null){this._loadItems()}if(this.value!=null){if(this.items.length>=1){d=this.format(this.value,0,this.items.length)}var b=this.dateTimeInput.val();if(b!=d){this._raiseEvent(1,this.value)}}if(this.selectionMode=="range"){var c=this.getRange();fromText=this.format(this.value,0,this.items.length);if(c.to){var f=a.jqx._jqxDateTimeInput.getDateTime(c.from);fromText=this.format(f,0,this.items.length);var e=a.jqx._jqxDateTimeInput.getDateTime(c.to);toText=this.format(e,0,this.items.length);var d=fromText+" - "+toText}}this.dateTimeInput.val(d)},format:function(g,h,f){var b="";for(var e=h;e<f;++e){var c=this.items[e].dateParser(g,this);if(this.isEditing&&this.items[e].type!="ReadOnly"){if(this.selectionMode!="range"){var d=this.items[e].type=="Day"&&this.items[e].format.length>2;if(this.items[e].type=="FORMAT_AMPM"){d=true;if(this.editors[e].value==0){c=this.editors[e].amString}else{c=this.editors[e].pmString}}if(!d){c=this.items[e].dateParserInEditMode(new Number(this.editors[e].value),"d"+this.editors[e].maxEditPositions,this);while(c.length<this.editors[e].maxEditPositions){c="0"+c}}}}b+=c}return b},_getFormatValueGroupLength:function(b){for(i=1;i<b.toString().length;++i){if(b.substring(i,i+1)!=b.substring(0,1)){return i}}return b.length},_parseFormatValue:function(h){var c=new Array();var f=h.toString();var e=0;while(f.length>0){var d=this._getFormatValueGroupLength(f);var g=null;switch(f.substring(0,1)){case":":case"/":d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var b=f.indexOf(f[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(1,1+Math.max(1,b-1)),"ReadOnly",this.culture);d=Math.max(1,b+1);break;case"\\":if(f.length>=2){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(1,1),"ReadOnly",this.culture);d=2}break;case"d":case"D":if(d>2){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Day",this.culture)}else{g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Day",this.culture)}break;case"f":case"F":if(d>7){d=7}if(d>3){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture)}else{g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Millisecond",this.culture)}break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Minute",this.culture);break;case"M":if(d>4){d=4}g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_AMPM",this.culture);break;case"y":case"Y":if(d>1){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Year",this.culture)}else{d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture)}break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture);break;default:d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),"ReadOnly",this.culture);break}c[e]=a.extend(true,{},g);f=f.substring(d);e++}return c},_getFormatValue:function(b){if(b==null||b.length==0){b="d"}if(b.length==1){switch(b.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}}if(b.length==2&&b.substring(0,1)=="%"){b=b.substring(1)}return b},_updateEditorsValue:function(){var j=this.value;if(j==null){return}var g=j.year;var h=j.day;var d=j.hour;var l=j.millisecond;var b=j.second;var c=j.minute;var f=j.month;if(this.items==null){return}for(var e=0;e<this.items.length;e++){switch(this.items[e].type){case"FORMAT_AMPM":var k=d%12;if(k==0){k=12}if(d>=0&&d<12){this.editors[e].value=0}else{this.editors[e].value=1}break;case"Day":this.editors[e].value=h;break;case"FORMAT_hh":var k=d%12;if(k==0){k=12}this.editors[e].value=k;break;case"FORMAT_HH":this.editors[e].value=d;break;case"Millisecond":this.editors[e].value=l;break;case"Minute":this.editors[e].value=c;break;case"Month":this.editors[e].value=f;break;case"Second":this.editors[e].value=b;break;case"Year":this.editors[e].value=g;break}}},updateValue:function(){if(this.isEditing){return}var j=0;var n=1;var u=1;var g=0;var b=0;var C=0;var p=0;var B=1;var e=0;var h=false;var m=false;var w=false;var o=new Array();var c=null;var s=0;for(var v=0;v<this.items.length;v++){switch(this.items[v].type){case"FORMAT_AMPM":e=this.editors[v].value;c=this.editors[v];break;case"Character":break;case"Day":if(this.items[v].format.length<4){u=this.editors[v].value;o[s++]=this.editors[v];if(u==0){u=1}w=true}break;case"FORMAT_hh":var y=this.editors[v];g=y.value;break;case"FORMAT_HH":g=this.editors[v].value;break;case"Millisecond":b=this.editors[v].value;break;case"Minute":p=this.editors[v].value;break;case"Month":B=this.editors[v].value;m=true;if(B==0){B=1}break;case"ReadOnly":break;case"Second":C=this.editors[v].value;break;case"Year":h=true;n=this.editors[v].value;var A=this.editors[v].getDateTimeItem().format;if(A.length<3){var r="1900";if(r.Length==4){var q=""+r[0]+r[1];var x;x=parseInt(q);n=n+(x*100)}}if(n==0){n=1}break}}var z=this.value!=null?new Date(this.value.dateTime):null;if(n>0&&B>0&&u>0&&p>=0&&g>=0&&C>=0&&b>=0){var D=this.value;if(D!=null){if(!h){n=D.year}if(!m){B=D.month}if(!w){u=D.day}}try{if(B>12){B=12}if(B<1){B=1}if(D._daysInMonth(n,B)<=u){u=D._daysInMonth(n,B);if(o!=null&&o.length>0){for(v=0;v<o.length;v++){o[v].value=u}}}if(c!=null){if(c.value==0){if(g>=12){g-=12}}else{if(g+12<24){g+=12}}}this.value._setYear(parseInt(n));this.value._setDay(u);this.value._setMonth(B);this.value._setHours(g);this.value._setMinutes(p);this.value._setSeconds(C);this.value._setMilliseconds(b)}catch(f){this.value=D}if(z!=null){var t=this.value.dateTime.getFullYear()==z.getFullYear()&&this.value.dateTime.getDate()==z.getDate()&&this.value.dateTime.getMonth()==z.getMonth()&&this.value.dateTime.getHours()==z.getHours()&&this.value.dateTime.getMinutes()==z.getMinutes()&&this.value.dateTime.getSeconds()==z.getSeconds();if(!t){this._raiseEvent("0",this.value.dateTime);if(this.cookies){if(this.value!=null){a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}}this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>")}else{this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'></b></div>")}}var d=this.editors.indexOf(this.activeEditor);var l=this.items[d]},_internalSetValue:function(b){this.value._setYear(parseInt(b.year));this.value._setDay(b.day);this.value._setMonth(b.month);this.value._setHours(b.hour);this.value._setMinutes(b.minute);this.value._setSeconds(b.second);this.value._setMilliseconds(b.milisecond)},_raiseEvent:function(c,n){var m=this.events[c];var f={};f.owner=this;if(n==null){n=new Date()}var l=n.charCode?n.charCode:n.keyCode?n.keyCode:0;var o=true;var k=this.readonly;var b=new jQuery.Event(m);b.owner=this;b.args=f;b.args.date=this.getDate();this.element.value=this.dateTimeInput.val();if(c==9&&this.selectionMode!="range"){var d=b.args.date;if(this._oldDT){if(!(d.getFullYear()!=this._oldDT.getFullYear()||d.getMonth()!=this._oldDT.getMonth()||d.getDate()!=this._oldDT.getDate()||d.getHours()!=this._oldDT.getHours()||d.getMinutes()!=this._oldDT.getMinutes()||d.getSeconds()!=this._oldDT.getSeconds())){return true}a.jqx.aria(this,"aria-valuenow",this.getDate());a.jqx.aria(this,"aria-valuetext",this.getText())}}if(this.selectionMode=="range"){b.args.date=this.getRange();if(this._oldDT){var d=b.args.date.from;if(c==9){var j=false;var h=false;var e=this._oldDT.from;if(d!=null&&e){if(!(d.getFullYear()!=e.getFullYear()||d.getMonth()!=e.getMonth()||d.getDate()!=e.getDate()||d.getHours()!=e.getHours()||d.getMinutes()!=e.getMinutes()||d.getSeconds()!=e.getSeconds())){j=true}}var d=b.args.date.to;if(d!=null){e=this._oldDT.to;if(e){if(!(d.getFullYear()!=e.getFullYear()||d.getMonth()!=e.getMonth()||d.getDate()!=e.getDate()||d.getHours()!=e.getHours()||d.getMinutes()!=e.getMinutes()||d.getSeconds()!=e.getSeconds())){h=true}}}if(j||h){return true}var j=b.args.date.from;if(j==null){j=""}else{j=j.toString()}var h=b.args.date.to;if(h==null){h=""}else{h=h.toString()}a.jqx.aria(this,"aria-valuenow",j+"-"+h);a.jqx.aria(this,"aria-valuetext",this.getText())}}}if(this.host.css("display")=="none"){return true}if(c!=2&&c!=3){o=this.host.trigger(b)}var g=this;if(!k){if(c==2&&!this.disabled){setTimeout(function(){g.isEditing=true;g._selectGroup(-1)},25)}}if(c==4){if(k||this.disabled){if(l==8||l==46){this.isEditing=false;this.setDate(null)}if(l==9){return true}return false}o=this._handleKeyDown(n,l)}else{if(c==5){if(l==9){return true}if(k||this.disabled){return false}}else{if(c==6){if(l==9){return true}if(k||this.disabled){return false}o=this._handleKeyPress(n,l)}}}return o},_doLeftKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var b=this.activeEditor;var d=false;var e=this.editors.indexOf(this.activeEditor);var c=e;if(this.enableAbsoluteSelection){if(e>=0&&this.activeEditor.positions>0){this.activeEditor.positions--;this._selectGroup(e);return}}while(e>0){this.activeEditor=this.editors[--e];this._selectGroup(e);if(this.items[e].type!="ReadOnly"){d=true;break}}if(!d){if(c>=0){this.activeEditor=this.editors[c]}}if(this.activeEditor!=null&&b!=this.activeEditor){if(this.items[e].type!="ReadOnly"){if(this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}}if(this.activeEditor!=b){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_doRightKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var b=this.activeEditor;var d=false;var e=this.editors.indexOf(this.activeEditor);var c=e;if(this.enableAbsoluteSelection){if(e>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1){this.activeEditor.positions++;this._selectGroup(e);return}}while(e<=this.editors.length-2){this.activeEditor=this.editors[++e];this._selectGroup(e);if(this.items[e].type!="ReadOnly"){if(this.items[e].type=="Day"&&this.items[e].format.length>2){break}d=true;break}}if(!d){if(c>=0){this.activeEditor=this.editors[c]}}if(this.activeEditor!=null&&this.activeEditor!=b){if(this.items[e].type!="ReadOnly"){this.activeEditor.positions=0}}if(this.activeEditor!=b){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_saveSelectedText:function(){var b=this._selection();var d="";var c=this.dateTimeInput.val();if(b.start>0||b.length>0){for(i=b.start;i<b.end;i++){d+=c[i]}}window.clipboardData.setData("Text",d);return d},_selectWithAdvancePattern:function(){var f=this.editors.indexOf(this.activeEditor);var g=false;if(this.items[f].type!="ReadOnly"){g=true}if(!g){return}var d=this.activeEditor;if(d!=null){var e=d.positions==d.maxEditPositions;if(e){this.editorText="";var c=d.value;var b=false;switch(this.items[f].type){case"FORMAT_AMPM":if(c<0){c=0}else{if(c>1){c=1}}break;case"Character":break;case"Day":if(c<1){c=1}else{if(c>31){c=31}}break;case"FORMAT_hh":if(c<1){c=1}else{if(c>12){c=12}}break;case"FORMAT_HH":if(c<0){c=0}else{if(c>23){c=23}}break;case"Millisecond":if(c<0){c=0}else{if(c>99){c=99}}break;case"Minute":if(c<0){c=0}else{if(c>59){c=59}}break;case"Month":if(c<1){c=1}else{if(c>12){c=12}}break;case"ReadOnly":break;case"Second":if(c<0){c=0}else{if(c>59){c=59}}break;case"Year":if(c<this.minDate.year){c=this.minDate.year}else{if(c>this.maxDate.year){c=this.maxDate.year}}break}if(d.value!=c){b=true}if(!b){this.isEditing=false;this._validateValue();this._updateText();this.isEditing=true;this._doRightKey();return true}return false}}},_handleKeyPress:function(j,n){var m=this._selection();var b=this;if((j.ctrlKey&&n==97)||(j.ctrlKey&&n==65)){return true}if(n==8){if(m.start>0){b._setSelectionStart(m.start)}return false}if(n==46){if(m.start<this.items.length){b._setSelectionStart(m.start)}return false}if(m.start>=0){var d=String.fromCharCode(n);var k=parseInt(d);if(!isNaN(k)){if(this.container.css("display")=="block"){this.hideCalendar()}this.updateValue();this._updateText();var g=false;var h=this.editors.indexOf(this.activeEditor);var c=null;this.isEditing=true;if(h.type!="ReadOnly"){c=this.activeEditor}if(c!=null&&c.positions==0){this.editorText=""}if(this.activeEditor==null){this.activeEditor=this.editors[0]}if(this.activeEditor==null){return false}this.activeEditor.insert(d);if(c!=null&&this.editorText.length>=c.maxEditPositions){this.editorText=""}this.editorText+=d;var o=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var f=this._getLastEditableEditorIndex();if(this.editors.indexOf(this.activeEditor)==f&&o&&this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}g=true;this.updateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return false}}var l=this._isSpecialKey(n);return l},_getLastEditableEditorIndex:function(){var b=0;var c=this;for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--){if(this.items[itemIndex].type!="ReadOnly"){return itemIndex}}return -1},_handleKeyDown:function(j,c){if(j.keyCode==115){if(this.isOpened()){this.hideCalendar();return false}else{if(!this.isOpened()){this.showCalendar();return false}}}if(j.altKey){if(j.keyCode==38){if(this.isOpened()){this.hideCalendar();return false}}else{if(j.keyCode==40){if(!this.isOpened()){this.showCalendar();return false}}}}if(this.isOpened()){if(j.keyCode==9){this.hideCalendar("selected");return true}return}var g=this._selection();if((j.ctrlKey&&c==99)||(j.ctrlKey&&c==67)){this._saveSelectedText(j);return false}if((j.ctrlKey&&c==122)||(j.ctrlKey&&c==90)){return false}if((j.ctrlKey&&c==118)||(j.ctrlKey&&c==86)||(j.shiftKey&&c==45)){return false}if(c==8||c==46){if(!j.altKey&&!j.ctrlKey&&c==46){this.isEditing=false;this.setDate(null)}else{if(this.activeEditor!=null){var k=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var f=this._format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);tmp=f;tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1);if(parseInt(tmp)<this.activeEditor.minValue){tmp=this._format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)}if(this.enableAbsoluteSelection){this.activeEditor.value=tmp}else{this.activeEditor.value=this.activeEditor.minValue}this._validateValue();this._updateText();if(c==8){var d=this;if(this.enableAbsoluteSelection&&this.activeEditor.positions>0){setTimeout(function(){d.activeEditor.positions=d.activeEditor.positions-1;d._selectGroup(k)},10)}else{setTimeout(function(){d._doLeftKey()},10)}}else{this._selectGroup(k)}}else{this._doLeftKey()}}}return false}if(c==38){this.spinUp();return false}else{if(c==40){this.spinDown();return false}}if(c==37){if(this._editor){var b=this._doLeftKey();if(!b){this.isEditing=false;this._validateValue()}return !b}else{this._doLeftKey();return false}}else{if(c==39||c==191){if(this._editor){var b=this._doRightKey();if(!b){this.isEditing=false;this._validateValue()}return !b}else{this._doRightKey();return false}}}var h=this._isSpecialKey(c);if(this.value==null&&c>=48&&c<=57){this.setDate(new Date())}if(!a.jqx.browser.mozilla){return true}return h},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=27&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.dateTimeInput[0]){var f=this.dateTimeInput[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.dateTimeInput[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_selectGroup:function(k){if(this.host.css("display")=="none"){return}if(this.readonly){return}var m=this._selection();var f="";var b="";var c=null;for(var d=0;d<this.items.length;d++){b=this.items[d].dateParser(this.value,this);if(this.isEditing&&this.items[d].type!="ReadOnly"){var j=this.items[d].type=="Day"&&this.items[d].format.length>2;if(!j&&this.items[d].type!="FORMAT_AMPM"){b=this.items[d].dateParserInEditMode(new Number(this.editors[d].value),"d"+this.editors[d].maxEditPositions,this);while(b.length<this.editors[d].maxEditPositions){b="0"+b}}}f+=b;if(this.items[d].type=="ReadOnly"){continue}if(this.items[d].type=="Day"&&this.items[d].format.length>2){continue}if(k!=undefined&&k!=-1){if(d>=k){var l=f.length-b.length;var e=b.length;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(b))&&this.isEditing&&k!=-1){e=1;l+=this.editors[d].positions}}if(l==this.dateTimeInput.val().length){l--}this._setSelection(l,l+e);c=this.editors[d];this.activeEditor=c;break}}else{if(f.length>=m.start){c=this.editors[d];this.activeEditor=c;var l=f.length-b.length;var e=1;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(b))&&this.isEditing&&k!=-1){e=1;l+=this.editors[d].positions}}else{e=b.length}this._setSelection(l,l+e);break}}}if(d<this.items.length&&k==-1){if(this.items[d].type!="ReadOnly"){this.activeEditor.positions=0}}var h=this._selection();if(h.length==0){if(h.start>0){var g=this._getLastEditableEditorIndex();if(g>=0){this._selectGroup(g)}}}},_getLastEditableEditorIndex:function(){var b=-1;for(i=0;i<this.editors.length;i++){if(this.items[i].type=="ReadOnly"){continue}if(this.items[i].type=="Day"&&this.items[i].format.length>2){continue}b=i}return b},_setSelection:function(d,b){if("selectionStart" in this.dateTimeInput[0]){this.dateTimeInput[0].setSelectionRange(d,b)}else{var c=this.dateTimeInput[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",d);c.select()}},_setSelectionStart:function(b){this._setSelection(b,b)},destroy:function(){this.host.removeClass("jqx-rc-all");this._calendar.destroy();this.container.remove();this._removeHandlers();this.dateTimeInput.remove();this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(b){if(b!=true){this._setSize();this._arrange()}},_setOption:function(b,c){if(b==="value"){this.value=c;this._refreshValue();this._raiseEvent(9,event)}if(b=="maxDate"){this._calendar.maxDate=c;this._raiseEvent(9,event)}if(b=="minDate"){this._calendar.minDate=c;this._raiseEvent(9,event)}if(b=="showCalendarButton"){if(c){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}}if(b=="disabled"){this.dateTimeInput.attr("disabled",c)}if(b=="readonly"){this.readonly=c;this.dateTimeInput.css("readonly",c)}if(b=="textAlign"){this.dateTimeInput.css("text-align",c);this.textAlign=c}if(b=="width"){this.width=c;this.width=parseInt(this.width);this._arrange()}else{if(b=="height"){this.height=c;this.height=parseInt(this.height);this._arrange()}}},_refreshValue:function(){this._updateEditorsValue();this.updateValue();this._validateValue();this._updateText()}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={};a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(d,c,b){this.format=d;this.type=c;this.culture=b;return this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(b,c){if(b==null){return""}var d=c._format(b.dateTime,this.format.length==1?"%"+this.format:this.format,this.culture);return d},dateParserInEditMode:function(e,d,b){if(e==null){return""}var c=b._format(e.toString(),d.length==1?"%"+d:d,this.culture);return c},getDateTimeEditorByItemType:function(n,e){switch(this.type){case"FORMAT_AMPM":var f=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,n.hour/12,e.localization.calendar.AM[0],e.localization.calendar.PM[0],this,e);var d=a.extend({},f);return d;case"Character":return null;case"Day":var k=n.year;var s=n.month;var r;if(this.format.length==3){r=e.localization.calendar.days.namesAbbr}else{if(this.format.length>3){r=e.localization.calendar.days.names}else{r=null}}var t=n.day;if(r!=null){t=n.dayOfWeek+1}var g=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(n,n.day,1,n._daysInMonth(k,s),this.format.length==1?1:2,2,r,this,e);var d=a.extend({},g);return d;case"FORMAT_hh":var c=n.hour%12;if(c==0){c=12}var q=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(c,1,12,this.format.length==1?1:2,2,this,e);var d=a.extend({},q);return d;case"FORMAT_HH":var h=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(n.hour,0,23,this.format.length==1?1:2,2,this,e);var d=a.extend({},h);return d;case"Millisecond":var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(n.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,e);var d=a.extend({},l);return d;case"Minute":var o=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(n.minute,0,59,this.format.length==1?1:2,2,this,e);var d=a.extend({},o);return d;case"Month":var j;if(this.format.length==3){j=e.localization.calendar.months.namesAbbr}else{if(this.format.length>3){j=e.localization.calendar.months.names}else{j=null}}var m=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(n.month,this.format.length==2?2:1,j,this,e);var d=a.extend({},m);return d;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,n.day,this,e);case"Second":var b=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(n.second,0,59,this.format.length==1?1:2,2,this,e);var d=a.extend({},b);return d;case"Year":var p=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(n.year,this.format.length,this,e);var d=a.extend({},p);return d}return null}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:false,handleDays:false,handleMonths:false,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},initializeFields:function(e,f,b,d,c){this.minValue=e;this.maxValue=f;this.minEditPositions=b;this.maxEditPositions=d;this.updateActiveEditor(e);this.item=c},_createYearEditor:function(e,d,c,b){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(d<=4?0:0,d<4?99:9999,(d==2)?2:1,d>3?4:2,c);this.initializeYearEditor(e,d,c.culture);this.handleYears=true;this.that=b;return this},initializeYearEditor:function(d,c,e){this.formatValueLength=c;this.dateTimeFormatInfo=e;var b=d;b=Math.min(b,9999);b=Math.max(b,1);b=this.formatValueLength<4?b%100:b;this.updateActiveEditor(b);this.value=b},updateActiveEditor:function(b){this.value=b;this.positions=0},_createDayEditor:function(b,j,h,e,c,f,g,k,d){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(h,e,1,f,k);this.currentValue=b;this.value=j;this.days=g;this.handleDays=true;this.that=d;return this},getDayOfWeek:function(b){if(typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return b},defaultTextValue:function(){var d=this.value;var e=this.minEditPositions;var b=e;var c=this.that._format(this.value,"d"+b,"");return c},textValue:function(){if(this.handleDays){if(this.days==null){return this.defaultTextValue()}else{var b=(this.value%7)+1;b=this.getDayOfWeek(b);return this.days[b]}}else{if(this.handleMonths){if(this.dateTimeMonths==null||this.value<1||this.value>12){return this.defaultTextValue()}else{return this.dateTimeMonths[this.value-1]}}}return this.defaultTextValue()},defaultInsertString:function(c){if(c==null){return this.deleteValue()}if(c.length==0){return this.deleteValue()}var g=c.substring(0,1);if(isNaN(g)){return}var e=true;var d;var b=1;var f=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);d=f;if(this.positions>=this.maxEditPositions){this.positions=0}d=d.substring(0,this.positions)+g+d.substring(this.positions+1);d=this.setValueByString(d,b);return true},setValueByString:function(d,b){d=this.fixValueString(d);var c=new Number(d);this.value=c;this.positions+=b;return d},fixValueString:function(b){if(b.length>this.maxEditPositions){b=b.substring(b.length-this.maxEditPositions)}return b},initializeValueString:function(c){var b;b="";if(this.hasDigits()){b=c}return b},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},insert:function(b){if(this.handleDays){if(this.days!=null){var c=false;c=this.insertLongString(b,c);if(c){return c}c=this.insertShortString(b,c);if(c){return c}}if(this.value==1&&this.lastDayInput!=null&&this.lastDayInput.toString().length>0&&this.lastDayInput.toString()=="0"){this.value=0}this.lastDayInput=b;return this.defaultInsertString(b)}else{if(this.handleMonths){if(this.dateTimeMonths!=null){var c=false;c=this.insertLongString2(b,c);if(c){return c}c=this.insertShortString2(b,c);if(c){return c}}}}return this.defaultInsertString(b)},insertShortString:function(d,e){if(d.length==1){for(i=0;i<6;++i){var c=(this.value+i)%7+1;var b=this.days[c-1];if(b.substring(0,1)==d){this.updateActiveEditor(c);e=true;return e}}}return e},insertLongString:function(c,d){if(c.length>0){for(i=0;i<6;++i){var b=(this.value+i)%7+1;if(this.days[b-1]==c){this.updateActiveEditor(b);d=true;return d}}}return d},_createMonthEditor:function(d,c,b,f,e){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(1,12,c,2,f);this.dateTimeMonths=b;this.value=d;if(this.dateTimeMonths!=null&&this.dateTimeMonths[12]!=null&&this.dateTimeMonths[12].length>0){this.dateTimeMonths=null}this.handleMonths=true;this.that=e;return this},insertLongString2:function(b,c){if(b.length>0){for(i=0;i<11;++i){month=(this.value+i)%12+1;if(this.dateTimeMonths[month-1]==b){this.updateActiveEditor(month);c=true;return c}}}return c},insertShortString2:function(c,d){if(c.length==1){for(i=0;i<11;++i){var e=(this.value+i)%12+1;var b=this.dateTimeMonths[e-1];if(b.substring(0,1)==c){this.updateActiveEditor(e);d=true;return d}}}return d},correctMaximumValue:function(b){if(b>this.maxValue){b=this.minValue}return b},correctMinimumValue:function(b){if(b<this.minValue){b=this.maxValue}return b},increaseValue:function(e){var c=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)+1;if(f>9){f=0}if(!e){var b=this.value+1;b=this.correctMaximumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},decreaseValue:function(e){var c=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)-1;if(f<0){f=9}if(!e){var b=this.value-1;b=this.correctMinimumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.NumberEditor={};a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},_createNumberEditor:function(g,f,h,b,e,d,c){a.jqx._jqxDateTimeInput.NumberEditor=a.extend(true,{},this);this.initializeFields(f,h,b,e,d);this.that=c;return this},initializeFields:function(e,f,b,d,c){this.minValue=e;this.maxValue=f;this.minEditPositions=b;this.maxEditPositions=d;this.updateActiveEditor(e);this.item=c},updateActiveEditor:function(b){this.value=b;this.positions=0},getDayOfWeek:function(b){if(typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return b},textValue:function(){var d=this.value;var e=this.minEditPositions;var b=e;var c=this.that._format(this.value,"d"+b,"");return c},insert:function(c){if(c==null){return this.deleteValue()}if(c.length==0){return this.deleteValue()}var g=c.substring(0,1);if(isNaN(g)){return}var e=true;var d;var b=1;var f=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);d=f;if(this.positions>=this.maxEditPositions){this.positions=0}d=d.substring(0,this.positions)+g+d.substring(this.positions+1);d=this.setValueByString(d,b);return true},setValueByString:function(d,b){d=this.fixValueString(d);var c=new Number(d);this.value=c;this.positions+=b;return d},fixValueString:function(b){if(b.length>this.maxEditPositions){b=b.substring(b.length-this.maxEditPositions)}return b},initializeValueString:function(c){var b;b="";if(this.hasDigits()){b=c}return b},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},correctMaximumValue:function(b){if(b>this.maxValue){b=this.minValue}return b},correctMinimumValue:function(b){if(b<this.minValue){b=this.maxValue}return b},increaseValue:function(e){var c=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)+1;if(f>9){f=0}if(!e){var b=this.value+1;b=this.correctMaximumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},decreaseValue:function(e){var c=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)-1;if(f<0){f=9}if(!e){var b=this.value-1;b=this.correctMinimumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DisabledEditor={};a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(g,c,f,b,e,d){this.format=g;this.value=-1;this.item=e;this.that=d;return this},textValue:function(){return""},insert:function(b){return false},deleteValue:function(){return false},increaseValue:function(){return false},decreaseValue:function(){return false},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.AmPmEditor={};a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(g,c,f,b,e,d){this.format=g;this.value=c;this.amString=f;this.pmString=b;this.item=e;this.that=d;if(f==b){this.amString="<"+f;this.pmString=">"+b}return this},textValue:function(){var b=this.amString;if(this.value!=0){b=this.pmString}if(this.format.length==1&&b.length>1){b=b.substring(0,1)}return b},insert:function(f){var d=f.toString();if(d.Length==0){return this.deleteValue()}var c=false;if(this.amString.Length>0&&this.pmString.Length>0){var g=amString[0];var b=d[0];var e=pmString[0];if(g.toString()==b.toString()){this.value=0;c=true}else{if(e.toString()==b.toString()){this.value=1;c=true}}}else{if(this.pmString.Length>0){this.value=1;c=true}else{if(this.amString.Length>0){this.value=0;c=true}}}return c},deleteValue:function(){var b=true;if(this.amString.Length==0&&this.pmString.Length!=0){if(this.value==0){return false}this.value=0}else{if(this.value==1){return false}this.value=1}return b},increaseValue:function(){this.value=1-this.value;return true},decreaseValue:function(){this.increaseValue();return true},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.getDateTime=function(c){var b={dateTime:new Date(c),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976000000000,millisPerDay:86400000,millisPerHour:3600000,millisPerMinute:60000,millisPerSecond:1000,minTicks:0,minValue:0,ticksPerDay:864000000000,ticksPerHour:36000000000,ticksPerMillisecond:10000,ticksPerMinute:600000000,ticksPerSecond:10000000,hour:c.getHours(),minute:c.getMinutes(),day:c.getDate(),second:c.getSeconds(),month:1+c.getMonth(),year:c.getFullYear(),millisecond:c.getMilliseconds(),dayOfWeek:c.getDay(),isWeekend:function(d){if(d==undefined||d==null){d=this.dateTime}var e=d.getDay()%6==0;return e},dayOfYear:function(e){if(e==undefined||e==null){e=this.dateTime}var d=new Date(e.getFullYear(),0,1);return Math.ceil((e-d)/86400000)},_setDay:function(d){if(d==undefined||d==null){d=0}this.dateTime.setDate(d);this.day=this.dateTime.getDate()},_setMonth:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMonth(d-1);this.month=1+this.dateTime.getMonth()},_setYear:function(d){if(d==undefined||d==null){d=0}this.dateTime.setFullYear(d);this.year=this.dateTime.getFullYear()},_setHours:function(d){if(d==undefined||d==null){d=0}this.dateTime.setHours(d);this.hour=this.dateTime.getHours()},_setMinutes:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMinutes(d);this.minute=this.dateTime.getMinutes()},_setSeconds:function(d){if(d==undefined||d==null){d=0}this.dateTime.setSeconds(d);this.second=this.dateTime.getSeconds()},_setMilliseconds:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMilliseconds(d);this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var d=this.dateTime;d.setDate(d.getDate()+e);return d},_addWeeks:function(e){var d=this.dateTime;d.setDate(d.getDate()+7*e);return d},_addMonths:function(e){var d=this.dateTime;d.setMonth(d.getMonth()+e);return d},_addYears:function(e){var d=this.dateTime;d.setFullYear(d.getFullYear()+e);return d},_addHours:function(e){var d=this.dateTime;d.setHours(d.getHours()+e);return d},_addMinutes:function(e){var d=this.dateTime;d.setMinutes(d.getMinutes()+e);return d},_addSeconds:function(e){var d=this.dateTime;d.setSeconds(d.getSeconds()+e);return d},_addMilliseconds:function(e){var d=this.dateTime;d.setMilliseconds(d.getMilliseconds()+e);return d},_isLeapYear:function(d){if((d<1)||(d>9999)){throw"invalid year"}if((d%4)!=0){return false}if((d%100)==0){return((d%400)==0)}return true},_dateToTicks:function(f,h,e){if(((f>=1)&&(f<=9999))&&((h>=1)&&(h<=12))){var d=this._isLeapYear(f)?this.daysToMonth366:this.daysToMonth365;if((e>=1)&&(e<=(d[h]-d[h-1]))){var f=f-1;var g=((((((f*365)+(f/4))-(f/100))+(f/400))+d[h-1])+e)-1;return(g*864000000000)}}},_daysInMonth:function(e,f){if((f<1)||(f>12)){throw ("Invalid month.")}var d=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return(d[f]-d[f-1])},_timeToTicks:function(d,g,e){var f=((d*3600)+(g*60))+e;return(f*10000000)},_equalDate:function(d){if(this.year==d.getFullYear()&&this.day==d.getDate()&&this.month==d.getMonth()+1){return true}return false}};return b}})(jQuery);

/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxListBox","",{});a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.multiple=false;this.selectedIndex=-1;this.selectedIndexes=new Array();this.source=null;this.scrollBarSize=15;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;this.hasThreeStates=false;this.autoHeight=false;this.autoItemsHeight=false;this.roundedcorners=true;this.touchMode="auto";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.allowDrag=false;this.allowDrop=true;this.dropAction="default";this.touchModeStyle="auto";this.keyboardNavigation=true;this.enableMouseWheel=true;this.multipleextended=false;this.emptyString="null";this.rtl=false;this.rendered=null;this.renderer=null;this.dragStart=null;this.dragEnd=null;this._checkForHiddenParent=true;this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(b){this.render();if(this._checkForHiddenParent){if(a.jqx.isHidden(this.host)){var c=this;this._hiddenParentTimer=setInterval(function(){try{if(!a.jqx.isHidden(c.host)){clearInterval(c._hiddenParentTimer);c._updateSize()}}catch(d){}},10)}}},render:function(){this.element.innerHTML="";var b=this;this.host.addClass(this.toThemeProperty("jqx-listbox"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));var g=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);g=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);if(this.host.height()==0){this.host.height(200)}g=true}if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var c=a("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._addInput();if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",1)}if(this.checkboxes&&!this.host.jqxCheckBox){throw new Error("jqxListBox: Missing reference to jqxcheckbox.js.")}this.host.append(c);var e=this.host.find("#verticalScrollBar"+this.element.id);if(!this.host.jqxButton){throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");return}if(!e.jqxScrollBar){throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");return}var f=parseInt(this.host.height())/2;if(f==0){f=10}this.vScrollBar=e.jqxScrollBar({_initialLayout:true,vertical:true,rtl:this.rtl,theme:this.theme,touchMode:this.touchMode,largestep:f});var d=this.host.find("#horizontalScrollBar"+this.element.id);this.hScrollBar=d.jqxScrollBar({_initialLayout:true,vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#listBoxContent");this.content[0].id="listBoxContent"+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;if(this.isTouchDevice()){var h=a("<div class='overlay' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(h);this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling();this.host.addClass("jqx-disableselect");if(this.host.jqxDragDrop){jqxListBoxDragDrop()}},_addInput:function(){var b=this.host.attr("name");if(!b){b=this.element.id}else{this.host.attr("name","")}this.input=a("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=false;var c=this.overlayContent?this.overlayContent:this.content;this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll");this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchend")+".touchScroll");this.removeHandler(a(c),"touchcancel.touchScroll");a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(f,e){if(b.vScrollBar.css("visibility")!="hidden"){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+e);b._lastScroll=new Date()}if(b.hScrollBar.css("visibility")!="hidden"){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+f);b._lastScroll=new Date()}},this.element.id);if(b.vScrollBar.css("visibility")!="visible"&&b.hScrollBar.css("visibility")!="visible"){a.jqx.mobile.setTouchScroll(false,this.element.id)}else{a.jqx.mobile.setTouchScroll(true,this.element.id)}this._arrange()}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true;a.jqx.mobile.setMobileSimulator(this.element)}else{if(this.touchMode==false){b=false}}if(b&&this.touchModeStyle!=false){}if(b){this.host.addClass(this.toThemeProperty("jqx-touch"))}return b},beginUpdate:function(){this.updatingListBox=true},endUpdate:function(){this.updatingListBox=false;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this._render(false)},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"||c=="checkboxes"){if(d==null&&e&&e.unbindBindingUpdate){e.unbindBindingUpdate(b.element.id);e.unbindDownloadComplete(b.element.id)}b.clearSelection();b.refresh()}if(c=="scrollBarSize"||c=="equalItemsWidth"){if(d!=e){b._updatescrollbars()}}if(c=="disabled"){b._renderItems();b.vScrollBar.jqxScrollBar({disabled:d});b.hScrollBar.jqxScrollBar({disabled:d})}if(c=="touchMode"||c=="rtl"){b._removeHandlers();b.vScrollBar.jqxScrollBar({touchMode:d});b.hScrollBar.jqxScrollBar({touchMode:d});b._updateTouchScrolling();b._addHandlers();b._render(false)}if(!this.updating){if(c=="width"||c=="height"){b._updateSize()}}if(c=="theme"){if(e!=d){b.hScrollBar.jqxScrollBar({theme:b.theme});b.vScrollBar.jqxScrollBar({theme:b.theme});b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-listbox"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.host.addClass(b.toThemeProperty("jqx-reset"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.refresh()}}if(c=="selectedIndex"){b.clearSelection();b.selectIndex(d,true)}if(c=="displayMember"||c=="valueMember"){if(e!=d){var f=b.selectedIndex;b.refresh();b.selectedIndex=f;b.selectedIndexes[f]=f}b._renderItems()}if(c=="autoHeight"){if(e!=d){b._render(false)}else{b._updatescrollbars();b._renderItems()}}},loadFromSelect:function(i){if(i==null){return}var c="#"+i;var f=a(c);if(f.length>0){var e=f.find("option");var b=f.find("optgroup");var d=0;var h=-1;var g=new Array();a.each(e,function(){var k=b.find(this).length>0;var m=null;if(this.text!=this.value&&(this.label==null||this.label=="")){this.label=this.text}var l={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};var j=a.jqx.browser.msie&&a.jqx.browser.version<8;if(j){if(l.value==""&&this.text!=null&&this.text.length>0){l.value=this.text}}if(k){m=b.find(this).parent()[0].label;l.group=m}if(this.selected){h=d}g[d]=l;d++});this.source=g;this.fromSelect=true;this.clearSelection();this.selectedIndex=h;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},invalidate:function(){this._cachedItemHtml=[];this._renderItems();this._updateSize()},refresh:function(c){var b=this;if(this.vScrollBar==undefined){return}this._cachedItemHtml=[];this.visibleItems=new Array();var d=function(e){if(e==true){if(b.selectedIndex!=-1){var f=b.selectedIndex;b.selectedIndex=-1;b._stopEvents=true;b.selectIndex(f,false,true);if(b.selectedIndex==-1){b.selectedIndex=f}b._stopEvents=false}}};if(this.itemswrapper!=null){this.itemswrapper.remove();this.itemswrapper=null}if(a.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source);d(c);return}this.items=this.loadItems(this.source);this._raiseEvent("6");this._render(false,c==true);d(c)},_render:function(c,b){this._addItems();this._renderItems();this.vScrollInstance.setPosition(0);this._cachedItemHtml=new Array();if(c==undefined||c){if(this.items!=undefined&&this.items!=null){if(this.selectedIndex>=0&&this.selectedIndex<this.items.length){this.selectIndex(this.selectedIndex,true,true,true)}}}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop();if(this.isTouchDevice()){this._removeHandlers();if(this.overlayContent){this.overlayContent.remove();this.overlayContent=null}this._updateTouchScrolling();this._addHandlers();return}}this._updateTouchScrolling();if(this.rendered){this.rendered()}if(this.ready){this.ready()}},_hitTest:function(c,f){var e=parseInt(this.vScrollInstance.value);var b=this._searchFirstVisibleIndex(f+e,this.renderedVisibleItems);if(this.renderedVisibleItems[b]!=undefined&&this.renderedVisibleItems[b].isGroup){return null}if(this.renderedVisibleItems.length>0){var d=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(d.height+d.top<f+e){return null}}b=this._searchFirstVisibleIndex(f+e);return this.visibleItems[b];return null},_searchFirstVisibleIndex:function(e,f){if(e==undefined){e=parseInt(this.vScrollInstance.value)}var c=0;if(f==undefined||f==null){f=this.visibleItems}var b=f.length;while(c<=b){mid=parseInt((c+b)/2);var d=f[mid];if(d==undefined){break}if(d.initialTop>e&&d.initialTop+d.height>e){b=mid-1}else{if(d.initialTop<e&&d.initialTop+d.height<=e){c=mid+1}else{return mid;break}}}return 0},_renderItems:function(){if(this.items==undefined||this.items.length==0){this.visibleItems=new Array();return}if(this.updatingListBox==true){return}var F=this.vScrollInstance;var h=this.hScrollInstance;var g=parseInt(F.value);var f=parseInt(h.value);if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){f=h.max-f}}var z=this.items.length;var L=this.host.width();var J=parseInt(this.content[0].style.width);var b=J+parseInt(h.max);var o=parseInt(this.vScrollBar[0].style.width)+2;if(this.vScrollBar[0].style.visibility=="hidden"){o=0}if(this.hScrollBar[0].style.visibility!="visible"){b=J}var j=this._getVirtualItemsCount();var K=new Array();var D=0;var C=parseInt(this.element.style.height)+2;if(this.element.style.height.indexOf("%")!=-1){C=this.host.outerHeight()}if(isNaN(C)){C=0}var r=0;var q=0;var O=0;if(F.value==0||this.visibleItems.length==0){for(var p=0;p<this.items.length;p++){var v=this.items[p];if(v.visible){v.top=-g;v.initialTop=-g;if(!v.isGroup&&v.visible){this.visibleItems[q++]=v;v.visibleIndex=q-1}this.renderedVisibleItems[O++]=v;v.left=-f;var c=v.top+v.height;if(c>=0&&v.top-v.height<=C){K[D++]={index:p,item:v}}g-=v.height}}}var k=g>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;var M=0;D=0;var w=this.vScrollInstance.value;var I=0;while(M<100+C){var v=this.renderedVisibleItems[k];if(v==undefined){break}if(v.visible){v.left=-f;var c=v.top+v.height-w;if(c>=0&&v.initialTop-w-v.height<=2*C){K[D++]={index:k,item:v}}}k++;if(v.visible){M+=v.initialTop-w+v.height-M}I++;if(I>this.items.length-1){break}}var m=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item");var i=this.toThemeProperty("jqx-listitem-state-group");var N=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");var A=0;var l=this;for(var p=0;p<this.visualItems.length;p++){var B=this.visualItems[p];var H=function(){var y=B[0].firstChild;if(l.checkboxes){y=B[0].lastChild}if(y!=null){y.style.visibility="hidden";y.className=""}if(l.checkboxes&&l.host.jqxCheckBox){var P=B.find(".chkbox");P.css({visibility:"hidden"})}};if(p<K.length){var v=K[p].item;if(v.initialTop-w>=C){H();continue}var x=a(B[0].firstChild);if(this.checkboxes){x=a(B[0].lastChild)}if(x.length==0){continue}if(x[0]==null){continue}x[0].className="";x[0].style.display="block";x[0].style.visibility="inherit";var n="";if(!v.isGroup&&!this.selectedIndexes[v.index]>=0){n=m}else{n=i}if(v.disabled||this.disabled){n+=" "+N}if(this.roundedcorners){n+=" "+this.toThemeProperty("jqx-rc-all")}x[0].className=n;if(this.renderer){if(!v.key){v.key=this.generatekey()}if(!this._cachedItemHtml){this._cachedItemHtml=new Array()}if(this._cachedItemHtml[v.key]){if(x[0].innerHTML!=this._cachedItemHtml[v.key]){x[0].innerHTML=this._cachedItemHtml[v.key]}}else{var u=this.renderer(v.index,v.label,v.value);x[0].innerHTML=u;this._cachedItemHtml[v.key]=x[0].innerHTML}}else{if(v.html!=null&&v.html.toString().length>0){x[0].innerHTML=v.html}else{if(v.label!=null||v.value!=null){if(v.label!=null){if(x[0].innerHTML!==v.label){x[0].innerHTML=v.label}if(v.label==""){x[0].innerHTML=this.emptyString;if(this.emptyString==""){x[0].style.height=(v.height-8)+"px"}}}else{if(x[0].innerHTML!==v.value){x[0].innerHTML=v.value}else{if(v.label==""){x[0].innerHTML=" "}}}}else{if(v.label==""||v.label==null){x[0].innerHTML="";x[0].style.height=(v.height-8)+"px"}}}}B[0].style.left=v.left+"px";B[0].style.top=v.initialTop-w+"px";v.element=x[0];if(v.title){x[0].title=v.title}if(this.equalItemsWidth&&!v.isGroup){if(r==0){var d=parseInt(b);var t=parseInt(x.outerWidth())-parseInt(x.width());d-=t;var G=1;if(G!=null){G=parseInt(G)}else{G=0}d-=2*G;r=d;if(this.checkboxes&&this.host.jqxCheckBox&&this.hScrollBar[0].style.visibility=="hidden"){r-=18}}if(J>this.virtualSize.width){x[0].style.width=r+"px";v.width=r}else{x[0].style.width=-4+this.virtualSize.width+"px";v.width=this.virtualSize.width-4}}else{if(x.width()<this.host.width()){x.width(this.host.width()-2)}}if(this.rtl){x[0].style.textAlign="right"}if(this.autoItemsHeight){x[0].style.whiteSpace="normal";x.width(r);v.width=r}A=0;if(this.checkboxes&&this.host.jqxCheckBox&&!v.isGroup){if(A==0){A=(v.height-16)/2;A++}var e=a(B.children()[0]);e[0].item=v;if(!this.rtl){if(x[0].style.left!="18px"){x[0].style.left="18px"}}else{if(x[0].style.left!="0px"){x[0].style.left="0px"}}if(this.rtl){e.css("left",8+v.width+"px")}e.css("top",A+"px");e.css({display:"block",visibility:"inherit"});var E=e.data().jqxCheckBox.instance;var s=E.checked;if(s!=v.checked){E._setState(v.checked);if(v.disabled!=E.disabled){e.jqxCheckBox({disabled:v.disabled})}}else{if(v.disabled!=E.disabled){e.jqxCheckBox({disabled:v.disabled})}}}else{if(this.checkboxes&&this.host.jqxCheckBox){var e=a(B.children()[0]);e.css({display:"none",visibility:"inherit"})}}if(this.selectedIndexes[v.visibleIndex]>=0&&!v.disabled){x.addClass(this.toThemeProperty("jqx-listitem-state-selected"));x.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}}else{H()}}},generatekey:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b())},_calculateVirtualSize:function(){var o=0;var m=2;var g=0;var n=a("<span></span>");if(this.equalItemsWidth){n.css("float","left")}var h=0;var i=this.host.outerHeight();a(document.body).append(n);var e=this.items.length;var j=this.host.width();if(this.autoItemsHeight){j-=10;if(this.vScrollBar.css("visibility")!="hidden"){j-=20}}if(this.renderer||this.groups.length>1||(e>0&&this.items[0].html!=null&&this.items[0].html!="")){for(var g=0;g<e;g++){var r=this.items[g];if(r.isGroup&&(r.label==""&&r.html=="")){continue}if(!r.visible){continue}var d="";if(!r.isGroup){d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all")}else{d+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all")}d+=" "+this.toThemeProperty("jqx-fill-state-normal");if(this.isTouchDevice()){d+=" "+this.toThemeProperty("jqx-touch")}n[0].className=d;if(this.autoItemsHeight){n[0].style.whiteSpace="normal";var b=this.checkboxes?-20:0;n[0].style.width=(b+j)+"px"}if(this.renderer){var k=this.renderer(r.index,r.label,r.value);n[0].innerHTML=k}else{if(r.html!=null&&r.html.toString().length>0){n[0].innerHTML=r.html}else{if(r.label!=null||r.value!=null){if(r.label!=null){n[0].innerHTML=r.label;if(r.label==""){n[0].innerHTML="Empty"}}else{n[0].innerHTML=r.value}}}}var q=n.outerHeight();var s=n.outerWidth();if(this.itemHeight>-1){q=this.itemHeight}r.height=q;r.width=s;m+=q;o=Math.max(o,s);if(m<=i){h++}}}else{var m=0;var l=0;var c="";var t=0;var f=0;var p=-1;for(var g=0;g<e;g++){var r=this.items[g];if(r.isGroup&&(r.label==""&&r.html=="")){continue}if(!r.visible){continue}p++;var d="";if(p==0){d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all");d+=" "+this.toThemeProperty("jqx-fill-state-normal");d+=" "+this.toThemeProperty("jqx-widget");d+=" "+this.toThemeProperty("jqx-listbox");d+=" "+this.toThemeProperty("jqx-widget-content");if(this.isTouchDevice()){d+=" "+this.toThemeProperty("jqx-touch")}n[0].className=d;if(this.autoItemsHeight){n[0].style.whiteSpace="normal";var b=this.checkboxes?-20:0;n[0].style.width=(b+j)+"px"}if(r.html==null&&(r.label==""||r.label==null)){n[0].innerHTML="Item"}else{if(r.html!=null&&r.html.toString().length>0){n[0].innerHTML=r.html}else{if(r.label!=null||r.value!=null){if(r.label!=null){n[0].innerHTML=r.label}else{n[0].innerHTML=r.value}}}}var q=n.outerHeight();if(this.itemHeight>-1){q=this.itemHeight}l=q}if(t!=undefined){f=t}if(r.html!=null&&r.html.toString().length>0){t=Math.max(t,r.html.toString().length);if(f!=t){c=r.html}}else{if(r.label!=null){t=Math.max(t,r.label.length);if(f!=t){c=r.label}}else{if(r.value!=null){t=Math.max(t,r.value.length);if(f!=t){c=r.value}}}}r.height=l;m+=l;if(m<=i){h++}}n[0].innerHTML=c;o=n.outerWidth()}m+=2;if(h<10){h=10}n.remove();return{width:o,height:m,itemsPerPage:h}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var b=parseInt(this.host.height())/5;if(b>this.items.length){b=this.items.length}return b}else{return this.virtualItemsCount}},_addItems:function(k){if(this.updatingListBox==true){return}if(this.items==undefined||this.items.length==0){this.virtualSize={width:0,height:0,itemsPerPage:0};this._updatescrollbars();this.renderedVisibleItems=new Array();if(this.itemswrapper){this.itemswrapper.children().remove()}return}if(k==false){var n=this._calculateVirtualSize();var o=n.itemsPerPage*2;if(this.autoHeight){o=this.items.length}this.virtualItemsCount=Math.min(o,this.items.length);var i=this;var h=n.width;this.virtualSize=n;this._updatescrollbars();return}var q=this;var j=0;this.visibleItems=new Array();this.renderedVisibleItems=new Array();this._removeHandlers();if(this.allowDrag&&this._enableDragDrop){this.itemswrapper=null}if(this.itemswrapper==null){this.content[0].innerHTML="";this.itemswrapper=a('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>');this.itemswrapper.height(2*this.host.height());this.content.append(this.itemswrapper)}var n=this._calculateVirtualSize();var o=n.itemsPerPage*2;if(this.autoHeight){o=this.items.length}this.virtualItemsCount=Math.min(o,this.items.length);var i=this;var h=n.width;this.virtualSize=n;this.itemswrapper.width(Math.max(this.host.width(),17+n.width));var l=0;var f="";for(var m=l;m<this.virtualItemsCount;m++){var p=this.items[m];f+="<div class='jqx-listitem-element'>";if(this.checkboxes&&this.host.jqxCheckBox){f+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox"></div>'}f+="<span style='-ms-touch-action: none;'></span></div>"}if(q.WinJS){MSApp.execUnsafeLocalFunction(function(){WinJS.Utilities.setInnerHTMLUnsafe(this.itemswrapper[0],f)})}else{this.itemswrapper[0].innerHTML=f}var c=this.itemswrapper.children();for(var m=l;m<this.virtualItemsCount;m++){var p=this.items[m];var b=a(c[m]);if(this.allowDrag&&this._enableDragDrop){b.addClass("draggable")}if(this.checkboxes&&this.host.jqxCheckBox){var g=a(b.children()[0]);b.css("float","left");var d=a(b[0].firstChild);d.css("float","left");b.prepend(g);g.jqxCheckBox({hasInput:false,checked:p.checked,animationShowDelay:0,animationHideDelay:0,disabled:p.disabled,enableContainerClick:false,keyboardCheck:false,hasThreeStates:this.hasThreeStates,theme:this.theme});p.checkBoxElement=g[0];p.checkBoxInstance=g.data().jqxCheckBox.instance;var e=function(u,t){var r=u.owner.element.item;if(r!=null){var s=u.args;if(t){i.checkIndex(r.index,true)}else{if(r.checked==false){i.uncheckIndex(r.index,true)}else{if(r.hasThreeStates&&i.hasThreeStates){if(t==false){i.uncheckIndex(r.index,true)}else{i.indeterminateIndex(r.index,true)}}else{i.uncheckIndex(r.index,true)}}}}i.focused=true};p.checkBoxInstance.updated=e}b[0].style.height=p.height+"px";b[0].style.top=j+"px";j+=p.height;this.visualItems[m]=b}this._addHandlers();this._updatescrollbars();if(this.autoItemsHeight){var n=this._calculateVirtualSize();var o=n.itemsPerPage*2;if(this.autoHeight){o=this.items.length}this.virtualItemsCount=Math.min(o,this.items.length);var i=this;var h=n.width;this.virtualSize=n;this._updatescrollbars()}if(a.jqx.browser.msie&&a.jqx.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true)}},_updatescrollbars:function(){var l=this.virtualSize.height;var j=this.virtualSize.width;var f=this.vScrollInstance;var e=this.hScrollInstance;this._arrange(false);var k=false;var m=this.host.outerWidth();if(l>this.host.outerHeight()){var b=0;if(j>m){b=this.hScrollBar.outerHeight()+2}var d=f.max;f.max=2+parseInt(l)+b-parseInt(this.host.height());if(this.vScrollBar[0].style.visibility!="inherit"){this.vScrollBar[0].style.visibility="inherit";k=true}if(d!=f.max){f._arrange()}}else{if(this.vScrollBar[0].style.visibility!="hidden"){this.vScrollBar[0].style.visibility="hidden";k=true;f.setPosition(0)}}var h=0;if(this.vScrollBar[0].style.visibility!="hidden"){h=this.scrollBarSize+6}var g=this.checkboxes?20:0;if(this.autoItemsHeight){this.hScrollBar[0].style.visibility="hidden"}else{if(j>=m-h-g){var i=e.max;if(this.vScrollBar[0].style.visibility=="inherit"){e.max=g+h+parseInt(j)-this.host.width()+4}else{e.max=g+parseInt(j)-this.host.width()+6}if(this.hScrollBar[0].style.visibility!="inherit"){this.hScrollBar[0].style.visibility="inherit";k=true}if(i!=e.max){e._arrange()}if(this.vScrollBar[0].style.visibility=="inherit"){f.max=2+parseInt(l)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height())}}else{if(this.hScrollBar[0].style.visibility!="hidden"){this.hScrollBar[0].style.visibility="hidden";k=true}}}e.setPosition(0);if(k){this._arrange()}if(this.itemswrapper){this.itemswrapper.width(Math.max(this.host.width(),17+j));this.itemswrapper.height(2*this.host.height())}var c=this.isTouchDevice();if(c){if(this.vScrollBar.css("visibility")!="visible"&&this.hScrollBar.css("visibility")!="visible"){a.jqx.mobile.setTouchScroll(false,this.element.id)}else{a.jqx.mobile.setTouchScroll(true,this.element.id)}}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(b){for(indx=0;indx<this.selectedIndexes.length;indx++){this.selectedIndexes[indx]=-1}this.selectedIndex=-1;if(b!=false){this._renderItems()}},unselectIndex:function(b,c){if(isNaN(b)){return}this.selectedIndexes[b]=-1;if(c==undefined||c==true){this._renderItems();this._raiseEvent("1",{index:b})}this._updateInputSelection();this._raiseEvent("2",{index:b,item:this.getItem(b)})},getItem:function(c){if(c==-1||isNaN(c)){return null}var b=null;var d=a.each(this.items,function(){if(this.index==c){b=this;return false}});return b},getVisibleItem:function(b){if(b==-1||isNaN(b)){return null}return this.visibleItems[b]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(b,c,e){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(this.groups.length>0){var d=this.getVisibleItem(b)}if(d!=null){var f=a(d.checkBoxElement);d.checked=true;if(c==undefined||c==true){this._updateCheckedItems()}}if(e==undefined||e==true){this._raiseEvent(3,{label:d.label,value:d.value,checked:true,item:d})}},getCheckedItems:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return null}var b=new Array();if(this.items==undefined){return}a.each(this.items,function(){if(this.checked){b[b.length]=this}});return b},checkAll:function(b){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=true});this._updateCheckedItems();if(b==undefined||b==true){this._raiseEvent(3,{checked:true})}},uncheckAll:function(b){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=false});this._updateCheckedItems();if(b==undefined||b==true){this._raiseEvent(3,{checked:false})}},uncheckIndex:function(b,c,e){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(this.groups.length>0){var d=this.getVisibleItem(b)}if(d!=null){var f=a(d.checkBoxElement);d.checked=false;if(c==undefined||c==true){this._updateCheckedItems()}}if(e==undefined||e==true){this._raiseEvent(3,{label:d.label,value:d.value,checked:false,item:d})}},indeterminateIndex:function(b,c,e){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(this.groups.length>0){var d=this.getVisibleItem(b)}if(d!=null){var f=a(d.checkBoxElement);d.checked=null;if(c==undefined||c==true){this._updateCheckedItems()}}if(e==undefined||e==true){this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var b=this.getVisibleItems();var e=this.selectedIndexes;var d=[];for(var c in e){if(e[c]!=-1){d[d.length]=b[c]}}return d},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(false);var c=this.getCheckedItems();this.selectedIndex=b;this._renderItems();var d=a.data(this.element,"hoveredItem");if(d!=null){a(d).addClass(this.toThemeProperty("jqx-listitem-state-hover"));a(d).addClass(this.toThemeProperty("jqx-fill-state-hover"))}this._updateInputSelection()},getItemByValue:function(d){if(this.visibleItems==null){return}if(this.itemsByValue){return this.itemsByValue[a.trim(d).split(" ").join("")]}var b=this.visibleItems;for(var c=0;c<b.length;c++){if(b[c].value==d){return b[c];break}}},checkItem:function(c){if(c!=null){var b=this._getItemByParam(c);return this.checkIndex(b.index,true)}return false},uncheckItem:function(c){if(c!=null){var b=this._getItemByParam(c);return this.uncheckIndex(b.index,true)}return false},indeterminateItem:function(c){if(c!=null){var b=this._getItemByParam(c);return this.indeterminateIndex(b.index,true)}return false},val:function(c){if(this.input&&arguments.length==0){return this.input.val()}var b=this.getItemByValue(c);if(b!=null){this.selectItem(b)}if(this.input){return this.input.val()}},selectItem:function(c){if(c!=null){if(c.index==undefined){var b=this.getItemByValue(c);if(b){c=b}}return this.selectIndex(c.index,true)}return false},unselectItem:function(c){if(c!=null){if(c.index==undefined){var b=this.getItemByValue(c);if(b){c=b}}return this.unselectIndex(c.index,true)}return false},selectIndex:function(j,q,c,d,m,b){if(isNaN(j)){return}if(j<-1||j>=this.visibleItems.length){return}if(this.visibleItems[j]!=null&&this.visibleItems[j].disabled){return}if(this.disabled){return}if(!this.multiple&&!this.multipleextended&&this.selectedIndex==j&&!d){return}if(this.checkboxes){this._updateCheckedItems();return}this.focused=true;var p=false;if(this.selectedIndex!=j){p=true}var o=this.selectedIndex;if(this.selectedIndex==j&&!this.multiple){o=-1}if(m==undefined){m="none"}var h=this.getItem(j);var r=this.getItem(o);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){h=this.getVisibleItem(j);r=this.getVisibleItem(o)}if(d!=undefined&&d){this._raiseEvent("1",{index:o,type:m,item:r,originalEvent:b});this.selectedIndex=j;this.selectedIndexes[o]=-1;this.selectedIndexes[j]=j;this._raiseEvent("0",{index:j,type:m,item:h,originalEvent:b})}else{var l=this;var e=function(s,w,u,v,t,i){l._raiseEvent("1",{index:w,type:u,item:v,originalEvent:i});l.selectedIndex=s;l.selectedIndexes[w]=-1;w=s;l.selectedIndexes[s]=s;l._raiseEvent("0",{index:s,type:u,item:t,originalEvent:i})};var k=function(s,w,u,v,t,i){if(l.selectedIndexes[s]==undefined||l.selectedIndexes[s]==-1){l.selectedIndexes[s]=s;l.selectedIndex=s;l._raiseEvent("0",{index:s,type:u,item:t,originalEvent:i})}else{w=l.selectedIndexes[s];l.selectedIndexes[s]=-1;l.selectedIndex=-1;l._raiseEvent("1",{index:w,type:u,item:v,originalEvent:i})}};if(this.multipleextended){if(!this._shiftKey&&!this._ctrlKey){if(m!="keyboard"&&m!="mouse"){k(j,o,m,r,h,b);l._clickedIndex=j}else{this.clearSelection(false);l._clickedIndex=j;e(j,o,m,r,h,b)}}else{if(this._ctrlKey){if(m=="keyboard"){this.clearSelection(false);l._clickedIndex=j}k(j,o,m,r,h,b)}else{if(this._shiftKey){if(l._clickedIndex==undefined){l._clickedIndex=o}var f=Math.min(l._clickedIndex,j);var n=Math.max(l._clickedIndex,j);this.clearSelection(false);for(var g=f;g<=n;g++){l.selectedIndexes[g]=g;l._raiseEvent("0",{index:g,type:m,item:this.getVisibleItem(g),originalEvent:b})}if(m!="keyboard"){l.selectedIndex=l._clickedIndex}else{l.selectedIndex=j}}}}}else{if(this.multiple){k(j,o,m,r,h,b)}else{e(j,o,m,r,h,b)}}}if(c==undefined||c==true){this._renderItems()}if(q!=undefined&&q!=null&&q==true){this.ensureVisible(j)}this._raiseEvent("2",{index:j,item:h,oldItem:r});this._updateInputSelection();return p},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{if(this.items){if(this.items[this.selectedIndex]!=undefined){this.input.val(this.items[this.selectedIndex].value)}}}if(this.multiple||this.multipleextended||this.checkboxes){var b=!this.checkboxes?this.getSelectedItems():this.getCheckedItems();var d="";if(b){for(var c=0;c<b.length;c++){if(undefined!=b[c]){if(c==b.length-1){d+=b[c].value}else{d+=b[c].value+","}}}this.input.val(d)}}}},isIndexInView:function(c){if(isNaN(c)){return false}if(!this.items){return false}if(c<0||c>=this.items.length){return false}var d=this.vScrollInstance.value;var e=this.visibleItems[this.selectedIndex];if(e==undefined){return true}var b=e.initialTop;var f=e.height;if(b-d<0||b-d+f>=this.host.outerHeight()){return false}return true},_itemsInPage:function(){var b=0;var c=this;a.each(this.items,function(){if((this.initialTop+this.height)>=c.content.height()){return false}b++});return b},_firstItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[0].isGroup){return this._nextItemIndex(0)}else{return 0}}return -1},_lastItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[this.visibleItems.length-1].isGroup){return this._prevItemIndex(this.visibleItems.length-1)}else{return this.visibleItems.length-1}}return -1},_nextItemIndex:function(b){for(indx=b+1;indx<this.visibleItems.length;indx++){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_prevItemIndex:function(b){for(indx=b-1;indx>=0;indx--){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_getMatches:function(g,d){if(g==undefined||g.length==0){return -1}if(d==undefined){d=0}var b=this.getItems();var f=this;var c=-1;var e=0;a.each(b,function(h){var k="";if(!this.isGroup){if(this.label){k=this.label}else{if(this.value){k=this.value}else{if(this.title){k=this.title}else{k="jqxItem"}}}var j=false;switch(f.searchMode){case"containsignorecase":j=a.jqx.string.containsIgnoreCase(k,g);break;case"contains":j=a.jqx.string.contains(k,g);break;case"equals":j=a.jqx.string.equals(k,g);break;case"equalsignorecase":j=a.jqx.string.equalsIgnoreCase(k,g);break;case"startswith":j=a.jqx.string.startsWith(k,g);break;case"startswithignorecase":j=a.jqx.string.startsWithIgnoreCase(k,g);break;case"endswith":j=a.jqx.string.endsWith(k,g);break;case"endswithignorecase":j=a.jqx.string.endsWithIgnoreCase(k,g);break}if(j&&this.visibleIndex>=d){c=this.visibleIndex;return false}}});return c},findItems:function(e){var b=this.getItems();var d=this;var c=0;var f=new Array();a.each(b,function(g){var j="";if(!this.isGroup){if(this.label){j=this.label}else{if(this.value){j=this.value}else{if(this.title){j=this.title}else{j="jqxItem"}}}var h=false;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(j,e);break;case"contains":h=a.jqx.string.contains(j,e);break;case"equals":h=a.jqx.string.equals(j,e);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(j,e);break;case"startswith":h=a.jqx.string.startsWith(j,e);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(j,e);break;case"endswith":h=a.jqx.string.endsWith(j,e);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(j,e);break}if(h){f[c++]=this}}});return f},_handleKeyDown:function(b){var o=b.keyCode;var p=this;var j=p.selectedIndex;var d=p.selectedIndex;var l=false;if(!this.keyboardNavigation||!this.enableSelection){return}var i=function(){if(p.multiple){p.clearSelection(false)}};if(b.altKey){o=-1}if(p.incrementalSearch){var q=-1;if(!p._searchString){p._searchString=""}if((o==8||o==46)&&p._searchString.length>=1){p._searchString=p._searchString.substr(0,p._searchString.length-1)}var c=String.fromCharCode(o);var k=(!isNaN(parseInt(c)));if((o>=65&&o<=97)||k||o==8||o==32||o==46){if(!b.shiftKey){c=c.toLocaleLowerCase()}var n=1+p.selectedIndex;if(o!=8&&o!=32&&o!=46){if(p._searchString.length>0&&p._searchString.substr(0,1)==c){n=1+p.selectedIndex}else{p._searchString+=c}}if(o==32){p._searchString+=" "}var h=this._getMatches(p._searchString,n);q=h;if(q==p._lastMatchIndex||q==-1){var h=this._getMatches(p._searchString,0);q=h}p._lastMatchIndex=q;if(q>=0){i();p.selectIndex(q,false,false,false,"keyboard",b);var e=p.isIndexInView(q);if(!e){p.ensureVisible(q)}else{p._renderItems()}}}if(p._searchTimer!=undefined){clearTimeout(p._searchTimer)}if(o==27||o==13){p._searchString=""}p._searchTimer=setTimeout(function(){p._searchString=""},p.incrementalSearchDelay);if(q>=0){return}}if(this.checkboxes){return true}if(o==33){var g=p._itemsInPage();if(p.selectedIndex-g>=0){i();p.selectIndex(d-g,false,false,false,"keyboard",b)}else{i();p.selectIndex(p._firstItemIndex(),false,false,false,"keyboard",b)}p._searchString=""}if(o==32&&this.checkboxes){var f=this.getItem(j);if(f!=null){p._updateItemCheck(f,j);b.preventDefault()}p._searchString=""}if(o==36){i();p.selectIndex(p._firstItemIndex(),false,false,false,"keyboard",b);p._searchString=""}if(o==35){i();p.selectIndex(p._lastItemIndex(),false,false,false,"keyboard",b);p._searchString=""}if(o==34){var g=p._itemsInPage();if(p.selectedIndex+g<p.visibleItems.length){i();p.selectIndex(d+g,false,false,false,"keyboard",b)}else{i();p.selectIndex(p._lastItemIndex(),false,false,false,"keyboard",b)}p._searchString=""}if(o==38){p._searchString="";if(p.selectedIndex>0){var m=p._prevItemIndex(p.selectedIndex);if(m!=p.selectedIndex&&m!=-1){i();p.selectIndex(m,false,false,false,"keyboard",b)}else{return true}}else{return false}}else{if(o==40){p._searchString="";if(p.selectedIndex+1<p.visibleItems.length){var m=p._nextItemIndex(p.selectedIndex);if(m!=p.selectedIndex&&m!=-1){i();p.selectIndex(m,false,false,false,"keyboard",b)}else{return true}}else{return false}}}if(o==35||o==36||o==38||o==40||o==34||o==33){var e=p.isIndexInView(p.selectedIndex);if(!e){p.ensureVisible(p.selectedIndex)}else{p._renderItems()}return false}return true},_updateItemCheck:function(b,c){if(b.checked==true){b.checked=(b.hasThreeStates&&this.hasThreeStates)?null:false}else{b.checked=b.checked!=null}switch(b.checked){case true:this.checkIndex(c);break;case false:this.uncheckIndex(c);break;default:this.indeterminateIndex(c);break}},wheel:function(d,c){if(c.autoHeight||!c.enableMouseWheel){d.returnValue=true;return true}if(c.disabled){return true}var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(b){if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(d){var c=this.vScrollInstance.value;if(d<0){this.scrollDown()}else{this.scrollUp()}var b=this.vScrollInstance.value;if(c!=b){return true}return false},focus:function(){try{this.focused=true;this.host.focus();var c=this;setTimeout(function(){c.host.focus()},10)}catch(b){}},_removeHandlers:function(){var b=this;this.removeHandler(a(document),"keydown.listbox"+this.element.id);this.removeHandler(a(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");if(this._mousemovefunc){this.removeHandler(this.content,"mousemove",this._mousemovefunc);this._mousemovefunc=null}else{this.removeHandler(this.content,"mousemove")}if(a.jqx.browser.msie){this.removeHandler(this.content,"selectstart")}if(this.overlayContent){this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))}},_updateSize:function(){var b=this;b._arrange();if(b.host.height()!=b._oldheight||b.host.width()!=b._oldwidth){var c=b.host.width()!=b._oldwidth;if(b.autoItemsHeight){b._render(false)}else{if(b.items){if(b.items.length>0&&b.virtualItemsCount*b.items[0].height<b._oldheight){b._render(false)}else{var d=b.vScrollInstance.value;b._updatescrollbars();b._renderItems();if(d<b.vScrollInstance.max){b.vScrollInstance.setPosition(d)}else{b.vScrollInstance.setPosition(b.vScrollInstance.max)}}}}b._oldwidth=b.host.width();b._oldheight=b.host.height()}},_addHandlers:function(){var j=this;this.focused=false;var k=false;var i=0;var f=null;var i=0;var b=0;var g=new Date();var d=this.isTouchDevice();if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){this.removeHandler(a(window),"resize."+this.element.id);this.addHandler(a(window),"resize."+this.element.id,function(l){j._updateSize()})}this.addHandler(this.vScrollBar,"valuechanged",function(l){if(a.jqx.browser.msie&&a.jqx.browser.version>9){setTimeout(function(){j._renderItems()},1)}else{j._renderItems()}});this.addHandler(this.hScrollBar,"valuechanged",function(){j._renderItems()});this.addHandler(this.host,"mousewheel",function(l){j.wheel(l,j)});this.addHandler(a(document),"keydown.listbox"+this.element.id,function(l){j._ctrlKey=l.ctrlKey;j._shiftKey=l.shiftKey});this.addHandler(a(document),"keyup.listbox"+this.element.id,function(l){j._ctrlKey=l.ctrlKey;j._shiftKey=l.shiftKey});this.addHandler(this.host,"keydown",function(l){return j._handleKeyDown(l)});this.addHandler(this.content,"mouseleave",function(l){j.focused=false;var m=a.data(j.element,"hoveredItem");if(m!=null){a(m).removeClass(j.toThemeProperty("jqx-listitem-state-hover"));a(m).removeClass(j.toThemeProperty("jqx-fill-state-hover"));a.data(j.element,"hoveredItem",null)}});this.addHandler(this.content,"focus",function(l){if(!j.disabled){j.host.addClass(j.toThemeProperty("jqx-fill-state-focus"));j.focused=true}});this.addHandler(this.content,"blur",function(l){j.focused=false;j.host.removeClass(j.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(l){if(!j.disabled){j.host.addClass(j.toThemeProperty("jqx-fill-state-focus"));j.focused=true}});this.addHandler(this.host,"blur",function(l){if(a.jqx.browser.msie&&a.jqx.browser.version<9&&j.focused){return}j.host.removeClass(j.toThemeProperty("jqx-fill-state-focus"));j.focused=false});this.addHandler(this.content,"mouseenter",function(l){j.focused=true});var c=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=j.isTouchDevice();var h=!e?"mousedown":"touchend";if(this.overlayContent){this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(n){if(!j.enableSelection){return true}if(e){j._newScroll=new Date();if(j._newScroll-j._lastScroll<500){return true}}var r=a.jqx.mobile.getTouches(n);var q=r[0];if(q!=undefined){var s=j.host.offset();var p=parseInt(q.pageX);var t=parseInt(q.pageY);if(j.touchmode==true){p=parseInt(q._pageX);t=parseInt(q._pageY)}p=p-s.left;t=t-s.top;var u=j._hitTest(p,t);if(u!=null&&!u.isGroup){if(j.checkboxes){var m=a(u.element).offset();var l=parseInt(m.left);if(!j.rtl){if(p<=l+20){if(u.checked){j.uncheckIndex(u.visibleIndex)}else{j.checkIndex(u.visibleIndex)}}}else{var o=j.hScrollBar.css("visibility")!="hidden"?j.hScrollInstance.max:j.host.width();if(p<=j.host.width()-20){j._updateItemCheck(u,u.visibleIndex)}}}if(u.html.indexOf("href")!=-1){setTimeout(function(){j.selectIndex(u.visibleIndex,false,true,false,"mouse",n)},100)}else{j.selectIndex(u.visibleIndex,false,true,false,"mouse",n)}}}})}else{this.addHandler(this.content,h,function(l){if(!j.enableSelection){return true}if(e){j._newScroll=new Date();if(j._newScroll-j._lastScroll<500){return false}}j.focused=true;if(!j.isTouchDevice()){j.host.focus()}if(l.target.id!=("listBoxContent"+j.element.id)&&j.itemswrapper[0]!=l.target){var p=l.target;var v=a(p).offset();var o=j.host.offset();if(c){var m=a.jqx.mobile.getLeftPos(p);var r=a.jqx.mobile.getTopPos(p);v.left=m;v.top=r;m=a.jqx.mobile.getLeftPos(j.element);r=a.jqx.mobile.getTopPos(j.element);o.left=m;o.top=r}var q=parseInt(v.top)-parseInt(o.top);var t=parseInt(v.left)-parseInt(o.left);var u=j._hitTest(t,q);if(u!=null&&!u.isGroup){var n=function(x,w){if(!j._shiftKey){j._clickedIndex=x.visibleIndex}if(!j.checkboxes){j.selectIndex(x.visibleIndex,false,true,false,"mouse",w)}else{j.selectedIndex=x.visibleIndex;if(j.rtl){var y=j.hScrollBar.css("visibility")!="hidden"?j.hScrollInstance.max:j.host.width();if(t<=j.host.width()-20){j._updateItemCheck(x,x.visibleIndex)}}else{if(t+j.hScrollInstance.value>=20){j._updateItemCheck(x,x.visibleIndex)}}}};if(!u.disabled){if(u.html.indexOf("href")!=-1){setTimeout(function(){n(u,l)},100)}else{n(u,l)}}}if(h=="mousedown"){var s=false;if(l.which){s=(l.which==3)}else{if(l.button){s=(l.button==2)}}if(s){return true}return false}}return true})}this.addHandler(this.content,"mouseup",function(l){j.vScrollInstance.handlemouseup(j,l)});if(a.jqx.browser.msie){this.addHandler(this.content,"selectstart",function(l){return false})}}var d=this.isTouchDevice();if(this.enableHover&&!d){this._mousemovefunc=function(l){if(d){return true}if(!j.enableHover){return true}var n=a.jqx.browser.msie==true&&a.jqx.browser.version<9?0:1;if(l.target==null){return true}if(j.disabled){return true}j.focused=true;var p=j.vScrollInstance.isScrolling();if(!p&&l.target.id!=("listBoxContent"+j.element.id)){if(j.itemswrapper[0]!=l.target){var r=l.target;var z=a(r).offset();var q=j.host.offset();if(c){var m=a.jqx.mobile.getLeftPos(r);var t=a.jqx.mobile.getTopPos(r);z.left=m;z.top=t;m=a.jqx.mobile.getLeftPos(j.element);t=a.jqx.mobile.getTopPos(j.element);q.left=m;q.top=t}var s=parseInt(z.top)-parseInt(q.top);var u=parseInt(z.left)-parseInt(q.left);var w=j._hitTest(u,s);if(w!=null&&!w.isGroup&&!w.disabled){var o=a.data(j.element,"hoveredItem");if(o!=null){a(o).removeClass(j.toThemeProperty("jqx-listitem-state-hover"));a(o).removeClass(j.toThemeProperty("jqx-fill-state-hover"))}a.data(j.element,"hoveredItem",w.element);var v=a(w.element);v.addClass(j.toThemeProperty("jqx-listitem-state-hover"));v.addClass(j.toThemeProperty("jqx-fill-state-hover"))}}}};this.addHandler(this.content,"mousemove",this._mousemovefunc)}},_arrange:function(l){if(l==undefined){l=true}var c=null;var n=null;var i=this;var g=function(r){r=i.host.height();if(r==0){r=200;i.host.height(r)}return r};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){c=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){c=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){n=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){n=this.height}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.css("width",this.width);c=this.host.width()}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.css("height",this.height);n=g(n)}var k=this.host.css("border-width");if(k==null){k=0}if(c!=null){c=parseInt(c);if(parseInt(this.element.style.width)!=parseInt(this.width)){this.host.width(this.width)}}if(!this.autoHeight){if(n!=null){n=parseInt(n);if(parseInt(this.element.style.height)!=parseInt(this.height)){this.host.height(this.height);g(n)}}}else{if(this.virtualSize){if(this.hScrollBar.css("visibility")!="hidden"){this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3);this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3;n=this.height}else{this.host.height(this.virtualSize.height);this.height=this.virtualSize.height;n=this.virtualSize.height}}}var b=this.scrollBarSize;if(isNaN(b)){b=parseInt(b);if(isNaN(b)){b="17px"}else{b=b+"px"}}b=parseInt(b);var h=4;var q=2;var j=0;if(this.vScrollBar){if(this.vScrollBar[0].style.visibility!="hidden"){j=b+h}else{this.vScrollInstance.setPosition(0)}}else{return}if(this.hScrollBar){if(this.hScrollBar[0].style.visibility!="hidden"){q=b+h}else{this.hScrollInstance.setPosition(0)}}else{return}if(this.autoItemsHeight){this.hScrollBar[0].style.visibility="hidden";q=0}if(n==null){n=0}var p=parseInt(n)-h-b;if(p<0){p=0}if(parseInt(this.hScrollBar[0].style.height)!=b){if(parseInt(b)<0){b=0}this.hScrollBar[0].style.height=parseInt(b)+"px"}if(this.hScrollBar[0].style.top!=p+"px"){this.hScrollBar[0].style.top=p+"px";this.hScrollBar[0].style.left="0px"}var o=c-b-h;if(o<0){o=0}var m=o+"px";if(this.hScrollBar[0].style.width!=m){this.hScrollBar[0].style.width=m}if(j==0){this.hScrollBar.width(c-2)}if(b!=parseInt(this.vScrollBar[0].style.width)){this.vScrollBar.width(b)}if((parseInt(n)-q)!=parseInt(this.vScrollBar[0].style.height)){this.vScrollBar.height(parseInt(n)-q+"px")}if(c==null){c=0}var d=parseInt(c)-parseInt(b)-h+"px";if(d!=this.vScrollBar[0].style.left){if(parseInt(d)>=0){this.vScrollBar[0].style.left=d}this.vScrollBar[0].style.top="0px"}var f=this.vScrollInstance;f.disabled=this.disabled;if(l){f._arrange()}var e=this.hScrollInstance;e.disabled=this.disabled;if(l){e._arrange()}if((this.vScrollBar[0].style.visibility!="hidden")&&(this.hScrollBar[0].style.visibility!="hidden")){this.bottomRight[0].style.visibility="inherit";this.bottomRight.css({left:1+parseInt(this.vScrollBar[0].style.left),top:1+parseInt(this.hScrollBar[0].style.top)});if(this.rtl){this.bottomRight.css({left:0})}this.bottomRight.width(parseInt(b)+3);this.bottomRight.height(parseInt(b)+3)}else{this.bottomRight[0].style.visibility="hidden"}if(parseInt(this.content[0].style.width)!=(parseInt(c)-j)){this.content.width(parseInt(c)-j)}if(this.rtl){this.vScrollBar.css({left:0+"px",top:"0px"});this.hScrollBar.css({left:this.vScrollBar.width()+2+"px"});if(this.vScrollBar[0].style.visibility!="hidden"){this.content.css("margin-left",4+this.vScrollBar.width())}else{this.content.css("margin-left",0);this.hScrollBar.css({left:"0px"})}}if(parseInt(this.content[0].style.height)!=(parseInt(n)-q)){this.content.height(parseInt(n)-q)}if(this.overlayContent){this.overlayContent.width(parseInt(c)-j);this.overlayContent.height(parseInt(n)-q)}},ensureVisible:function(d){var c=this.isIndexInView(d);if(!c){if(d<0){return}if(this.autoHeight){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(0)}else{for(indx=0;indx<this.visibleItems.length;indx++){var e=this.visibleItems[indx];if(e.visibleIndex==d&&!e.isGroup){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var f=b.value;if(e.initialTop<f){b.setPosition(e.initialTop)}else{if(e.initialTop+e.height>f+this.host.height()){b.setPosition(e.initialTop+e.height+2-this.host.height())}}break}}}}this._renderItems()},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value+b.largestep<=b.max){b.setPosition(b.value+b.largestep);return true}else{b.setPosition(b.max);return true}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value-b.largestep>=b.min){b.setPosition(b.value-b.largestep);return true}else{if(b.value!=b.min){b.setPosition(b.min);return true}}return false},databind:function(h){this.records=new Array();var d=h._source?true:false;var i=new a.jqx.dataAdapter(h,{autoBind:false});if(d){i=h;h=h._source}var g=function(j){if(h.type!=undefined){i._options.type=h.type}if(h.formatdata!=undefined){i._options.formatData=h.formatdata}if(h.contenttype!=undefined){i._options.contentType=h.contenttype}if(h.async!=undefined){i._options.async=h.async}};var c=function(o,p){var r=function(s){if(typeof s==="string"){var u=s;var v=s}else{var v=s[o.valueMember];var u=s[o.displayMember]}var t=new a.jqx._jqxListBox.item();t.label=u;t.value=v;t.html="";t.visible=true;t.originalItem=s;t.group="";t.groupHtml="";t.disabled=false;t.hasThreeStates=true;return t};if(p!=undefined){var j=i._changedrecords[0];if(j){a.each(i._changedrecords,function(){var s=this.index;var t=this.record;if(p!="remove"){var u=r(t)}switch(p){case"update":o.updateAt(u,s);break;case"add":o.insertAt(u,s);break;case"remove":o.removeAt(s);break}});return}}o.records=i.records;var l=o.records.length;o.items=new Array();o.itemsByValue=new Array();for(var k=0;k<l;k++){var m=o.records[k];var n=r(m);n.index=k;o.items[k]=n;var q=n.value;if(n.value==""||n.value==null){q=k}o.itemsByValue[a.trim(q).split(" ").join("")]=n}o._render();o._raiseEvent("6")};g(this);var f=this;switch(h.datatype){case"local":case"array":default:if(h.localdata!=null){i.unbindBindingUpdate(this.element.id);i.dataBind();c(this);i.bindBindingUpdate(this.element.id,function(j){c(f,j)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(h.localdata!=null){i.unbindBindingUpdate(this.element.id);i.dataBind();c(this);i.bindBindingUpdate(this.element.id,function(){c(f)});return}var e={};if(i._options.data){a.extend(i._options.data,e)}else{if(h.data){a.extend(e,h.data)}i._options.data=e}var b=function(){c(f)};i.unbindDownloadComplete(f.element.id);i.bindDownloadComplete(f.element.id,b);i.dataBind()}},loadItems:function(m){if(m==null){this.groups=new Array();this.items=new Array();this.visualItems=new Array();return}var s=this;var k=0;var d=0;var b=0;this.groups=new Array();this.items=new Array();this.visualItems=new Array();var e=new Array();this.itemsByValue=new Array();a.map(m,function(v){if(v==undefined){return null}var j=new a.jqx._jqxListBox.item();var w=v.group;var i=v.groupHtml;var x=v.title;if(x==null||x==undefined){x=""}if(w==null||w==undefined){w=""}if(i==null||i==undefined){i=""}if(!s.groups[w]){s.groups[w]={items:new Array(),index:-1,caption:w,captionHtml:i};k++;var t=k+"jqxGroup";s.groups[t]=s.groups[w];d++;s.groups.length=d}var u=s.groups[w];u.index++;u.items[u.index]=j;if(typeof v==="string"){j.label=v;j.value=v}else{if(v.label==null&&v.value==null&&v.html==null&&v.group==null&&v.groupHtml==null){j.label=v.toString();j.value=v.toString()}else{j.label=v.label||v.value;j.value=v.value||v.label}}if(typeof v!="string"){if(s.displayMember!=""){if(v[s.displayMember]){j.label=v[s.displayMember]}}if(s.valueMember!=""){j.value=v[s.valueMember]}}j.hasThreeStates=v.hasThreeStates!=undefined?v.hasThreeStates:true;j.originalItem=v;j.title=x;j.html=v.html||"";if(v.html&&v.html!=""){if(x&&x!=""){}}j.group=w;j.checked=v.checked||false;j.groupHtml=v.groupHtml||"";j.disabled=v.disabled||false;j.visible=v.visible||true;j.index=b;e[b]=j;b++;return j});var c=new Array();var o=0;if(this.fromSelect==undefined||this.fromSelect==false){for(var h=0;h<d;h++){var k=h+1;var n=k+"jqxGroup";var q=this.groups[n];if(q==undefined||q==null){break}if(h==0&&q.caption==""&&q.captionHtml==""&&d<=1){for(var g=0;g<q.items.length;g++){var p=q.items[g].value;if(q.items[g].value==""||q.items[g].value==null){p=g}this.itemsByValue[a.trim(p).split(" ").join("")]=q.items[g]}return q.items}else{var l=new a.jqx._jqxListBox.item();l.isGroup=true;l.label=q.caption;if(q.caption==""&&q.captionHtml==""){q.caption=this.emptyGroupText;l.label=q.caption}l.html=q.captionHtml;c[o]=l;var p=l.value;if(l.value==""||l.value==null){p=o}s.itemsByValue[a.trim(p).split(" ").join("")]=l;o++}for(var f=0;f<q.items.length;f++){c[o]=q.items[f];o++}}}else{var o=0;var r=new Array();a.each(e,function(){if(!r[this.group]){if(this.group!=""){var i=new a.jqx._jqxListBox.item();i.isGroup=true;i.label=this.group;c[o]=i;o++;r[this.group]=true}}c[o]=this;var j=this.value;if(this.value==""||this.value==null){j=o-1}s.itemsByValue[a.trim(j).split(" ").join("")]=this;o++})}return c},_mapItem:function(c){var b=new a.jqx._jqxListBox.item();if(typeof c==="string"){b.label=c;b.value=c}else{if(typeof c==="number"){b.label=c.toString();b.value=c.toString()}else{b.label=c.label||c.value;b.value=c.value||c.label}}if(b.label==undefined&&b.value==undefined&&b.html==undefined){b.label=b.value=c}b.html=c.html||"";b.group=c.group||"";b.title=c.title||"";b.groupHtml=c.groupHtml||"";b.disabled=c.disabled||false;b.visible=c.visible||true;return b},addItem:function(c){var b=this._getItemByParam(c);return this.insertAt(b,this.items?this.items.length:0)},_getItemByParam:function(c){if(c!=null){if(c.index==undefined){var b=this.getItemByValue(c);if(b){c=b}}}return c},insertItem:function(d,b){var c=this._getItemByParam(d);return this.insertAt(c,b)},updateAt:function(d,c){if(d!=null){var b=this._mapItem(d);this.itemsByValue[a.trim(b.value).split(" ").join("")]=this.items[c];this.items[c].value=b.value;this.items[c].label=b.label;this.items[c].html=b.html;this.items[c].disabled=b.disabled}this._cachedItemHtml=[];this._renderItems();if(this.rendered){this.rendered()}},insertAt:function(l,f){if(l==null){return false}this._cachedItemHtml=[];if(this.items==undefined||this.items.length==0){this.source=new Array();this.refresh();var g=this._mapItem(l);g.index=0;this.items[this.items.length]=g;this._addItems(true);this._renderItems();if(this.rendered){this.rendered()}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}var k=g.value;if(g.value==""||g.value==null){k=f}this.itemsByValue[a.trim(k).split(" ").join("")]=g;return false}var g=this._mapItem(l);if(f==-1||f==undefined||f==null||f>=this.items.length){g.index=this.items.length;this.items[this.items.length]=g}else{var c=new Array();var j=0;var e=false;var h=0;for(var b=0;b<this.items.length;b++){if(this.items[b].isGroup==false){if(h>=f&&!e){c[j++]=g;g.index=f;h++;e=true}}c[j]=this.items[b];if(!this.items[b].isGroup){c[j].index=h;h++}j++}this.items=c}var k=g.value;if(g.value==""||g.value==null){k=f}this.itemsByValue[a.trim(k).split(" ").join("")]=g;this.visibleItems=new Array();this.renderedVisibleItems=new Array();var d=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var i=d.value;d.setPosition(0);if((this.allowDrag&&this._enableDragDrop)||(this.virtualSize&&this.virtualSize.height<10+this.host.height())){this._addItems(true)}else{this._addItems(false)}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}d.setPosition(i);if(this.rendered){this.rendered()}return true},removeAt:function(g){if(g<0||g>this.items.length-1){return false}var d=this.items[g].height;var k=this.items[g].value;if(k==""||k==null){k=g}this.itemsByValue[a.trim(k).split(" ").join("")]=null;this.items.splice(g,1);var c=new Array();var j=0;var f=false;var h=0;for(var b=0;b<this.items.length;b++){c[j]=this.items[b];if(!this.items[b].isGroup){c[j].index=h;h++}j++}this.items=c;var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var i=e.value;e.setPosition(0);this.visibleItems=new Array();this.renderedVisibleItems=new Array();if(this.items.length>0){if(this.virtualSize){this.virtualSize.height-=d;var l=this.virtualSize.itemsPerPage*2;if(this.autoHeight){l=this.items.length}this.virtualItemsCount=Math.min(l,this.items.length)}this._updatescrollbars()}else{this._addItems()}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}if(this.vScrollBar.css("visibility")!="hidden"){e.setPosition(i)}else{e.setPosition(0)}if(this.rendered){this.rendered()}return true},removeItem:function(c){var b=this._getItemByParam(c);this.removeAt(b.index)},getItems:function(){return this.items},disableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=true;this._renderItems();return true},enableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=false;this._renderItems();return true},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id)}this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.host.removeClass("jqx-listbox jqx-rc-all");this.host.remove()},_raiseEvent:function(f,c){if(this._stopEvents==true){return true}if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;this._updateInputSelection();var e=new jQuery.Event(d);e.owner=this;e.args=args;if(this.host!=null){var b=this.host.trigger(e)}return b}})})(jQuery);(function(a){a.jqx._jqxListBox.item=function(){var b={group:"",groupHtml:"",selected:false,isGroup:false,highlighted:false,value:null,label:"",html:null,visible:true,disabled:false,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:false,visibleIndex:-1};return b}})(jQuery);

/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxNumberInput","",{});a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){this.value=null;this.decimal=0;this.min=-99999999;this.max=99999999;this.width=null;this.validationMessage="Invalid value";this.height=50;this.textAlign="right";this.readOnly=false;this.promptChar="_";this.decimalDigits=2;this.decimalSeparator=".";this.groupSeparator=",";this.groupSize=3;this.symbol="";this.symbolPosition="left";this.digits=8;this.negative=false;this.negativeSymbol="-";this.disabled=false;this.inputMode="advanced";this.spinButtons=false;this.spinButtonsWidth=18;this.spinButtonsStep=1;this.autoValidate=true;this.spinMode="advanced";this.rtl=false;this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"];this.aria={"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}};this.invalidArgumentExceptions=["invalid argument exception"]},createInstance:function(b){var c=this.host.attr("value");if(c!=undefined){this.decimal=c}if(this.value!=null){this.decimal=this.value}this.render()},render:function(){this.host.attr({role:"numberInput"});this.host.attr("data-role","input");a.jqx.aria(this);var f=this;if(this._hiddenParentTimer){if(a.jqx.isHidden(this.host)){this._hiddenParentTimer=setInterval(function(){try{if(!a.jqx.isHidden(f.host)){clearInterval(f._hiddenParentTimer);f._hiddenParentTimer=0;f._render()}}catch(n){}},10)}}if((this.width&&this.width.indexOf&&this.width.indexOf("%")!=-1)||(this.height&&this.height.indexOf&&this.height.indexOf("%")!=-1)){this.addHandler(a(window),"resize."+this.element.id,function(){f._render()})}if(this.officeMode||(this.theme&&this.theme.indexOf("office")!=-1)){if(this.spinButtonsWidth==18){this.spinButtonsWidth=15}}if(a.jqx.mobile.isTouchDevice()){this.inputMode="simple";this.spinMode="simple"}if(this.decimalSeparator==""){this.decimalSeparator=" "}this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));if(this.spinButtons){this._spinButtons()}else{this.numberInput=a("<input autocomplete='off' type='textarea'/>").appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))}var d=this.host.attr("name");if(!d){d=this.element.id}this.numberInput.attr("name",d);if(a.jqx.mobile.isTouchDevice()||this.inputMode=="textbox"){var f=this;this.addHandler(this.numberInput,"change",function(){if(!f.parsing){f.parsing=true}if(f.parsing){if(f.numberInput.val()&&f.numberInput.val().indexOf("-")==0){f.setvalue("negative",true)}else{f.setvalue("negative",false)}f.ValueString=f.GetValueString(f.numberInput.val(),f.decimalSeparator,f.decimalSeparator!="");f.ValueString=new Number(f.ValueString).toFixed(f.decimalDigits);f._parseDecimalInSimpleMode();f.decimal=f.ValueString;f.parsing=false}})}var h=a.data(this.host[0],"jqxNumberInput");h.jqxNumberInput=this;var f=this;this.addHandler(this.host,"loadContent",function(n){f._render()});if(this.host.parents("form").length>0){this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){f.setDecimal(0)},10)})}this.propertyChangeMap.disabled=function(n,q,o,r){if(r){n.numberInput.addClass(c.toThemeProperty("jqx-input-disabled"));n.numberInput.attr("disabled",true)}else{n.host.removeClass(c.toThemeProperty("jqx-input-disabled"));n.numberInput.attr("disabled",false)}if(n.spinButtons&&n.host.jqxRepeatButton){n.upbutton.jqxRepeatButton({disabled:r});n.downbutton.jqxRepeatButton({disabled:r})}};if(this.disabled){this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled"));this.numberInput.attr("disabled",true);this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.selectedText="";this.decimalSeparatorPosition=-1;var l=this.element.id;var e=this.element;var c=this;this.oldValue=this._value();this.items=new Array();var g=this.value;var b=this.decimal;this._initializeLiterals();this._render();this.setDecimal(b);var f=this;setTimeout(function(){f._render(false)},100);this._addHandlers()},refresh:function(b){if(!b){this._render()}},wheel:function(d,c){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(b){if(b<0){this.spinDown()}else{this.spinUp()}return true},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"mousedown",function(f){return b._raiseEvent(2,f)});this._mousewheelfunc=this._mousewheelfunc||function(f){if(!b.editcell){b.wheel(f,b);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d=a.jqx.mobile.isOperaMiniMobileBrowser();if(d){this.inputMode="simple";var c=a.jqx.mobile.isOperaMiniBrowser();if(c){b.numberInput.attr("readonly",true)}this.addHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}var e="";this.addHandler(this.numberInput,"focus",function(f){if(b.inputMode=="simple"){}a.data(b.numberInput,"selectionstart",b._selection().start);b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"));if(b.spincontainer){b.spincontainer.addClass(b.toThemeProperty("jqx-numberinput-focus"))}e=b.numberInput.val()});this.addHandler(this.numberInput,"blur",function(g){if(b.inputMode=="simple"){b._exitSimpleInputMode(g,b,false)}if(b.autoValidate){var h=parseFloat(b.decimal);var f=b.getvalue("negative");if(f&&b.decimal>0){h=-parseFloat(b.decimal)}if(h>b.max){b._disableSetSelection=true;b.setDecimal(b.max);b._disableSetSelection=false}if(h<b.min){b._disableSetSelection=true;b.setDecimal(b.min);b._disableSetSelection=false}}b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"));if(b.spincontainer){b.spincontainer.removeClass(b.toThemeProperty("jqx-numberinput-focus"))}if(b.numberInput.val()!=e){b._raiseEvent(7,g);a.jqx.aria(b,"aria-valuenow",b.decimal);b.element.value=b.decimal}return true});this.addHandler(this.numberInput,"mouseup",function(f){return b._raiseEvent(3,f)});this.addHandler(this.numberInput,"keydown",function(f){return b._raiseEvent(4,f)});this.addHandler(this.numberInput,"keyup",function(f){return b._raiseEvent(5,f)});this.addHandler(this.numberInput,"keypress",function(f){return b._raiseEvent(6,f)})},focus:function(){try{this.numberInput.focus()}catch(b){}},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();if(c){this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}this.removeHandler(this.numberInput,"focus");this.removeHandler(this.numberInput,"blur");this.removeHandler(this.numberInput,"mouseup");this.removeHandler(this.numberInput,"keydown");this.removeHandler(this.numberInput,"keyup");this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(this.host.jqxRepeatButton){if(!this.numberInput){this.numberInput=a("<input autocomplete='off' style='position: relative; float: left;' type='textarea'/>");this.numberInput.appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))}else{this.numberInput.css("float","left")}this.spincontainer=a('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>');if(this.rtl){this.spincontainer.css("float","right");this.numberInput.css("float","right")}this.host.append(this.spincontainer);this.upbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>');this.spincontainer.append(this.upbutton);this.upbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"top-right"});this.downbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>');this.spincontainer.append(this.downbutton);this.downbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"bottom-right"});var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr"));this.downbutton.addClass(this.toThemeProperty("jqx-rc-br"));this.addHandler(this.downbutton,"mouseup",function(c){if(!b.disabled){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))}});this.addHandler(this.upbutton,"mouseup",function(c){if(!b.disabled){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected"))}});this.removeHandler(a(document),"mouseup."+this.element.id);this.addHandler(a(document),"mouseup."+this.element.id,function(c){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected"));b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))});this.addHandler(this.downbutton,"mousedown",function(c){if(!b.disabled){if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._inputSelection=b._selection()}b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed"));b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected"));c.preventDefault();c.stopPropagation();return false}});this.addHandler(this.upbutton,"mousedown",function(c){if(!b.disabled){if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._inputSelection=b._selection()}b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed"));b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-selected"));c.preventDefault();c.stopPropagation();return false}});this.upbutton.hover(function(){if(!b.disabled){b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))});this.downbutton.hover(function(){if(!b.disabled){b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))});this.upbutton.css("border-width","0px");this.downbutton.css("border-width","0px");if(this.disabled){this.upbutton[0].disabled=true;this.downbutton[0].disabled=true}else{this.upbutton[0].disabled=false;this.downbutton[0].disabled=false}this.spincontainer.addClass(this.toThemeProperty("jqx-input"));this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r"));this.spincontainer.css("border-width","0px");if(!this.rtl){this.spincontainer.css("border-left-width","1px")}else{this.spincontainer.css("border-right-width","1px")}this._upArrow=this.upbutton.find("div");this._downArrow=this.downbutton.find("div");this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._upArrow.addClass(this.toThemeProperty("jqx-input-icon"));this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var b=this;this._upArrow.hover(function(){if(!b.disabled){b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}},function(){b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))});this._downArrow.hover(function(){if(!b.disabled){b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}},function(){b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))});this.addHandler(this.downbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._setSelectionStart(b._inputSelection.start)}b.spinDown()});this.addHandler(this.upbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._setSelectionStart(b._inputSelection.start)}b.spinUp()})}else{throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.")}},spinDown:function(){var o=this;if(o.spinMode=="none"){return}var b=this.getvalue("negative");var t=b?-1:0;if(!o.disabled){var r=this._selection();var q=this.decimal;var l=this.getDecimal();if(l<this.min){l=this.min;this.setDecimal(this.min);this._setSelectionStart(r.start);this.spinDown();return}else{if(l>this.max){l=this.max;this.setDecimal(this.max);this._setSelectionStart(r.start);this.spinDown();return}}if(o.spinButtonsStep<0){o.spinButtonsStep=1}var d=parseInt(o.decimal)+o.spinButtonsStep;d=d.toString().length;var f=t+d<=o.digits;if(o.spinMode!="advanced"){if(l-o.spinButtonsStep>=o.min&&f){var v=1;for(g=0;g<o.decimalDigits;g++){v=v*10}var e=(v*l)-(v*o.spinButtonsStep);e=e/v;e=this._parseDecimalValueToEditorValue(e);o.setDecimal(e)}}else{var s=this._getspindecimal();var n=this._getSeparatorPosition();var l=parseFloat(s.decimal);if(o.spinButtonsStep<0){o.spinButtonsStep=1}var d=parseInt(l)+o.spinButtonsStep;d=d.toString().length;var f=t+d<=o.digits;var v=1;var c=s.decimal.indexOf(".");if(c!=-1){var h=s.decimal.length-c-1;var v=1;for(var g=0;g<h;g++){v=v*10}l-=new Number(o.spinButtonsStep/v);l=l.toFixed(h);var c=l.toString().indexOf(".");if(c==-1){l=l.toString()+"."}var u=l.toString()+s.afterdecimal;u=new Number(u);u=u.toFixed(o.decimalDigits);if(u>=o.min){u=this._parseDecimalValueToEditorValue(u);o.setDecimal(u)}}else{if(l-o.spinButtonsStep>=o.min&&f){var e=(v*l)-(v*o.spinButtonsStep);e=e/v;var u=e.toString()+s.afterdecimal;if(u>=o.min){u=this._parseDecimalValueToEditorValue(u);o.setDecimal(u)}}}}if(u==undefined||this.inputMode!="simple"){this._setSelectionStart(r.start);return}u=this.decimal.toString();var b=this.getvalue("negative");if(t==0&&b){this._setSelectionStart(r.start+1)}else{if((u!=undefined&&(q==undefined||q.toString().length==u.length))){this._setSelectionStart(r.start)}else{if(b){this._setSelectionStart(r.start+1)}else{this._setSelectionStart(r.start-1)}}}}},_getspindecimal:function(){var q=this._selection();var r="";var n=this._getSeparatorPosition();var t=this._getVisibleItems();var e=this._getHiddenPrefixCount();var s=this.numberInput.val();if(this.numberInput.val().length==q.start&&q.length==0){this._setSelection(q.start,q.start+1);q=this._selection()}var l=this.inputMode!="advanced";for(var c=0;c<q.start;c++){if(l){var o=s.substring(c,c+1);var h=(!isNaN(parseInt(o)));if(h){r+=o}if(o==this.decimalSeparator){r+=o}continue}if(t[c].canEdit&&t[c].character!=this.promptChar){r+=t[c].character}else{if(!t[c].canEdit&&this.decimalSeparatorPosition!=-1&&t[c]==t[this.decimalSeparatorPosition-e]){if(r.length==0){r="0"}r+=t[c].character}}}var g="";for(var c=q.start;c<t.length;c++){if(l){var o=s.substring(c,c+1);var h=(!isNaN(parseInt(o)));if(h){g+=o}if(o==this.decimalSeparator){g+=o}continue}if(t[c].canEdit&&t[c].character!=this.promptChar){g+=t[c].character}else{if(!t[c].canEdit&&this.decimalSeparatorPosition!=-1&&t[c]==t[this.decimalSeparatorPosition-e]){g+=t[c].character}}}var b=this.getvalue("negative");var f=b?"-"+this._parseDecimalValue(r).toString():this._parseDecimalValue(r).toString();return{decimal:f,afterdecimal:this._parseDecimalValue(g)}},_parseDecimalValue:function(c){if(this.decimalSeparator!="."){var d=c.toString().indexOf(this.decimalSeparator);if(d>=0){var b=c.toString().substring(0,d)+"."+c.toString().substring(d+1);return b}}return c},_parseDecimalValueToEditorValue:function(c){if(this.decimalSeparator!="."){var d=c.toString().indexOf(".");if(d>=0){var b=c.toString().substring(0,d)+this.decimalSeparator+c.toString().substring(d+1);return b}}return c},spinUp:function(){var q=this;if(q.spinMode=="none"){return}var b=this.getvalue("negative");var u=b?-1:0;if(!q.disabled){var s=this._selection();var r=q.decimal;var n=q.getDecimal();if(n<this.min){n=this.min;this.setDecimal(this.min);this._setSelectionStart(s.start);this.spinUp();return}else{if(n>this.max){n=this.max;this.setDecimal(this.max);this._setSelectionStart(s.start);this.spinUp();return}}if(q.spinButtonsStep<0){q.spinButtonsStep=1}var d=parseInt(q.decimal)+q.spinButtonsStep;d=d.toString().length;var g=u+d<=q.digits;if(q.spinMode!="advanced"){if(n+q.spinButtonsStep<=q.max&&g){var w=1;for(var l=0;l<q.decimalDigits;l++){w=w*10}var f=(w*n)+(w*q.spinButtonsStep);f=f/w;f=this._parseDecimalValueToEditorValue(f);q.setDecimal(f)}}else{var t=this._getspindecimal();var o=this._getSeparatorPosition();var n=parseFloat(t.decimal);if(q.spinButtonsStep<0){q.spinButtonsStep=1}var d=parseInt(n)+q.spinButtonsStep;d=d.toString().length;var g=u+d<=q.digits;var w=1;var c=t.decimal.indexOf(".");if(c!=-1){var h=t.decimal.length-c-1;var w=1;for(var l=0;l<h;l++){w=w*10}n+=new Number(q.spinButtonsStep/w);n=n.toFixed(h);var c=n.toString().indexOf(".");if(c==-1){n=n.toString()+"."}var v=n.toString()+t.afterdecimal;v=new Number(v);v=v.toFixed(q.decimalDigits);var e=new Number(v).toFixed(q.decimalDigits);if(e<=q.max){v=this._parseDecimalValueToEditorValue(v);q.setDecimal(v)}else{v=undefined}}else{if(n+q.spinButtonsStep<=q.max&&g){var f=(w*n)+(w*q.spinButtonsStep);f=f/w;var v=f.toString()+t.afterdecimal;var e=new Number(v).toFixed(q.decimalDigits);if(e<=q.max){v=this._parseDecimalValueToEditorValue(v);if(b&&v.indexOf("-")==-1){if(t.decimal!="-0"){v="-"+v}}q.setDecimal(v)}else{v=undefined}}}}if(v==undefined||this.inputMode!="simple"){this._setSelectionStart(s.start);return}v=this.decimal.toString();var b=this.getvalue("negative");if(u==-1&&!b){this._setSelectionStart(-1+s.start)}else{if((v!=undefined&&(r==undefined||r.toString().length==v.length))){this._setSelectionStart(s.start)}else{if(b){this._setSelectionStart(-1+s.start)}else{this._setSelectionStart(1+s.start)}}}}},_exitSimpleInputMode:function(b,n,g){if(n==undefined){n=b.data}if(n==null){return}if(g==undefined){if(b.target!=null&&n.element!=null){if((b.target.id!=undefined&&b.target.id.toString().length>0&&n.host.find("#"+b.target.id).length>0)||b.target==n.element){return}}var e=n.host.offset();var d=e.left;var f=e.top;var c=n.host.width();var l=n.host.height();var o=a(b.target).offset();if(o.left>=d&&o.left<=d+c){if(o.top>=f&&o.top<=f+l){return}}}if(a.jqx.mobile.isOperaMiniBrowser()){n.numberInput.attr("readonly",true)}if(n.disabled||n.readOnly){return}var h=a.data(n.numberInput,"simpleInputMode");if(h==null){return}a.data(n.numberInput,"simpleInputMode",null);this._parseDecimalInSimpleMode();return false},_parseDecimalInSimpleMode:function(d){var o=this;var b=o.getvalue("negative");var e=this.ValueString;if(e==undefined){e=this.GetValueString(this.numberInput.val(),this.decimalSeparator,this.decimalSeparator!="")}if(this.decimalSeparator!="."){var g=e.toString().indexOf(".");if(g>0){var f=e.toString().substring(0,g);var c=f+this.decimalSeparator+e.toString().substring(g+1);e=c}}var h=b?"-":"";if(this.symbolPosition=="left"){h+=this.symbol}var l=this.digits%this.groupSize;if(l==0){l=this.groupSize}var n=e.toString();h+=n;if(this.symbolPosition=="right"){h+=this.symbol}if(d!=false){o.numberInput.val(h)}},_enterSimpleInputMode:function(f,d){if(d==undefined){d=f.data}var e=this._selection();if(d==null){return}var c=d.getvalue("negative");var b=d.decimal;if(c){if(b>0){b=-b}}d.numberInput.val(b);a.data(d.numberInput,"simpleInputMode",true);if(a.jqx.mobile.isOperaMiniBrowser()){d.numberInput.attr("readonly",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(e.start)},setvalue:function(b,c){if(this[b]!=undefined){if(b=="decimal"){this._setDecimal(c)}else{this[b]=c;this.propertyChangedHandler(this,b,c,c)}}},getvalue:function(b){if(b=="decimal"){if(this.negative!=undefined&&this.negative==true){return -Math.abs(this[b])}}if(b in this){return this[b]}return null},_getString:function(){var c="";for(var b=0;b<this.items.length;b++){var d=this.items[b].character;c+=d}return c},_literal:function(d,b,c,e){return{character:d,regex:b,canEdit:c,isSeparator:e}},_initializeLiterals:function(){if(this.inputMode=="textbox"){return}var h=0;var e=this.negativeSymbol.length;for(var d=0;d<e;d++){var g=this.negativeSymbol.substring(d,d+1);var n="";var b=false;var o=null;if(this.negative){o=this._literal(g,n,b,false)}else{o=this._literal("",n,b,false)}this.items[h]=o;h++}var c=this.symbol.length;if(this.symbolPosition=="left"){for(d=0;d<c;d++){var g=this.symbol.substring(d,d+1);var n="";var b=false;var o=this._literal(g,n,b,false);this.items[h]=o;h++}}var f=this.digits%this.groupSize;if(f==0){f=this.groupSize}for(var d=0;d<this.digits;d++){var g=this.promptChar;var n="\\d";var b=true;var o=this._literal(g,n,b,false);this.items[h]=o;h++;if(d<this.digits-1&&this.groupSeparator!=undefined&&this.groupSeparator.length>0){f--;if(f==0){f=this.groupSize;var l=this._literal(this.groupSeparator,"",false,false);this.items[h]=l;h++}}else{if(d==this.digits-1){o.character=0}}}this.decimalSeparatorPosition=-1;if(this.decimalDigits!=undefined&&this.decimalDigits>0){var g=this.decimalSeparator;if(g.length==0){g="."}var o=this._literal(g,"",false,true);this.items[h]=o;this.decimalSeparatorPosition=h;h++;for(var d=0;d<this.decimalDigits;d++){var r=0;var n="\\d";var q=this._literal(r,n,true,false);this.items[h]=q;h++}}if(this.symbolPosition=="right"){for(var d=0;d<c;d++){var g=this.symbol.substring(d,d+1);var n="";var b=false;var o=this._literal(g,n,b);this.items[h]=o;h++}}},_match:function(c,b){var d=new RegExp(b,"i");return d.test(c)},_raiseEvent:function(f,w){var v=this.events[f];var n={};n.owner=this;if(this.host.css("display")=="none"){return true}var u=w.charCode?w.charCode:w.keyCode?w.keyCode:0;var x=true;var t=this.readOnly;var o=this;if(f==3||f==2){if(!this.disabled){if(this.inputMode!="simple"){this._handleMouse(w)}else{return true}}}if(f==0){var d=this.getvalue("decimal");if((this.max<d)||(this.min>d)){this.host.addClass(this.toThemeProperty("jqx-input-invalid"))}else{this.host.removeClass(this.toThemeProperty("jqx-input-invalid"));this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"))}}var c=new jQuery.Event(v);c.owner=this;n.value=this.getvalue("decimal");n.text=this.numberInput.val();c.args=n;x=this.host.trigger(c);var o=this;if(this.inputMode=="textbox"){return x}if(this.inputMode!="simple"){if(f==4){if(t||this.disabled){return false}x=o._handleKeyDown(w,u)}else{if(f==5){if(t||this.disabled){x=false}}else{if(f==6){if(t||this.disabled){return false}x=o._handleKeyPress(w,u)}}}}else{if(f==4||f==5||f==6){if(a.jqx.mobile.isTouchDevice()){return true}if(t||this.disabled){return false}var g=String.fromCharCode(u);var q=parseInt(g);var h=true;if(!w.ctrlKey&&!w.shiftKey){if(u>=65&&u<=90){h=false}}if(f==6&&a.jqx.browser.opera!=undefined){if(u==8){return false}}if(h){if(f==4){h=o._handleSimpleKeyDown(w,u)}if(u==189||u==45||u==109||u==173){var s=o._selection();if(f==4){var b=o.getvalue("negative");if(b==false){o.setvalue("negative",true)}else{o.setvalue("negative",false)}o._parseDecimalInSimpleMode();o._setSelectionStart(s.start);h=false}}if(!a.jqx.browser.msie){var l=w;if((l.ctrlKey&&u==99)||(l.ctrlKey&&u==67)||(l.ctrlKey&&u==122)||(l.ctrlKey&&u==90)||(l.ctrlKey&&u==118)||(l.ctrlKey&&u==86)||(l.shiftKey&&u==45)){if(f==6&&a.jqx.browser.webkit){o._handleSimpleKeyDown(w,u)}return false}}if((w.ctrlKey&&u==97)||(w.ctrlKey&&u==65)){return true}if(f==6&&h){var r=this._isSpecialKey(u);return r}}return h}}return x},GetSelectionInValue:function(h,g,f,e){var c=0;for(i=0;i<g.length;i++){if(i>=h){break}var d=g.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(b||(e&&g.substring(i,i+1)==f)){c++}}return c},GetSelectionLengthInValue:function(g,h,f,e){var c=0;for(i=0;i<f.length;i++){if(i>=g+h){break}var d=f.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(h>0&&i>=g&&b||(i>=g&&f[i].toString()==e)){c++}}return c},GetInsertTypeByPositionInValue:function(e,g,h,f){var c="before";var b=this.GetValueString(h,g,f);var d=this.GetDigitsToSeparator(0,b,g);if(e>d){c="after"}return c},RemoveRange:function(f,e,q,g,w,b){var h=this.digits;var r=f;var x=e;var c=0;var s=this.decimal;var B=this._selection();var q=this.numberInput.val();var g=this.decimalSeparator;var l=g!="";if(x==0&&this.ValueString.length<this.decimalPossibleChars-1){return c}var y=this.GetSeparatorPositionInText(g,q);if(!w){y=this.GetSeparatorPositionInText(g,q)}if(y<0&&!l&&q.length>1){y=q.length}if(y==-1){y=q.length}var d=l?1:0;if(e<2&&b==true){var A=this.ValueString.length-this.decimalDigits-d;if((A)==h&&f+e<y){x++}}var n="";for(var v=0;v<q.length;v++){if(v<r||v>=r+x){n+=q.substring(v,v+1);continue}else{var u=q.substring(v,v+1);if(u==g){n+=g;continue}else{var u=q.substring(v,v+1);if(v>y){n+="0";continue}}}var u=q.substring(v,v+1);var t=(!isNaN(parseInt(u)));if(t){c++}}if(n.length==0){n="0"}if(w){this.numberInput.val(n)}else{this.ValueString=n}var o=n.substring(0,1);if(o==g&&isNaN(parseInt(o))){var z="0"+n;n=z}this.ValueString=this.GetValueString(n,g,l);this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(r);return c},InsertDigit:function(v,B){if(typeof this.digits!="number"){this.digits=parseInt(this.digits)}if(typeof this.decimalDigits!="number"){this.decimalDigits=parseInt(this.decimalDigits)}var l=1+this.digits;var C=this._selection();var q=this.getvalue("negative");var d=false;if(C.start==0&&this.symbol!=""&&this.symbolPosition=="left"){this._setSelectionStart(C.start+1);C=this._selection();d=true}if((q&&d)||(q&&!d&&C.start==0)){this._setSelectionStart(C.start+1);C=this._selection()}var z=this.numberInput.val().substring(C.start,C.start+1);var s=this.numberInput.val();var g=this.decimalSeparator;var n=g!=""&&this.decimalDigits>0;if(z==this.symbol&&this.symbolPosition=="right"){if(this.decimalDigits==0){this.ValueString=this.GetValueString(s,g,n);if(this.ValueString.length>=l){return}}else{return}}this.ValueString=this.GetValueString(s,g,n);var y=this.ValueString;if(this.decimalDigits>0&&B>=y.length){B=y.length-1}var t="";if(B<y.length){t=y.substring(B,B+1)}var h=false;var A=false;var e=this.GetInsertTypeByPositionInValue(B,g,s,n);if(e=="after"){h=true}var b=n?1:0;if(t!=g&&(this.ValueString.length-this.decimalDigits-b)>=l-1){h=true}var u=false;var w=n?1:0;if(!h&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+w){return}if(h&&t!=g){if(u){B++}var r=y.substring(0,B);if(r.length==y.length){if(this.ValueString.length>=this.digits+this.decimalDigits+w){return}}var x=v;var c="";if(B+1<y.length){c=y.substring(B+1)}var o=r+x+c;this.ValueString=o}else{var r=y.substring(0,B);var x=v;var c=y.substring(B);var o=r+x+c;if(y.substring(0,1)=="0"){o=x+y.substring(1);if(t==g){this._setSelectionStart(C.start-1);C=this._selection()}}this.ValueString=o}if(q){this.decimal=-this.ValueString}else{this.decimal=this.ValueString}this._parseDecimalInSimpleMode();var f=C.start;f+=1;this._setSelectionStart(f);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},GetStringToSeparator:function(h,f,e){var d="";var b=f;var g=this.GetSeparatorPositionInText(f,h);var c=h.subString(0,g);d=this.GetValueString(c,f,e);return d},GetSeparatorPositionInText:function(c,d){var b=-1;for(i=0;i<d.length;i++){if(d.substring(i,i+1)==c){b=i;break}}return b},GetValueString:function(h,g,f){var d="";for(var c=0;c<h.length;c++){var e=h.substring(c,c+1);var b=(!isNaN(parseInt(e)));if(b){d+=e}if(e==g){d+=g}}return d},Backspace:function(){var d=this._selection();var e=this._selection();var f=this.numberInput.val();if(d.start==0&&d.length==0){return}this.isBackSpace=true;var c=f.substring[d.start,d.start+1];var b=(!isNaN(parseInt(c)));if(d.start>0&&d.length==0){this._setSelectionStart(d.start-1);var d=this._selection()}this.Delete();this._setSelectionStart(e.start-1);this.isBackSpace=false},Delete:function(c){var e=this._selection();var g=this.numberInput.val();var f=e.start;var h=e.length;h=Math.max(h,1);this.ValueString=this.GetValueString(g,this.decimalSeparator,this.decimalSeparator!="");this.RemoveRange(e.start,h,this.ValueString,".",false);var d=this.ValueString.substring(0,1);var b=(!isNaN(parseInt(d)));if(!b){this.ValueString="0"+this.ValueString}this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(f);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},insertsimple:function(d){var l=this._selection();var n=this.numberInput.val();if(l.start==n.length&&this.decimalDigits>0){return}var b=this.decimal;var g=this.decimalSeparator;this.ValueString=this.GetValueString(n,g,g!="");var h=this.GetSelectionInValue(l.start,n,g,g!="");var e=this.GetSelectionLengthInValue(l.start,l.length,n,g);var f=this.GetDigitsToSeparator(0,this.ValueString,g);var c=false;if(this.decimalDigits>0&&h>=this.ValueString.length){h--}this.RemoveRange(l.start,e,this.ValueString,g,false,true);this.InsertDigit(d,h,l)},GetDigitsToSeparator:function(c,b,d){if(d==undefined){d="."}if(b.indexOf(d)<0){return b.length}for(i=0;i<b.length;i++){if(b.substring(i,i+1)==d){c=i;break}}return c},_handleSimpleKeyDown:function(h,t){var s=this._selection();if(s.start>=0&&s.start<this.items.length){var c=String.fromCharCode(t)}if(this.rtl&&t==37){var b=h.shiftKey;var d=b?1:0;if(b){this._setSelection(s.start+1-d,s.start+s.length+1)}else{this._setSelection(s.start+1-d,s.start+1)}return false}else{if(this.rtl&&t==39){var b=h.shiftKey;var d=b?1:0;if(b){this._setSelection(s.start-1,s.length+d+s.start-1)}else{this._setSelection(s.start-1,s.start-1)}return false}}if(t==8){this.Backspace();return false}if(t==190||t==110){var g=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());this._setSelectionStart(g+1);return false}if(t==188){var r=this.numberInput.val();for(f=s.start;f<r.length;f++){if(r[f]==this.groupSeparator){this._setSelectionStart(1+f);break}}return false}if((h.ctrlKey&&t==99)||(h.ctrlKey&&t==67)){var s=this._selection();var u="";var q=this.numberInput.val();if(s.start>0||s.length>0){for(var f=s.start;f<s.end;f++){u+=q.substring(f,f+1)}}if(a.jqx.browser.msie){window.clipboardData.setData("Text",u)}this.savedText=u;return false}if((h.ctrlKey&&t==122)||(h.ctrlKey&&t==90)){return false}if((h.ctrlKey&&t==118)||(h.ctrlKey&&t==86)||(h.shiftKey&&t==45)){if(this.savedText!=null&&this.savedText.length>0){for(var f=0;f<this.savedText.length;f++){var n=parseInt(this.savedText.substring(f,f+1));if(!isNaN(n)){this.insertsimple(n)}}}return false}var c=String.fromCharCode(t);var n=parseInt(c);if(t>=96&&t<=105){n=t-96;t=t-48}if(!isNaN(n)){var l=this;this.insertsimple(n);return false}if(t==46){this.Delete();return false}if(t==38){this.spinUp();return false}else{if(t==40){this.spinDown();return false}}var o=this._isSpecialKey(t);if(!a.jqx.browser.mozilla){return true}return o},_getEditRange:function(){var c=0;var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c=i;break}}for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit){b=i;break}}return{start:c,end:b}},_getVisibleItems:function(){var b=new Array();var c=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.toString().length>0){b[c]=this.items[i];c++}}return b},_hasEmptyVisibleItems:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character==this.promptChar){return true}}return false},_getFirstVisibleNonEmptyIndex:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){return i}}},_handleMouse:function(f,b){var d=this._selection();if(d.length<=1){var c=this._getFirstVisibleNonEmptyIndex();if(d.start<c){this._setSelectionStart(c)}}},_insertKey:function(l){this.numberInput[0].focus();var d=String.fromCharCode(l);var e=parseInt(d);if(isNaN(e)){return}var q=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.length==0){q++}}var g=this._selection();var b=this;if(g.start>=0&&g.start<=this.items.length){var f=false;var h=this._getFirstVisibleNonEmptyIndex();if(g.start<h&&g.length==0){if(!isNaN(d)||d==" "){this._setSelectionStart(h);g=this._selection()}}var c=this._getFirstEditableItemIndex();var o=this._getLastEditableItemIndex();var n=this._getVisibleItems();a.each(n,function(x,B){if(g.start>x&&x!=n.length-1){return}var E=n[x];if(x>o){E=n[o]}if(isNaN(d)||d==" "){return}if(!E.canEdit){return}var A=b._getSeparatorPosition();if(b._match(d,E.regex)){if(!f&&g.length>0){for(j=g.start+q;j<g.end+q;j++){if(b.items[j].canEdit){if(j>A){b.items[j].character="0"}else{b.items[j].character=b.promptChar}}}var D=b._getString();f=true}var A=b._getSeparatorPosition();var y=b._hasEmptyVisibleItems();if(g.start<=A&&y){var v=x;if(b.decimalSeparatorPosition==-1&&g.start==A){v=x+1}var u="";for(p=0;p<v;p++){if(n[p].canEdit&&n[p].character!=b.promptChar){u+=n[p].character}}u+=d;var w=b.decimal<1?1:0;if(g.start==A&&b.decimalSeparatorPosition!=-1){u+=b.decimalSeparator;w=0}for(p=v+w;p<n.length;p++){if(n[p].character==b.decimalSeparator&&n[p].isSeparator){u+=n[p].character}else{if(n[p].canEdit&&n[p].character!=b.promptChar){u+=n[p].character}}}if(b.decimalSeparator!="."){u=b._parseDecimalValue(u)}u=parseFloat(u).toString();u=new Number(u);u=u.toFixed(b.decimalDigits);if(b.decimalSeparator!="."){u=b._parseDecimalValueToEditorValue(u)}b.setvalue("decimal",u);var D=b._getString();if(g.end<A){b._setSelectionStart(g.end+w)}else{b._setSelectionStart(g.end)}if(g.length>=1){b._setSelectionStart(g.end)}if(g.length==b.numberInput.val().length){var r=b._moveCaretToDecimalSeparator();var C=b.decimalSeparatorPosition>=0?1:0;b._setSelectionStart(r-C)}}else{if(g.start<A||g.start>A){if(b.numberInput.val().length==g.start&&b.decimalSeparatorPosition!=-1){return false}else{if(b.numberInput.val().length==g.start&&b.decimalSeparatorPosition==-1&&!y){return false}}var u="";var s=false;for(p=0;p<x;p++){if(n[p].canEdit&&n[p].character!=b.promptChar){u+=n[p].character}if(n[p].character==b.decimalSeparator&&n[p].isSeparator){u+=n[p].character;s=true}}u+=d;var w=b.decimal<1?1:0;if(!s&&g.start==A-1){u+=b.decimalSeparator;s=true}for(p=x+1;p<n.length;p++){if(!s&&n[p].character==b.decimalSeparator&&n[p].isSeparator){u+=n[p].character}else{if(n[p].canEdit&&n[p].character!=b.promptChar){u+=n[p].character}}}b.setvalue("decimal",u);var D=b._getString();if(b.decimalSeparatorPosition<0&&E==n[o]){b._setSelectionStart(x);return false}var z=D.indexOf(b.symbol);var t=!b.getvalue("negative")?0:1;if(z<=t){z=D.length}if(g.start<z){b._setSelectionStart(x+1)}else{b._setSelectionStart(x)}if(g.length>=1){}if(g.length==b.numberInput.val().length){var r=b._moveCaretToDecimalSeparator();b._setSelectionStart(r-1)}}}return false}})}},_handleKeyPress:function(h,d){var f=this._selection();var b=this;if((h.ctrlKey&&d==97)||(h.ctrlKey&&d==65)){return true}if(d==8){if(f.start>0){b._setSelectionStart(f.start)}return false}if(d==46){if(f.start<this.items.length){b._setSelectionStart(f.start)}return false}if(d==45||d==173||d==109||d==189){var c=this.getvalue("negative");if(c==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}}if(a.jqx.browser.msie){this._insertKey(d)}var g=this._isSpecialKey(d);return g},_deleteSelectedText:function(){var d=this._selection();var c="";var f=this._getSeparatorPosition();var b=this._getVisibleItems();var e=this._getHiddenPrefixCount();if(this.numberInput.val().length==d.start&&d.length==0){this._setSelection(d.start,d.start+1);d=this._selection()}for(i=0;i<d.start;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.start;i<d.end;i++){if(i>f&&this.decimalSeparatorPosition!=-1){if(b[i].canEdit&&b[i].character!=this.promptChar){c+="0"}}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.end;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}this.setvalue("decimal",c);return d.length>0},_restoreInitialState:function(){var b=parseInt(this.decimalDigits);if(b>0){b+=2}for(k=this.items.length-1;k>this.items.length-1-b;k--){if(this.items[k].canEdit&&this.items[k].character==this.promptChar){this.items[k].character=0}}},clear:function(){this.setDecimal(0)},clearDecimal:function(){if(this.inputMode=="textbox"){this.numberInput.val();return}for(var b=0;b<this.items.length;b++){if(this.items[b].canEdit){this.items[b].character=this.promptChar}}this._restoreInitialState()},_saveSelectedText:function(){var c=this._selection();var d="";var b=this._getVisibleItems();if(c.start>0||c.length>0){for(i=c.start;i<c.end;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){d+=b[i].character}else{if(b[i].isSeparator){d+=b[i].character}}}}if(a.jqx.browser.msie){window.clipboardData.setData("Text",d)}return d},_pasteSelectedText:function(){var f=this._selection();var h="";var c=0;this.selectedText=a.data(document.body,"jqxSelection");if(window.clipboardData){var d=window.clipboardData.getData("Text");if(d!=this.selectedText&&d.length>0){this.selectedText=window.clipboardData.getData("Text");if(this.selectedText==null||this.selectedText==undefined){return}}}var e=f.start;var n=this._getVisibleItems();if(this.selectedText!=null){for(var l=0;l<this.selectedText.length;l++){var b=parseInt(this.selectedText[l]);if(!isNaN(b)){var g=48+b;this._insertKey(g)}}}},_getHiddenPrefixCount:function(){var b=0;if(!this.negative){b++}if(this.symbolPosition=="left"){for(i=0;i<this.symbol.length;i++){if(this.symbol.substring(i,i+1)==""){b++}}}return b},_getEditableItem:function(){var b=this._selection();for(i=0;i<this.items.length;i++){if(i<b.start){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return this.items[i]}}}return null},_getEditableItems:function(){var c=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c[b]=this.items[i];b++}}return c},_getValidSelectionStart:function(b){for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return i}}return -1},_getEditableItemIndex:function(c){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getVisibleItems();var d=e.start;var g=-1;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f}}if(g==-1&&e.length>0){d=e.end;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f;break}}}return g},_getEditableItemByIndex:function(b){for(k=0;k<this.items.length;k++){if(k>b){if(this.items[k].canEdit&&this.items[k].character!=this.promptChar){return k}}}return -1},_getFirstEditableItemIndex:function(){var b=this._getVisibleItems();for(m=0;m<b.length;m++){if(b[m].character!=this.promptChar&&b[m].canEdit&&b[m].character!="0"){return m}}return -1},_getLastEditableItemIndex:function(){var b=this._getVisibleItems();for(m=b.length-1;m>=0;m--){if(b[m].character!=this.promptChar&&b[m].canEdit){return m}}return -1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--){if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator){if(!this.negative){this._setSelectionStart(i);return i}else{this._setSelectionStart(i+1);return i}break}}return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getEditableItemIndex()-f;if(b>=0){if(e.length==0&&b!=-1){this._setSelection(b,b+1)}var g=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(g){e=this._selection()}var d=this._deleteSelectedText();if(e.length<1||g){this._setSelectionStart(e.start)}else{if(e.length>=1){this._setSelectionStart(e.end)}}if(e.length==this.numberInput.val().length){var c=this._moveCaretToDecimalSeparator();this._setSelectionStart(c-1)}}else{this._setSelectionStart(e.start)}},_handleKeyDown:function(f,q){var o=this._selection();if(this.rtl&&q==37){var b=f.shiftKey;var d=b?1:0;if(b){this._setSelection(o.start+1-d,o.start+o.length+1)}else{this._setSelection(o.start+1-d,o.start+1)}return false}else{if(this.rtl&&q==39){var b=f.shiftKey;var d=b?1:0;if(b){this._setSelection(o.start-1,o.length+d+o.start-1)}else{this._setSelection(o.start-1,o.start-1)}return false}}if((f.ctrlKey&&q==97)||(f.ctrlKey&&q==65)){return true}if((f.ctrlKey&&q==120)||(f.ctrlKey&&q==88)){this.selectedText=this._saveSelectedText(f);a.data(document.body,"jqxSelection",this.selectedText);this._handleBackspace();return false}if((f.ctrlKey&&q==99)||(f.ctrlKey&&q==67)){this.selectedText=this._saveSelectedText(f);a.data(document.body,"jqxSelection",this.selectedText);return false}if((f.ctrlKey&&q==122)||(f.ctrlKey&&q==90)){return false}if((f.ctrlKey&&q==118)||(f.ctrlKey&&q==86)||(f.shiftKey&&q==45)){this._pasteSelectedText();return false}if(o.start>=0&&o.start<this.items.length){var c=String.fromCharCode(q);var s=this.items[o.start]}if(q==8){this._handleBackspace();return false}if(q==190||q==110){this._moveCaretToDecimalSeparator();return false}if(q==188){var n=this.numberInput.val();for(i=o.start;i<n.length;i++){if(n[i]==this.groupSeparator){this._setSelectionStart(1+i);break}}return false}if(a.jqx.browser.msie==null){var c=String.fromCharCode(q);var h=parseInt(c);if(q>=96&&q<=105){h=q-96;q=q-48}if(!isNaN(h)){var g=this;g._insertKey(q);return false}}if(q==46){var r=this._getVisibleItems();if(o.start<r.length){var d=r[o.start].canEdit==false?2:1;if(o.length==0){this._setSelection(o.start+d,o.start+d+o.length)}this._handleBackspace();if(new Number(this.decimal)<1||o.start>this._getSeparatorPosition()){this._setSelectionStart(o.end+d)}else{if(o.start+1<this.decimalSeparatorPosition){this._setSelectionStart(o.end+d)}}}return false}if(q==38){this.spinUp();return false}else{if(q==40){this.spinDown();return false}}var l=this._isSpecialKey(q);if(!a.jqx.browser.mozilla){return true}return l},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=27&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.numberInput[0]){var f=this.numberInput[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.numberInput[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_setSelection:function(e,b){if(this._disableSetSelection==true){return}try{if("selectionStart" in this.numberInput[0]){this.numberInput[0].focus();this.numberInput[0].setSelectionRange(e,b)}else{var c=this.numberInput[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",e);c.select()}}catch(d){}},_setSelectionStart:function(b){this._setSelection(b,b);a.data(this.numberInput,"selectionstart",b)},_render:function(f){var c=parseInt(this.host.css("border-left-width"));var h=parseInt(this.host.css("border-left-width"));var g=parseInt(this.host.css("border-left-width"));var d=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px");this.numberInput.css("padding-bottom","0px");this.host.height(this.height);this.host.width(this.width);var e=this.host.width();var n=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0});this.numberInput.css("text-align",this.textAlign);var o=this.numberInput.css("font-size");this.numberInput.css("height",parseInt(o)+4+"px");this.numberInput.css("width",e-2);var l=n-2*g-parseInt(o)-2;if(isNaN(l)){l=0}if(l<0){l=0}if(this.spinButtons&&this.spincontainer){e-=parseInt(this.spinButtonsWidth-2);this.spincontainer.width(this.spinButtonsWidth);this.upbutton.width(this.spinButtonsWidth+2);this.downbutton.width(this.spinButtonsWidth+2);this.upbutton.height("50%");this.downbutton.height("50%");this.spincontainer.width(this.spinButtonsWidth);this._upArrow.height("100%");this._downArrow.height("100%");this.numberInput.css("width",e-6);this.numberInput.css("margin-right","2px")}var b=l/2;if(a.jqx.browser.msie&&a.jqx.browser.version<8){b=l/4}this.numberInput.css("padding-left","0px");this.numberInput.css("padding-right","0px");this.numberInput.css("padding-top",Math.round(b)+"px");this.numberInput.css("padding-bottom",Math.round(b)+"px");if(f==undefined||f==true){this.numberInput.val(this._getString());if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode()}}},destroy:function(){this._removeHandlers();this.host.remove()},inputValue:function(b){if(b===undefined){return this._value()}this.propertyChangedHandler(this,"value",this._value,b);this._refreshValue();return this},_value:function(){var b=this.numberInput.val();return b},val:function(b){if(b!=undefined&&typeof b!="object"){this.setDecimal(b)}else{return this.getDecimal()}},getDecimal:function(){if(this.inputMode=="simple"){this._parseDecimalInSimpleMode(false)}var b=this.getvalue("negative");if(b&&this.decimal>0){return -parseFloat(this.decimal)}return parseFloat(this.decimal)},setDecimal:function(d){var b=d;if(this.decimalSeparator!="."){d=d.toString();var f=d.indexOf(".");if(f!=-1){var c=d.substring(0,f);var e=d.substring(f+1);d=c+this.decimalSeparator+e}if(d<0){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._setDecimal(d)}else{if(d<0){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._setDecimal(Math.abs(d))}if(b==null){this.numberInput.val("")}},_setDecimal:function(q){if(q==null||q==undefined){q=0}if(q.toString().indexOf("e")!=-1){q=0}this.clearDecimal();var r=q.toString();var s="";var b="";var c=true;if(r.length==0){r="0"}for(var f=0;f<r.length;f++){if(r.substring(f,f+1)==this.decimalSeparator){c=false;continue}if(c){s+=r.substring(f,f+1)}else{b+=r.substring(f,f+1)}}if(s.length>0){s=parseFloat(s).toString()}var n=this.digits;if(n<s.length){s=s.substr(0,n)}var e=0;var o=this._getSeparatorPosition();var l=this._getHiddenPrefixCount();o=o+l;for(var f=o;f>=0;f--){if(f<this.items.length&&this.items[f].canEdit){if(e<s.length){this.items[f].character=s.substring(s.length-e-1,s.length-e);e++}}}e=0;for(var f=o;f<this.items.length;f++){if(this.items[f].canEdit){if(e<b.length){this.items[f].character=b.substring(e,e+1);e++}}}this._refreshValue();if(this.decimalSeparator=="."){this.ValueString=new Number(q).toFixed(this.decimalDigits)}else{var h=q.toString().indexOf(this.decimalSeparator);if(h>0){var g=q.toString().substring(0,h);var d=g+"."+q.toString().substring(h+1);this.ValueString=new Number(d).toFixed(this.decimalDigits)}else{this.ValueString=new Number(q).toFixed(this.decimalDigits)}}if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode();this._raiseEvent(1,this.ValueString)}var q=this.val();if(q<this.min||q>this.max){this.host.addClass("jqx-input-invalid")}else{this.host.removeClass("jqx-input-invalid")}},_getSeparatorPosition:function(){var b=this._getHiddenPrefixCount();if(this.decimalSeparatorPosition>0){return this.decimalSeparatorPosition-b}return this.items.length-b},_setTheme:function(){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));if(this.spinButtons){this.downbutton.removeClass();this.upbutton.removeClass();this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this._upArrow.removeClass();this._downArrow.removeClass();this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}this.numberInput.removeClass();this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(c,d,g,f){if(d=="digits"||d=="groupSize"||d=="decimalDigits"){if(f<0){throw new Exception(this.invalidArgumentExceptions[0])}}if(d==="theme"){a.jqx.utilities.setTheme(g,f,c.host)}if(d=="digits"){if(f!=g){c.digits=parseInt(f)}}if(d=="min"||d=="max"){a.jqx.aria(c,"aria-value"+d,f.toString());c._refreshValue()}if(d=="decimalDigits"){if(f!=g){c.decimalDigits=parseInt(f)}}if(d=="decimalSeparator"||d=="digits"||d=="symbol"||d=="symbolPosition"||d=="groupSize"||d=="groupSeparator"||d=="decimalDigits"||d=="negativeSymbol"){var b=c.decimal;if(d=="decimalSeparator"&&f==""){f=" "}if(g!=f){var e=c._selection();c.items=new Array();c._initializeLiterals();c.value=c._getString();c._refreshValue();c._setSelection(e.start,e.end);c._setDecimal(b)}}if(d=="rtl"){if(c.rtl){if(c.spincontainer){c.spincontainer.css("float","right");c.spincontainer.css("border-right-width","1px")}c.numberInput.css("float","right")}else{if(c.spincontainer){c.spincontainer.css("float","right");c.spincontainer.css("border-right-width","1px")}c.numberInput.css("float","left")}}if(d=="spinButtons"){if(c.spincontainer){if(!f){c.spincontainer.css("display","none")}else{c.spincontainer.css("display","block")}c._render()}else{c._spinButtons()}}if(d=="negative"&&c.inputMode=="advanced"){var e=c._selection();var h=0;if(f){c.items[0].character=c.negativeSymbol[0];h=1}else{c.items[0].character="";h=-1}c._refreshValue();if(c.isInitialized){c._setSelection(e.start+h,e.end+h)}}if(d=="decimal"){c.setDecimal(f)}if(d==="value"){c.value=f;c.setDecimal(f);c._raiseEvent(1,f)}if(d=="textAlign"){c.textAlign=f;c._render()}if(d=="disabled"){c.numberInput.attr("disabled",f);if(c.disabled){c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"))}else{c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled"))}a.jqx.aria(c,"aria-disabled",f.toString())}if(d=="readOnly"){c.readOnly=f}if(d=="promptChar"){for(i=0;i<c.items.length;i++){if(c.items[i].character==c.promptChar){c.items[i].character=f}}c.promptChar=f}if(d=="width"){c.width=f;c._render()}else{if(d=="height"){c.height=f;c._render()}}},_value:function(){var b=this.value;return b},_refreshValue:function(){var g=this.value;var b=0;this.value=this._getString();g=this.value;var f="";for(var c=0;c<this.items.length;c++){var e=this.items[c];if(e.canEdit&&e.character!=this.promptChar){f+=e.character}if(c==this.decimalSeparatorPosition){f+="."}}this.decimal=f;var d=false;if(this.oldValue!==g){this.oldValue=g;this._raiseEvent(0,g);d=true}if(this.inputMode!="simple"){this.numberInput.val(g);if(d){this._raiseEvent(1,g)}}if(g==null){this.numberInput.val("")}}})})(jQuery);
/*
jQWidgets v2.8.0 (2013-Mar-22)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("myWidget","",{});a.extend(a.jqx._myWidget.prototype,{var1:5,var2:10,foo:function(b){this.var1*=b},bar:function(){alert(this.var1)},createInstance:function(b){}});a.jqx.jqxWidget("jqxScrollBar","",{});a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.thumbSize=0;this.thumbStep="auto";this.roundedCorners="all";this.showButtons=true;this.disabled=false;this.touchMode="auto";this.touchModeStyle="auto";this.thumbTouchSize=8;this._triggervaluechanged=true;this.rtl=false;this.areaDownCapture=false;this.areaUpCapture=false;this._initialLayout=false},createInstance:function(b){this.render()},render:function(){this._mouseup=new Date();var b=this;var c="<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(b.WinJS){MSApp.execUnsafeLocalFunction(function(){WinJS.Utilities.setInnerHTMLUnsafe(this.element,c)})}else{this.element.innerHTML=c}if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.thumbCapture=false;this.btnUp=this.host.find("#jqxScrollBtnUp");this.btnDown=this.host.find("#jqxScrollBtnDown");this.btnThumb=this.host.find("#jqxScrollThumb");this.areaUp=this.host.find("#jqxScrollAreaUp");this.arrowUp=a("<div></div>");this.arrowUp.appendTo(this.btnUp);this.arrowDown=a("<div></div>");this.arrowDown.appendTo(this.btnDown);this.areaDown=this.host.find("#jqxScrollAreaDown");this.scrollWrap=this.host.find("#jqxScrollWrap");this.scrollOuterWrap=this.host.find("#jqxScrollOuterWrap");this.btnUp[0].id="jqxScrollBtnUp"+this.element.id;this.btnDown[0].id="jqxScrollBtnDown"+this.element.id;this.btnThumb[0].id="jqxScrollThumb"+this.element.id;this.areaUp[0].id="jqxScrollAreaUp"+this.element.id;this.areaDown[0].id="jqxScrollAreaDown"+this.element.id;this.scrollWrap[0].id="jqxScrollWrap"+this.element.id;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+this.element.id;if(!this.host.jqxRepeatButton){throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");return}this.btnUp.jqxRepeatButton({overrideTheme:true,disabled:this.disabled});this.btnDown.jqxRepeatButton({overrideTheme:true,disabled:this.disabled});this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({overrideTheme:true});this.areaDown.jqxRepeatButton({overrideTheme:true});this.btnThumb.jqxButton({overrideTheme:true,disabled:this.disabled});this.propertyChangeMap.value=function(d,f,e,g){if(!(isNaN(g))){if(e!=g){d.setPosition(parseFloat(g),true)}}};this.propertyChangeMap.width=function(d,f,e,g){if(d.width!=undefined&&parseInt(d.width)>0){d.host.width(parseInt(d.width));d._arrange()}};this.propertyChangeMap.height=function(d,f,e,g){if(d.height!=undefined&&parseInt(d.height)>0){d.host.height(parseInt(d.height));d._arrange()}};this.propertyChangeMap.theme=function(d,f,e,g){d.setTheme()};this.propertyChangeMap.max=function(d,f,e,g){if(!(isNaN(g))){if(e!=g){d.max=parseInt(g);if(d.min>d.max){d.max=d.min+1}d._arrange();d.setPosition(d.value)}}};this.propertyChangeMap.min=function(d,f,e,g){if(!(isNaN(g))){if(e!=g){d.min=parseInt(g);if(d.min>d.max){d.max=d.min+1}d._arrange();d.setPosition(d.value)}}};this.propertyChangeMap.disabled=function(d,f,e,g){if(e!=g){if(g){d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled"))}else{d.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled"))}d.btnUp.jqxRepeatButton("disabled",d.disabled);d.btnDown.jqxRepeatButton("disabled",d.disabled);d.btnThumb.jqxButton("disabled",d.disabled)}};this.propertyChangeMap.touchMode=function(d,f,e,g){if(e!=g){d._updateTouchBehavior()}};this.buttonUpCapture=false;this.buttonDownCapture=false;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},_updateTouchBehavior:function(){this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){this.isTouchDevice=true;a.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else{if(this.touchMode==false){this.isTouchDevice=false}}},_addHandlers:function(){var d=this;if(d.isTouchDevice){this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(i){var j=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var k=d.toThemeProperty("jqx-fill-state-pressed");d.btnThumb.removeClass(j);d.btnThumb.removeClass(k);if(!d.disabled){d.handlemouseup(d,i)}});this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(i){if(!d.disabled){if(d.touchMode==true){i.clientX=i.originalEvent.clientX;i.clientY=i.originalEvent.clientY}else{var j=i;if(j.originalEvent.touches&&j.originalEvent.touches.length){i.clientX=j.originalEvent.touches[0].clientX;i.clientY=j.originalEvent.touches[0].clientY}else{i.clientX=i.originalEvent.clientX;i.clientY=i.originalEvent.clientY}}d.handlemousedown(i)}});a.jqx.mobile.touchScroll(this.element,d.max,function(o,n,j,i,k){if(d.host.css("visibility")=="visible"){if(d.touchMode==true){k.clientX=k.originalEvent.clientX;k.clientY=k.originalEvent.clientY}else{var m=k;if(m.originalEvent.touches&&m.originalEvent.touches.length){k.clientX=m.originalEvent.touches[0].clientX;k.clientY=m.originalEvent.touches[0].clientY}else{k.clientX=k.originalEvent.clientX;k.clientY=k.originalEvent.clientY}}var l=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.btnThumb.addClass(l);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.handlemousemove(k)}},d.element.id)}this.addHandler(this.btnUp,"click",function(j){var i=d.step;if(d.rtl&&!d.vertical){i=-d.step}if(d.buttonUpCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value-i)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value-i)}}});this.addHandler(this.btnDown,"click",function(j){var i=d.step;if(d.rtl&&!d.vertical){i=-d.step}if(d.buttonDownCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value+i)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value+i)}}});if(!this.isTouchDevice){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var h=null;if(window.parent&&document.referrer){h=document.referrer}if(h&&h.indexOf(document.location.host)!=-1){var f=function(i){if(!d.disabled){d.handlemouseup(d,i)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}}}catch(e){}this.addHandler(this.btnDown,"mouseup",function(j){if(!d.btnDownInstance.base.disabled&&d.buttonDownCapture){d.buttonDownCapture=false;d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d._removeArrowClasses("pressed","down");d.handlemouseup(d,j);var i=d.step;if(d.rtl&&!d.vertical){i=-d.step}d.setPosition(d.value+i);return false}});this.addHandler(this.btnUp,"mouseup",function(j){if(!d.btnUpInstance.base.disabled&&d.buttonUpCapture){d.buttonUpCapture=false;d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d._removeArrowClasses("pressed","up");d.handlemouseup(d,j);var i=d.step;if(d.rtl&&!d.vertical){i=-d.step}d.setPosition(d.value-i);return false}});this.addHandler(this.btnDown,"mousedown",function(i){if(!d.btnDownInstance.base.disabled){d.buttonDownCapture=true;d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d._addArrowClasses("pressed","down");return false}});this.addHandler(this.btnUp,"mousedown",function(i){if(!d.btnUpInstance.base.disabled){d.buttonUpCapture=true;d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d._addArrowClasses("pressed","up");return false}})}var c="click";if(this.isTouchDevice){c=a.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.areaUp,c,function(j){if(!d.disabled){var i=d.largestep;if(d.rtl&&!d.vertical){i=-d.largestep}d.setPosition(d.value-i);return false}});this.addHandler(this.areaDown,c,function(j){if(!d.disabled){var i=d.largestep;if(d.rtl&&!d.vertical){i=-d.largestep}d.setPosition(d.value+i);return false}});this.addHandler(this.areaUp,"mousedown",function(i){if(!d.disabled){d.areaUpCapture=true;return false}});this.addHandler(this.areaDown,"mousedown",function(i){if(!d.disabled){d.areaDownCapture=true;return false}});this.addHandler(this.btnThumb,"mousedown",function(i){if(!d.disabled){d.handlemousedown(i)}return false});this.addHandler(this.btnThumb,"dragstart",function(i){return false});this.addHandler(a(document),"mouseup."+this.element.id,function(i){if(!d.disabled){d.handlemouseup(d,i)}});if(!this.isTouchDevice){var g=function(i){if(!d.disabled){d.handlemousemove(i)}};this.addHandler(a(document),"mousemove."+this.element.id,g);this.addHandler(a(document),"mouseleave."+this.element.id,function(i){if(!d.disabled){d.handlemouseleave(i)}});this.addHandler(a(document),"mouseenter."+this.element.id,function(i){if(!d.disabled){d.handlemouseenter(i)}});if(!d.disabled){this.addHandler(this.btnUp,"mouseenter",function(){if(!d.disabled&&!d.btnUpInstance.base.disabled&&d.touchMode!=true){d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-hover"));d._addArrowClasses("hover","up")}});this.addHandler(this.btnUp,"mouseleave",function(){if(!d.disabled&&!d.btnUpInstance.base.disabled&&d.touchMode!=true){d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-hover"));d._removeArrowClasses("hover","up")}});var b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!d.vertical){b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.addHandler(this.btnThumb,"mouseenter",function(){if(!d.disabled&&d.touchMode!=true){d.btnThumb.addClass(b);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnThumb,"mouseleave",function(){if(!d.disabled&&d.touchMode!=true){d.btnThumb.removeClass(b);d.btnThumb.removeClass(d.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnDown,"mouseenter",function(){if(!d.disabled&&!d.btnDownInstance.base.disabled&&d.touchMode!=true){d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-hover"));d._addArrowClasses("hover","down")}});this.addHandler(this.btnDown,"mouseleave",function(){if(!d.disabled&&!d.btnDownInstance.base.disabled&&d.touchMode!=true){d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-hover"));d._removeArrowClasses("hover","down")}})}}},destroy:function(){var b=this.btnUp;var f=this.btnDown;var d=this.btnThumb;var c=this.scrollWrap;var g=this.areaUp;var e=this.areaDown;e.removeClass();g.removeClass();f.removeClass();b.removeClass();d.removeClass();b.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");g.jqxRepeatButton("destroy");e.jqxRepeatButton("destroy");d.jqxButton("destroy");this._removeHandlers();this.host.removeClass();this.host.removeData();this.host.remove();this.host=null;this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(a(document),"mouseup."+this.element.id);this.removeHandler(a(document),"mousemove."+this.element.id);this.removeHandler(a(document),"mouseleave."+this.element.id);this.removeHandler(a(document),"mouseenter."+this.element.id);var b=this},_addArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+c))}}},_removeArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+c))}}},setTheme:function(){var o=this.btnUp;var m=this.btnDown;var p=this.btnThumb;var e=this.scrollWrap;var g=this.areaUp;var h=this.areaDown;var f=this.arrowUp;var i=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var k=this.toThemeProperty("jqx-reset");this.areaDown[0].className=k;this.areaUp[0].className=k;var d=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.element.className=d;m[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");o[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var q="";if(this.vertical){f[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-up");i[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-down");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")}else{f[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-left");i[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-right");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")}q+=" "+this.toThemeProperty("jqx-fill-state-normal");p[0].className=q;if(this.disabled){e.addClass(this.toThemeProperty("jqx-fill-state-disabled"));e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.roundedCorners=="all"){if(this.vertical){var j=a.jqx.cssroundedcorners("top");j=this.toThemeProperty(j);o.addClass(j);var c=a.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c);m.addClass(c)}else{var n=a.jqx.cssroundedcorners("left");n=this.toThemeProperty(n);o.addClass(n);var l=a.jqx.cssroundedcorners("right");l=this.toThemeProperty(l);m.addClass(l)}}else{var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);elBtnUp.addClass(b);elBtnDown.addClass(b)}var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);if(!p.hasClass(b)){p.addClass(b)}if(this.isTouchDevice&&this.touchModeStyle!=false){this.showButtons=false;p.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined||this.areaDownCapture==undefined||this.areaUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(c){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var b=this.btnThumb;if(b!=null){b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=c.clientX;this.dragStartY=c.clientY;this.dragStartValue=this.value},toggleHover:function(c,b){},refresh:function(){this._arrange()},_setElementPosition:function(c,b,d){if(!isNaN(b)){if(parseInt(c[0].style.left)!=parseInt(b)){c[0].style.left=b+"px"}}if(!isNaN(d)){if(parseInt(c[0].style.top)!=parseInt(d)){c[0].style.top=d+"px"}}},_setElementTopPosition:function(b,c){if(!isNaN(c)){b[0].style.top=c+"px"}},_setElementLeftPosition:function(c,b){if(!isNaN(b)){c[0].style.left=b+"px"}},handlemouseleave:function(e){var b=this.btnUp;var d=this.btnDown;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this._removeArrowClasses("pressed");if(this.thumbCapture!=true){return}var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f);c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonUpCapture){b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","up")}if(this.buttonDownCapture){d.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","down")}if(this.thumbCapture!=true){return}var c=this.btnThumb;if(this.vertical){c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(b){var i=this.btnUp;var e=this.btnDown;var d=0;if(e==null||i==null){return}if(i!=null&&e!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&b.which==d){e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","down");this.buttonDownCapture=false}else{if(this.buttonUpCapture&&b.which==d){i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","up");this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var k=this.btnThumb;if(b.which==d&&!this.isTouchDevice){this.thumbCapture=false;this._arrange();var j=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");k.removeClass(j);k.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(b.preventDefault!=undefined){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}var l=0;try{if(!this.vertical){l=b.clientX-this.dragStartX}else{l=b.clientY-this.dragStartY}var f=this._btnAndThumbSize;if(!this._btnAndThumbSize){f=(this.vertical)?i.height()+e.height()+k.height():i.width()+e.width()+k.width()}var g=(this.max-this.min)/(this.scrollBarSize-f);if(this.thumbStep=="auto"){l*=g}else{l*=g;if(Math.abs(this.dragStartValue+l-this.value)>=parseInt(this.thumbStep)){var c=Math.round(parseInt(l)/this.thumbStep)*this.thumbStep;if(this.rtl&&!this.vertical){this.setPosition(this.dragStartValue-c)}else{this.setPosition(this.dragStartValue+c)}return false}else{return false}}var c=l;if(this.rtl&&!this.vertical){c=-l}this.setPosition(this.dragStartValue+c)}catch(h){alert(h)}return false},handlemouseup:function(d,g){var c=false;if(this.thumbCapture){this.thumbCapture=false;var e=this.btnThumb;var h=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.removeClass(h);e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=true;this._mouseup=new Date()}this.areaDownCapture=this.areaUpCapture=false;if(this.buttonUpCapture||this.buttonDownCapture){var b=this.btnUp;var f=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));f.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed");c=true;this._mouseup=new Date()}if(c){if(g.preventDefault!=undefined){g.preventDefault()}if(g.originalEvent!=null){g.originalEvent.mouseHandled=true}if(g.stopPropagation!=undefined){g.stopPropagation()}}},setPosition:function(b,g){var d=this.element;if(b==undefined||b==NaN){b=this.min}if(b>=this.max){b=this.max}if(b<this.min){b=this.min}if(this.value!==b||g==true){if(b==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var f=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value;e.currentValue=b}this.value=b;this._positionelements();if(this._triggervaluechanged){this.host.trigger(e)}if(this.valuechanged){this.valuechanged({currentValue:this.value,previousvalue:f})}}return b},_getThumbSize:function(b){var d=this.max-this.min;var c=0;if(d>1){c=(b/(d+b)*b)}else{if(d==1){c=b}}if(this.thumbSize>0){c=this.thumbSize}if(c<this.thumbMinSize){c=this.thumbMinSize}return Math.min(c,b)},_positionelements:function(){var g=this.element;var n=this.areaUp;var e=this.areaDown;var h=this.btnUp;var f=this.btnDown;var o=this.btnThumb;var b=this.scrollWrap;var p=this._height?this._height:this.host.height();var c=this._width?this._width:this.host.width();var l=(!this.vertical)?p:c;if(!this.showButtons){l=0}var m=(!this.vertical)?c:p;this.scrollBarSize=m;var d=this._getThumbSize(m-2*l);d=Math.round(d);if(d<this.thumbMinSize){d=this.thumbMinSize}if(p==NaN||p<10){p=10}if(c==NaN||c<10){c=10}l+=2;this.btnSize=l;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=(this.vertical)?2*this.btnSize+o.outerHeight():2*this.btnSize+o.outerWidth();i=Math.round(i)}var k=(m-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){k=(m-i)/(this.max-this.min)*(this.max-this.value-this.min)}k=Math.round(k);if(k<0){k=0}if(this.vertical){var j=m-k-i;if(j<0){j=0}e[0].style.height=j+"px";n[0].style.height=k+"px";this._setElementTopPosition(n,l);this._setElementTopPosition(o,l+k);this._setElementTopPosition(e,l+k+d)}else{n[0].style.width=k+"px";e[0].style.width=m-k-i+"px";this._setElementLeftPosition(n,l);this._setElementLeftPosition(o,l+k);this._setElementLeftPosition(e,2+l+k+d)}},_arrange:function(){if(this._initialLayout){this._initialLayout=false;return}var d=this.element;var g=this.areaUp;var q=this.areaDown;var c=this.btnUp;var k=this.btnDown;var r=this.btnThumb;var n=this.scrollWrap;var l=parseInt(this.element.style.height);var o=parseInt(this.element.style.width);if(isNaN(l)){l=0}if(isNaN(o)){o=0}this._width=o;this._height=l;var b=(!this.vertical)?l:o;if(!this.showButtons){b=0}c[0].style.width=b+"px";c[0].style.height=b+"px";k[0].style.width=b+"px";k[0].style.height=b+"px";if(this.vertical){n[0].style.width=o+2+"px"}else{n[0].style.height=l+2+"px"}this._setElementPosition(c,0,0);if(this.vertical){this._setElementPosition(k,0,l-k.outerHeight())}else{this._setElementPosition(k,o-k.outerWidth(),0)}var e=(!this.vertical)?o:l;this.scrollBarSize=e;var h=this._getThumbSize(e-2*b);h=Math.round(h);if(h<this.thumbMinSize){h=this.thumbMinSize}var m=false;if(this.isTouchDevice&&this.touchModeStyle!=false){m=true}if(!this.vertical){r[0].style.width=h+"px";r[0].style.height=l+"px";if(m){r.css({height:this.thumbTouchSize+"px"});r.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)}}else{r[0].style.width=o+"px";r[0].style.height=h+"px";if(m){r.css({width:this.thumbTouchSize+"px"});r.css("margin-left",(this.host.width()-this.thumbTouchSize)/2)}}if(l==NaN||l<10){l=10}if(o==NaN||o<10){o=10}b+=2;this.btnSize=b;var f=(this.vertical)?2*this.btnSize+(2+parseInt(r[0].style.height)):2*this.btnSize+(2+parseInt(r[0].style.width));f=Math.round(f);this._btnAndThumbSize=f;var t=(e-f)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){t=(e-f)/(this.max-this.min)*(this.max-this.value-this.min)}t=Math.round(t);if(t===-Infinity||t==Infinity){t=0}if(isNaN(t)){t=0}if(t<0){t=0}if(this.vertical){var s=(e-t-f);if(s<0){s=0}q[0].style.height=s+"px";q[0].style.width=o+"px";g[0].style.height=t+"px";g[0].style.width=o+"px";var i=parseInt(this.host.height());r[0].style.visibility="inherit";if(i-3*parseInt(b)<0){r[0].style.visibility="hidden"}else{if(i<f){r[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){r[0].style.visibility="inherit"}}}this._setElementPosition(g,0,b);this._setElementPosition(r,0,b+t);this._setElementPosition(q,0,b+t+h)}else{if(t>0){g[0].style.width=t+"px"}if(l>0){g[0].style.height=l+"px"}var j=(e-t-f);if(j<0){j=0}q[0].style.width=j+"px";q[0].style.height=l+"px";var p=parseInt(this.host.width());r[0].style.visibility="inherit";if(p-3*parseInt(b)<0){r[0].style.visibility="hidden"}else{if(p<f){r[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){r[0].style.visibility="inherit"}}}this._setElementPosition(g,b,0);this._setElementPosition(r,b+t,0);this._setElementPosition(q,2+b+t+h,0)}}})})(jQuery);